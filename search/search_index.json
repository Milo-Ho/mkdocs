{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"todo list \u00b6 \u6574\u7406 markdown\u8bed\u6cd5 \u6574\u7406 mkdocs\u8bed\u6cd5 \u6574\u7406 supervisor\u8bed\u6cd5 \u6574\u7406Python six.py test optional explicit title within double quotes Any number of other indented markdown elements. This is the second paragraph. Note this is note Don't try this at home ... attention attention caution caution error error danger danger hint hint important important note note tip tip warning warning unknown ... :command: supervisord Command-Line Options","title":"Home"},{"location":"#td_list","text":"\u6574\u7406 markdown\u8bed\u6cd5 \u6574\u7406 mkdocs\u8bed\u6cd5 \u6574\u7406 supervisor\u8bed\u6cd5 \u6574\u7406Python six.py test optional explicit title within double quotes Any number of other indented markdown elements. This is the second paragraph. Note this is note Don't try this at home ... attention attention caution caution error error danger danger hint hint important important note note tip tip warning warning unknown ... :command: supervisord Command-Line Options","title":"todo list"},{"location":"docker/","text":"Install \u00b6 Install Docker for Windows \u00b6 Install Docker for MacOS \u00b6 Install Docker for Linux \u00b6","title":"Install"},{"location":"docker/#install","text":"","title":"Install"},{"location":"docker/#install-docker-for-windows","text":"","title":"Install Docker for Windows"},{"location":"docker/#install-docker-for-macos","text":"","title":"Install Docker for MacOS"},{"location":"docker/#install-docker-for-linux","text":"","title":"Install Docker for Linux"},{"location":"docker_0/","text":"Docker\u5728\u5f53\u524d\u73af\u5883\u4e0b\u7684\u7b80\u5355\u4f7f\u7528 \u00b6 \u573a\u666f \u00b6 python\u5e93\u5b58\u5728\u57fa\u4e8e**ftncl**\u51fd\u6570\u7684\u6587\u4ef6\u52a0\u9501\u8c03\u7528\uff0c\u5bfc\u81f4\u5728**windows**\u4e2d\u6784\u5efa\u9879\u76ee\u5931\u8d25\uff1b \u5171\u4eab\u7684\u5f00\u53d1\u73af\u5883\u4e0d\u4fbf\u4e8e\u8fdb\u884c\u9891\u7e41\u7684\u8c03\u8bd5 \u4fdd\u8bc1\u5f00\u53d1\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u5b8c\u5168\u4e00\u81f4\uff0c\u9694\u7edd\u5e73\u53f0\u548c\u7f51\u7edc\u7684\u5dee\u5f02 Docker\u4e0e\u865a\u62df\u673a\u7684\u9009\u62e9 \u00b6 Docker\u542f\u52a8\u901f\u5ea6\u4f18\u4e8e\u865a\u62df\u673a Docker\u955c\u50cf\u5b89\u88c5\u4fbf\u4e8e\u865a\u62df\u673a\u7684\u5e94\u7528\u7a0b\u5e8f\u5b89\u88c5\uff0c\u4e0d\u9700\u8981\u7f16\u8bd1\u5b89\u88c5\u7684\u540c\u65f6\uff0c\u6446\u8131\u5e94\u7528\u7a0b\u5e8f\u4e0b\u5404\u79cd\u4f9d\u8d56\u7684\u5904\u7406,\u8d44\u6e90\u76f8\u5bf9\u4e30\u5bcc\uff0c\u5b58\u5728\u5404\u79cd\u5b8c\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u5982nginx\u3001mysql\u3001redis\u3001mongodb...\uff09 Docker\u4e2d\u5404\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u5b8c\u5168\u72ec\u7acb\uff0c\u62e5\u6709\u5404\u79cd\u7684\u8f7b\u91cf\u7ea7\u7684\u5185\u6838\u7cfb\u7edf Docker\u5b58\u5728\u7684\u90e8\u5206\u95ee\u9898 \u00b6 Docker\u5728window10\u4e2d\u4f1a\u81ea\u52a8\u9009\u62e9 Hyper-V \uff0c\u4f46\u662f\u5728\u8be5\u6a21\u5f0f\u4e0b\u865a\u62df\u673a\u7684\u4f7f\u7528\uff08\u5982\u5b89\u5353\u6a21\u62df\u5668\uff09\u4f1a\u76f4\u63a5\u9020\u6210\u7535\u8111\u84dd\u5c4f\uff0c\u9700\u8981\u5728\u5173\u95edHyper-V\u9009\u9879\u540e\uff0c**\u91cd\u542f**\u624d\u80fd\u8fd0\u884c\u865a\u62df\u673a\uff08\u5b89\u5353\u6a21\u62df\u5668\uff09 Docker\u955c\u50cf\u6e90\u5730\u5740\u5728\u6d77\u5916\uff0c\u9700\u8981\u7ffb\u5899\uff08\u53ef\u4ee5\u901a\u8fc7\u56fd\u5185\u7f51\u6613\u3001\u963f\u91cc\u3001\u7f51\u6613\u955c\u50cf\u6e90\u89e3\u51b3\uff09 Docker\u5728windows\u4e0b\u7684GUI\u4e5f\u9700\u8981\u8bbf\u95eeDocker\u6d77\u5916\u7f51\u7ad9\uff0c\u6240\u4ee5\u66f4\u591a\u7684\u662f\u901a\u8fc7\u547d\u4ee4\u53bb\u6267\u884cDocker\u64cd\u4f5c\uff0c\u5bf9\u65b0\u624b\u4e0d\u53cb\u597d Docker\u5b89\u88c5 \u00b6 windows\u5b89\u88c5\u65b9\u5f0f mac\u5b89\u88c5\u65b9\u5f0f linux\u5b89\u88c5\u65b9\u5f0f Docker\u64cd\u4f5c \u00b6 \u4e00\u3001Docker\u8fd0\u884c\u955c\u50cf \u00b6 \u5e38\u89c1\u547d\u4ee4 \u00b6 docker images \u663e\u793a\u672c\u673a\u7684\u955c\u50cf\u6587\u4ef6 docker search IMAGE \u4ed3\u5e93\u641c\u7d22\u955c\u50cf\u6587\u4ef6 docker pull IMAGE \u62c9\u53d6\u955c\u50cf\u6587\u4ef6 docker stop IMAGE \u505c\u6b62\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668 docker rm IMAGE \u79fb\u9664\u5bb9\u5668 docker ps -a \u663e\u793a\u5f53\u524d\u52a0\u8f7d\u4e2d\u7684\u6240\u6709\u5bb9\u5668\uff08-a \u8868\u793a\u5305\u62ec\u8fd0\u884c\u4e2d\u548c\u505c\u6b62\u72b6\u6001\uff09 docker inspect \u663e\u793a\u5bb9\u5668\u8be6\u7ec6\u7684\u914d\u7f6e\u4fe1\u606f docker run -i \u5141\u8bb8\u4f60\u5bf9\u5bb9\u5668\u5185\u7684\u6807\u51c6\u8f93\u5165 (STDIN) \u8fdb\u884c\u4ea4\u4e92\u3002 -t \u5728\u65b0\u5bb9\u5668\u5185\u6307\u5b9a\u4e00\u4e2a\u4f2a\u7ec8\u7aef\u6216\u7ec8\u7aef\u3002 -p \u7aef\u53e3\u6307\u5b9a\u6620\u5c04 -d daemon\u540e\u53f0\u8fd0\u884c -v \u672c\u5730\u6302\u8f7d\u6587\u4ef6 -P \u5185\u90e8\u7aef\u53e3\u968f\u673a\u6620\u5c04\u5230\u672c\u673a -e \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf --link \u8fde\u63a5\u5916\u90e8\u5bb9\u5668\uff08\u5982mysql\u3001redis\u3001nginx\u7b49\uff09 \u4e8c\u3001\u5236\u4f5c\u9879\u76ee\u955c\u50cf \u00b6 \u8fd9\u91cc\u5c06mysql redis mongodb nginx\u5206\u5f00\uff0c\u4e0d\u91c7\u7528\u591a\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5171\u7528\u540c\u4e00\u4e2a\u5bb9\u5668\uff0c\u5bb9\u5668\u4e4b\u95f4\u901a\u8fc7--link\u547d\u4ee4\u901a\u4fe1\uff0c\u5404\u81ea\u5b8c\u5168\u72ec\u7acb \u901a\u8fc7docker pull \u547d\u4ee4\u5b89\u88c5mysql redis mongodb \u8fd9\u91cc\u4ee5pyq_web\u4e3a\u4f8b\uff0c\u521b\u5efa\u5e76\u8fd0\u884c\u8be5\u9879\u76ee docker-compose.yml version: \"3\" services: web: build: ./pyq_web # links: # - mysql # - redis #ports: # - \"8000:8000\" # volumes: # - ./pyq_web:/data command: - cd /data && python manage.py run server 8000 dockerfile #\u57fa\u7840\u955c\u50cf FROM daocloud.io/python:2.7 #app\u6240\u5728\u76ee\u5f55 WORKDIR /data #\u5c06\u76ee\u5f55\u52a0\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d ADD . /data #\u66b4\u9732\u7aef\u53e3 EXPOSE 8000 #\u5b89\u88c5app\u6240\u9700\u4f9d\u8d56 RUN pip install --no-cache-dir -r requirements.txt -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com RUN mkdir -p /data/logs \u6253\u5305 docker-compose build \u8fd0\u884c # \u542f\u52a8mysql docker run --name mysql -p 3306 :3306 -p 33060 :33060 -d -e MYSQL_ALLOW_EMPTY_PASSWORD = true mysql # \u542f\u52a8python\u7a0b\u5e8f # docker_web\u662f\u6211\u5236\u4f5c\u7684\u955c\u50cf\u540d # -p -v \u53ef\u4ee5\u5728yml\u4e2d\u56fa\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4fee\u6539 # -v\u76f8\u5f53\u4e8e\u5171\u4eab\u672c\u5730\u7684\u6e90\u7801\u6587\u4ef6\u5939 # /bin/bash \u662f\u8fd0\u884c\u7ec8\u7aef\u547d\u4ee4 docker run -it --link mysql:mysql -p 8000 :8000 -v ./pyq_web:/data docker_web /bin/bash # \u8fdb\u5165\u5bb9\u5668\u540e\u9ed8\u8ba4\u5728/data\u76ee\u5f55 python manage.py makemigrations python manage.py migrations python manage.py runserver 8000 \u8fd9\u6837\u5c31\u53ef\u4ee5\u5feb\u4e50\u7684\u5728windows\u4e0a\u4fee\u6539\u4ee3\u7801\uff0c\u5728docker\u5bb9\u5668\u4e2d\u8fd0\u884c\u9879\u76eedebug\u4e86 \u95ee\u9898 \u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25 bpymysql.err.OperationalError: (2003, \u201cCan\u2019t connect to MySQL server on \u2018127.0.0.1\u2019\u201d) \u65b9\u6848\uff1a\u6570\u636e\u5e93ip\u5730\u5740\u9519\u8bef,\u5c06settings.py\u4e2dip\u5730\u5740\u8bbe\u7f6e\u6210\u672c\u673aip # # makemigrations # # https://docs.djangoproject.com/en/1.6/ref/settings/#databases # DB_HOST = '192.168.100.22' # DB_PASSWORD = 'bigworld' # DB_PORT = '3306' # DB_USER = 'vpoker' # DB_HOST = '127.0.0.1' DB_HOST = '192.168.100.162' DB_PASSWORD = '' # DB_PASSWORD = '123456' DB_PORT = '3306' DB_USER = 'root' \u8fde\u63a5\u6570\u636e\u5e93\u62a5\u9519 File \"/usr/local/lib/python2.7/site-packages/pymysql/connections.py\", line 1233, in _get_server_information self.server_charset = charset_by_id(lang).name File \"/usr/local/lib/python2.7/site-packages/pymysql/charset.py\", line 34, in by_id return self._by_id[id] KeyError: 255 \u65b9\u6848\uff1a\u4e3b\u8981\u539f\u56e0\u662fMySQL8.0\u66f4\u65b0\u4e86\u5f88\u591a\u5b57\u7b26\u96c6\uff0c\u4f46\u662f\u8fd9\u4e9b\u5b57\u7b26\u96c6\u957f\u5ea6\u8d85\u8fc7255\u4e86\uff0c\u6240\u4ee5\u65e7\u7248\u7684PyMySQL\u4e0d\u652f\u6301\u957f\u5ea6\u8d85\u8fc7255\u7684\u5b57\u7b26 pip install --upgrade PyMySQL \u4f7f\u7528\u5236\u5b9a\u7248\u672c\u7684mysql\u5bb9\u5668 \u6570\u636e\u5e93\u4e0d\u5b58\u5728 \u65b9\u6848\uff1acreate database DATABASE","title":"Docker"},{"location":"docker_0/#docker","text":"","title":"Docker\u5728\u5f53\u524d\u73af\u5883\u4e0b\u7684\u7b80\u5355\u4f7f\u7528"},{"location":"docker_0/#_1","text":"python\u5e93\u5b58\u5728\u57fa\u4e8e**ftncl**\u51fd\u6570\u7684\u6587\u4ef6\u52a0\u9501\u8c03\u7528\uff0c\u5bfc\u81f4\u5728**windows**\u4e2d\u6784\u5efa\u9879\u76ee\u5931\u8d25\uff1b \u5171\u4eab\u7684\u5f00\u53d1\u73af\u5883\u4e0d\u4fbf\u4e8e\u8fdb\u884c\u9891\u7e41\u7684\u8c03\u8bd5 \u4fdd\u8bc1\u5f00\u53d1\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u5b8c\u5168\u4e00\u81f4\uff0c\u9694\u7edd\u5e73\u53f0\u548c\u7f51\u7edc\u7684\u5dee\u5f02","title":"\u573a\u666f"},{"location":"docker_0/#docker_1","text":"Docker\u542f\u52a8\u901f\u5ea6\u4f18\u4e8e\u865a\u62df\u673a Docker\u955c\u50cf\u5b89\u88c5\u4fbf\u4e8e\u865a\u62df\u673a\u7684\u5e94\u7528\u7a0b\u5e8f\u5b89\u88c5\uff0c\u4e0d\u9700\u8981\u7f16\u8bd1\u5b89\u88c5\u7684\u540c\u65f6\uff0c\u6446\u8131\u5e94\u7528\u7a0b\u5e8f\u4e0b\u5404\u79cd\u4f9d\u8d56\u7684\u5904\u7406,\u8d44\u6e90\u76f8\u5bf9\u4e30\u5bcc\uff0c\u5b58\u5728\u5404\u79cd\u5b8c\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u5982nginx\u3001mysql\u3001redis\u3001mongodb...\uff09 Docker\u4e2d\u5404\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u5b8c\u5168\u72ec\u7acb\uff0c\u62e5\u6709\u5404\u79cd\u7684\u8f7b\u91cf\u7ea7\u7684\u5185\u6838\u7cfb\u7edf","title":"Docker\u4e0e\u865a\u62df\u673a\u7684\u9009\u62e9"},{"location":"docker_0/#docker_2","text":"Docker\u5728window10\u4e2d\u4f1a\u81ea\u52a8\u9009\u62e9 Hyper-V \uff0c\u4f46\u662f\u5728\u8be5\u6a21\u5f0f\u4e0b\u865a\u62df\u673a\u7684\u4f7f\u7528\uff08\u5982\u5b89\u5353\u6a21\u62df\u5668\uff09\u4f1a\u76f4\u63a5\u9020\u6210\u7535\u8111\u84dd\u5c4f\uff0c\u9700\u8981\u5728\u5173\u95edHyper-V\u9009\u9879\u540e\uff0c**\u91cd\u542f**\u624d\u80fd\u8fd0\u884c\u865a\u62df\u673a\uff08\u5b89\u5353\u6a21\u62df\u5668\uff09 Docker\u955c\u50cf\u6e90\u5730\u5740\u5728\u6d77\u5916\uff0c\u9700\u8981\u7ffb\u5899\uff08\u53ef\u4ee5\u901a\u8fc7\u56fd\u5185\u7f51\u6613\u3001\u963f\u91cc\u3001\u7f51\u6613\u955c\u50cf\u6e90\u89e3\u51b3\uff09 Docker\u5728windows\u4e0b\u7684GUI\u4e5f\u9700\u8981\u8bbf\u95eeDocker\u6d77\u5916\u7f51\u7ad9\uff0c\u6240\u4ee5\u66f4\u591a\u7684\u662f\u901a\u8fc7\u547d\u4ee4\u53bb\u6267\u884cDocker\u64cd\u4f5c\uff0c\u5bf9\u65b0\u624b\u4e0d\u53cb\u597d","title":"Docker\u5b58\u5728\u7684\u90e8\u5206\u95ee\u9898"},{"location":"docker_0/#docker_3","text":"windows\u5b89\u88c5\u65b9\u5f0f mac\u5b89\u88c5\u65b9\u5f0f linux\u5b89\u88c5\u65b9\u5f0f","title":"Docker\u5b89\u88c5"},{"location":"docker_0/#docker_4","text":"","title":"Docker\u64cd\u4f5c"},{"location":"docker_0/#docker_5","text":"","title":"\u4e00\u3001Docker\u8fd0\u884c\u955c\u50cf"},{"location":"docker_0/#_2","text":"docker images \u663e\u793a\u672c\u673a\u7684\u955c\u50cf\u6587\u4ef6 docker search IMAGE \u4ed3\u5e93\u641c\u7d22\u955c\u50cf\u6587\u4ef6 docker pull IMAGE \u62c9\u53d6\u955c\u50cf\u6587\u4ef6 docker stop IMAGE \u505c\u6b62\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668 docker rm IMAGE \u79fb\u9664\u5bb9\u5668 docker ps -a \u663e\u793a\u5f53\u524d\u52a0\u8f7d\u4e2d\u7684\u6240\u6709\u5bb9\u5668\uff08-a \u8868\u793a\u5305\u62ec\u8fd0\u884c\u4e2d\u548c\u505c\u6b62\u72b6\u6001\uff09 docker inspect \u663e\u793a\u5bb9\u5668\u8be6\u7ec6\u7684\u914d\u7f6e\u4fe1\u606f docker run -i \u5141\u8bb8\u4f60\u5bf9\u5bb9\u5668\u5185\u7684\u6807\u51c6\u8f93\u5165 (STDIN) \u8fdb\u884c\u4ea4\u4e92\u3002 -t \u5728\u65b0\u5bb9\u5668\u5185\u6307\u5b9a\u4e00\u4e2a\u4f2a\u7ec8\u7aef\u6216\u7ec8\u7aef\u3002 -p \u7aef\u53e3\u6307\u5b9a\u6620\u5c04 -d daemon\u540e\u53f0\u8fd0\u884c -v \u672c\u5730\u6302\u8f7d\u6587\u4ef6 -P \u5185\u90e8\u7aef\u53e3\u968f\u673a\u6620\u5c04\u5230\u672c\u673a -e \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf --link \u8fde\u63a5\u5916\u90e8\u5bb9\u5668\uff08\u5982mysql\u3001redis\u3001nginx\u7b49\uff09","title":"\u5e38\u89c1\u547d\u4ee4"},{"location":"docker_0/#_3","text":"\u8fd9\u91cc\u5c06mysql redis mongodb nginx\u5206\u5f00\uff0c\u4e0d\u91c7\u7528\u591a\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5171\u7528\u540c\u4e00\u4e2a\u5bb9\u5668\uff0c\u5bb9\u5668\u4e4b\u95f4\u901a\u8fc7--link\u547d\u4ee4\u901a\u4fe1\uff0c\u5404\u81ea\u5b8c\u5168\u72ec\u7acb \u901a\u8fc7docker pull \u547d\u4ee4\u5b89\u88c5mysql redis mongodb \u8fd9\u91cc\u4ee5pyq_web\u4e3a\u4f8b\uff0c\u521b\u5efa\u5e76\u8fd0\u884c\u8be5\u9879\u76ee docker-compose.yml version: \"3\" services: web: build: ./pyq_web # links: # - mysql # - redis #ports: # - \"8000:8000\" # volumes: # - ./pyq_web:/data command: - cd /data && python manage.py run server 8000 dockerfile #\u57fa\u7840\u955c\u50cf FROM daocloud.io/python:2.7 #app\u6240\u5728\u76ee\u5f55 WORKDIR /data #\u5c06\u76ee\u5f55\u52a0\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d ADD . /data #\u66b4\u9732\u7aef\u53e3 EXPOSE 8000 #\u5b89\u88c5app\u6240\u9700\u4f9d\u8d56 RUN pip install --no-cache-dir -r requirements.txt -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com RUN mkdir -p /data/logs \u6253\u5305 docker-compose build \u8fd0\u884c # \u542f\u52a8mysql docker run --name mysql -p 3306 :3306 -p 33060 :33060 -d -e MYSQL_ALLOW_EMPTY_PASSWORD = true mysql # \u542f\u52a8python\u7a0b\u5e8f # docker_web\u662f\u6211\u5236\u4f5c\u7684\u955c\u50cf\u540d # -p -v \u53ef\u4ee5\u5728yml\u4e2d\u56fa\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4fee\u6539 # -v\u76f8\u5f53\u4e8e\u5171\u4eab\u672c\u5730\u7684\u6e90\u7801\u6587\u4ef6\u5939 # /bin/bash \u662f\u8fd0\u884c\u7ec8\u7aef\u547d\u4ee4 docker run -it --link mysql:mysql -p 8000 :8000 -v ./pyq_web:/data docker_web /bin/bash # \u8fdb\u5165\u5bb9\u5668\u540e\u9ed8\u8ba4\u5728/data\u76ee\u5f55 python manage.py makemigrations python manage.py migrations python manage.py runserver 8000 \u8fd9\u6837\u5c31\u53ef\u4ee5\u5feb\u4e50\u7684\u5728windows\u4e0a\u4fee\u6539\u4ee3\u7801\uff0c\u5728docker\u5bb9\u5668\u4e2d\u8fd0\u884c\u9879\u76eedebug\u4e86 \u95ee\u9898 \u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25 bpymysql.err.OperationalError: (2003, \u201cCan\u2019t connect to MySQL server on \u2018127.0.0.1\u2019\u201d) \u65b9\u6848\uff1a\u6570\u636e\u5e93ip\u5730\u5740\u9519\u8bef,\u5c06settings.py\u4e2dip\u5730\u5740\u8bbe\u7f6e\u6210\u672c\u673aip # # makemigrations # # https://docs.djangoproject.com/en/1.6/ref/settings/#databases # DB_HOST = '192.168.100.22' # DB_PASSWORD = 'bigworld' # DB_PORT = '3306' # DB_USER = 'vpoker' # DB_HOST = '127.0.0.1' DB_HOST = '192.168.100.162' DB_PASSWORD = '' # DB_PASSWORD = '123456' DB_PORT = '3306' DB_USER = 'root' \u8fde\u63a5\u6570\u636e\u5e93\u62a5\u9519 File \"/usr/local/lib/python2.7/site-packages/pymysql/connections.py\", line 1233, in _get_server_information self.server_charset = charset_by_id(lang).name File \"/usr/local/lib/python2.7/site-packages/pymysql/charset.py\", line 34, in by_id return self._by_id[id] KeyError: 255 \u65b9\u6848\uff1a\u4e3b\u8981\u539f\u56e0\u662fMySQL8.0\u66f4\u65b0\u4e86\u5f88\u591a\u5b57\u7b26\u96c6\uff0c\u4f46\u662f\u8fd9\u4e9b\u5b57\u7b26\u96c6\u957f\u5ea6\u8d85\u8fc7255\u4e86\uff0c\u6240\u4ee5\u65e7\u7248\u7684PyMySQL\u4e0d\u652f\u6301\u957f\u5ea6\u8d85\u8fc7255\u7684\u5b57\u7b26 pip install --upgrade PyMySQL \u4f7f\u7528\u5236\u5b9a\u7248\u672c\u7684mysql\u5bb9\u5668 \u6570\u636e\u5e93\u4e0d\u5b58\u5728 \u65b9\u6848\uff1acreate database DATABASE","title":"\u4e8c\u3001\u5236\u4f5c\u9879\u76ee\u955c\u50cf"},{"location":"markdown/","text":"","title":"Markdown"},{"location":"bash/prompt/","text":"\u7ec8\u7aef\u53ef\u4ee5\u8bf4\u662f\u5728Linux\u7684\u4f7f\u7528\u4e2d\u6700\u5e38\u7528\u5230\u7684\u5de5\u5177\u4e86\uff0c\u901a\u8fc7\u8bbe\u7f6ePS1,PS2,PS3,PS4\u8fd9\u56db\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4e2a\u6027\u5316\u5b9a\u5236\u7ec8\u7aef\u7684\u63d0\u793a\u7b26\u3002 \u4e00\u3001PS1\uff1a\u9ed8\u8ba4\u7684\u4ea4\u4e92\u63d0\u793a\u7b26 \u00b6 1. \u4e86\u89e3PS1 \u00b6 PS1\u662fLinux\u7ec8\u7aef\u7528\u6237\u7684\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u7528\u6765\u5b9a\u4e49\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u7684\u53c2\u6570\u3002 \u5728\u7ec8\u7aef\u8f93\u5165\u547d\u4ee4 echo $PS1 \uff0c\u53ef\u5f97\u5230\u5f53\u524dPS1\u7684\u5b9a\u4e49\u503c\uff1a $ echo $PS1 \\e [ 36 ; 1m \\u\\e [ 0m@ \\e [ 33 ; 1m \\h\\e [ 0m \\e [ 35 ; 1m \\t\\e [ 0m: \\e [ 31 ; 1m \\w\\e [ 0m \\n $ PS1\u7684\u5e38\u7528\u53c2\u6570\u4ee5\u53ca\u542b\u4e49: \u00b6 \u53c2\u6570 | \u542b\u4e49 :---:|:---| \\d | \u4ee3\u8868\u65e5\u671f\uff0c\u683c\u5f0f\u4e3aweekday month date\uff0c\u4f8b\u5982\uff1a\"Mon Aug 1\" \\H | \u5b8c\u6574\u7684\u4e3b\u673a\u540d\u79f0 \\h | \u4ec5\u53d6\u4e3b\u673a\u540d\u4e2d\u7684\u7b2c\u4e00\u4e2a\u540d\u5b57 \\t | \u663e\u793a\u65f6\u95f4\u4e3a24\u5c0f\u65f6\u683c\u5f0f\uff0c\u5982\uff1aHH\uff1aMM\uff1aSS \\T | \u663e\u793a\u65f6\u95f4\u4e3a12\u5c0f\u65f6\u683c\u5f0f \\A | \u663e\u793a\u65f6\u95f4\u4e3a24\u5c0f\u65f6\u683c\u5f0f\uff1aHH\uff1aMM \\u | \u5f53\u524d\u7528\u6237\u7684\u8d26\u53f7\u540d\u79f0 \\v | BASH\u7684\u7248\u672c\u4fe1\u606f \\w | \u5b8c\u6574\u7684\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0 \\W | \u5229\u7528basename\u53d6\u5f97\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0\uff0c\u53ea\u663e\u793a\u6700\u540e\u4e00\u4e2a\u76ee\u5f55\u540d \\# | \u4e0b\u8fbe\u7684\u7b2c\u51e0\u4e2a\u547d\u4ee4 \\$ | \u63d0\u793a\u5b57\u7b26\uff0c\u5982\u679c\u662froot\u7528\u6237\uff0c\u63d0\u793a\u7b26\u4e3a # \uff0c\u666e\u901a\u7528\u6237\u5219\u4e3a $ PS1='\\u@\\h \\t:\\w\\n$ ' \u7684\u610f\u601d\u5c31\u662f\uff1a # [\u5f53\u524d\u7528\u6237\u7684\u8d26\u53f7\u540d\u79f0]@[\u4e3b\u673a\u540d\u7684\u7b2c\u4e00\u4e2a\u540d\u5b57] [24\u5c0f\u65f6\u683c\u5f0f\u7684\u65f6\u95f4]:[\u5b8c\u6574\u7684\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0][\u6362\u884c][$] milo@AppledeMacBook-Pro 14 :36:54:~ $ 2. \u989c\u8272\u8bbe\u7f6e\u53c2\u6570 \u00b6 \u5728PS1\u4e2d\u8bbe\u7f6e\u5b57\u7b26\u989c\u8272\u7684\u683c\u5f0f\u4e3a\uff1a \\e[F;Bm \uff1b \u5176\u4e2d\"F\"\u4e3a\u5b57\u4f53\u989c\u8272\uff0c\u7f16\u53f7\u4e3a30-37\uff0c\"B\"\u4e3a\u80cc\u666f\u989c\u8272\uff0c\u7f16\u53f7\u4e3a40-47\uff1b \u5f53\"B\"\u7f16\u53f7\u4e3a0-8\u65f6\u6709\u7279\u6b8a\u542b\u4e49\uff1b \\e\u4e5f\u53ef\u4ee5\u7528\\033\u4ee3\u66ff\uff1b \u989c\u8272\u5bf9\u7167\u8868\uff1a \u00b6 F B \u989c\u8272 30 40 \u9ed1\u8272 31 41 \u7ea2\u8272 32 42 \u7eff\u8272 33 43 \u9ec4\u8272 34 44 \u84dd\u8272 35 45 \u7d2b\u7ea2\u8272 36 46 \u9752\u84dd\u8272 37 47 \u767d\u8272 / 0 OFF / 1 \u9ad8\u4eae\u663e\u793a / 4 underline / 5 \u95ea\u70c1 / 7 \u53cd\u767d\u663e\u793a / 8 \u4e0d\u53ef\u89c1 \u4ee5\u4e0b\u662f\u6211\u4e2a\u4eba\u7684\u683c\u5f0f PS1 = \"\\ e [ 36 ; 1 m \\ u \\ e [ 0 m @ \\ e [ 33 ; 1 m \\ h \\ e [ 0 m \\ e [ 35 ; 1 m \\ t \\ e [ 0 m : \\ e [ 31 ; 1 m \\ w \\ e [ 0 m \\ n $ \" 3. \u4fee\u6539.bashrc\u6587\u4ef6\uff0c\u6c38\u4e45\u4fdd\u5b58\u547d\u4ee4\u884c\u6837\u5f0f \u00b6 \u7f16\u8f91.bashrc\uff1a vim ~/.bashrc \u5728\u6587\u4ef6\u672b\u5c3e\u52a0\u5165\uff1a export PS1 = \"\\ e [ 36 ; 1 m \\ u \\ e [ 0 m @ \\ e [ 33 ; 1 m \\ h \\ e [ 0 m \\ e [ 35 ; 1 m \\ t \\ e [ 0 m : \\ e [ 31 ; 1 m \\ w \\ e [ 0 m \\ n $ \" \u4fdd\u5b58\u9000\u51fa \u91cd\u65b0\u52a0\u8f7dbash\u914d\u7f6e\u6587\u4ef6: source ~/.bashrc \u5c31\u53ef\u4ee5\u6c38\u4e45\u751f\u6548 \u4e8c\u3001PS2\uff1a\u591a\u884c\u4ea4\u4e92\u63d0\u793a\u7b26 \u00b6 \u524d\u9762\u6211\u4eec\u8bb2\u4e86\u5f88\u591a\u5173\u4e8ePS1\u53d8\u91cf\u7684\u5c5e\u6027\uff0c\u6211\u4eec\u5728\u5927\u90e8\u5206\u7684\u65f6\u95f4\u90fd\u662f\u548c\u9ed8\u8ba4\u7684\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u6253\u4ea4\u9053\u7684\u3002\u73b0\u5728\u8bb2\u8bb2\u4f7f\u7528\u8f83\u5c11\u7684PS2\u53d8\u91cf\u3002 \u5f53\u6211\u4eec\u7684\u8f93\u5165\u4e00\u4e2a\u8d85\u8fc7\u4e00\u884c\u7684\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201c\\\u201d\u7b26\u53f7\u5c06\u547d\u4ee4\u5206\u5272\u6210\u51e0\u884c\u6765\u6267\u884c\uff0c\u5f53\u4f7f\u7528\u4e86\u2018\\\u2019\u4e4b\u540e\u5728\u7b2c\u4e8c\u884c\u4f1a\u51fa\u73b0\u4e00\u4e2a\u65b0\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ > libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ > libtiff4-dev cmake libswscale-dev libjasper-dev ; \u7b2c\u4e8c\u884c\u5f00\u5934\u7684\u2019>\u2019\u5c31\u662f\u591a\u884c\u63d0\u793a\u7b26\uff08Continuation Interactive Prompt\uff09\uff0c\u8fd9\u4e2a\u63d0\u793a\u7b26\u5c31\u662f\u7531PS2\u53d8\u91cf\u8bbe\u7f6e\u7684\u3002 sunshine@0101 ~ 11 :09 $ export PS2 = \"continue-> \" sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ continue -> libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ continue -> libtiff4-dev cmake libswscale-dev libjasper-dev ; ==PS2\u53d8\u91cf\u4e5f\u652f\u6301PS1\u4e2d\u7684\u5c5e\u6027\uff08\\h,\\t\u7b49\uff09\u4ee5\u53ca\u5404\u79cd\u989c\u8272\u8bbe\u7f6e\u3002== \u4e09\u3001PS3\uff1aselect\u547d\u4ee4\u4f7f\u7528\u7684\u63d0\u793a\u7b26 \u00b6 # select\u547d\u4ee4\u662fbash shell\u63d0\u4f9b\u7684\u4e00\u79cd\u5faa\u73af,\u8bed\u6cd5\u5982\u4e0b\uff1a select varName in list do command1 command2 .... ...... commandN done # \u540c\u65f6\u4e5f\u53ef\u4ee5\u7ed3\u5408case\u547d\u4ee4\uff1a select varName in list do case $varName in pattern1 ) command1 ;; pattern2 ) command2 ;; pattern1 ) command3 ;; * ) echo \"Error select option 1..3\" ;; esac done \u6709\u5173select\u8be6\u7ec6\u7684\u8bed\u6cd5\u89e3\u91ca\u8bf7\u89c1 select loop \u5148\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff1a #!/bin/bash select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\uff0c\u8fd0\u884c\u4e00\u4e0b: sunshine@0101 ~ 14 :44 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit #? 1 Monday \u53ef\u4ee5\u770b\u5230\u63d0\u793a\u6211\u4eec\u9009\u62e9\u7684\u63d0\u793a\u7b26\u53f7\u662f#?\uff0c\u800c\u8fd9\u4e2a\u63d0\u793a\u7b26\u6b63\u662f\u901a\u8fc7PS3(\u9ed8\u8ba4\u4e3a#?)\u8fd9\u4e2a\u53d8\u91cf\u6765\u8bbe\u7f6e\u7684: #!/bin/bash PS3 = \"Select a day (1-4): \" select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\u4e2d\uff0c\u8fd0\u884c sunshine@0101 ~ 14 :44:34 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit select a day ( 1 -4 ) : 1 Monday ==PS3\u4e0d\u652f\u6301PS1\u53d8\u91cf\u4e2d\u7684\u5404\u79cd\u5c5e\u6027\u4ee5\u53ca\u989c\u8272\u7684\u8bbe\u7f6e\u3002== \u56db\u3001PS4\uff1a\u8c03\u8bd5\u8f93\u51fa\u8ffd\u8e2a \u00b6 PS4\u53d8\u91cf\u5b9a\u4e49\u7684\u662f\u5728\u8c03\u8bd5\u72b6\u6001\u4e0b\u6267\u884cshell\u811a\u672c\u65f6\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 14 :44:34 $ cat >ps4.sh set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ++ echo 'Demo script' Demo script ++ ls -l /etc/ ++ wc -l 244 ++ df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 499G 300G 199G 60 % /home/sunhine [ \u5f53\u4f7f\u7528set -x\u8ffd\u8e2a\u8f93\u51fa\u65f6\uff0c\u8fd9\u91cc\u663e\u793a\u7684\u662f\u9ed8\u8ba4\u7684 \"++\" ] \u901a\u8fc7\u8bbe\u7f6ePS4\u53d8\u91cf\u5c31\u53ef\u4ee5\u6539\u53d8\u9ed8\u8ba4\u7684\u201d++\u201d,\u8f93\u51fa\u4e00\u4e9b\u5bf9\u811a\u672c\u8c03\u8bd5\u6709\u7528\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u7684shell\u811a\u672c\u4e2d\u7684\u53d8\u91cf\uff1a $0:\u811a\u672c\u7684\u540d\u5b57 $LINENO:\u663e\u793a\u5f53\u524d\u547d\u4ee4\u5728\u811a\u672c\u4e2d\u7684\u884c\u6570 unshine@0101 ~ 14 :44:34 $ cat >ps4.sh export PS4 = \" $0 $LINENO +: \" set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ../02.ps4.sh 3 +: echo 'Demo script' Demo script ../02.ps4.sh 4 +: ls -l /etc/ ../02.ps4.sh 4 +: wc -l 244 ../02.ps4.sh 5 +: df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 811G 490G 279G 64 % /home/sunshine [ \u53ef\u4ee5\u770b\u5230\u4e4b\u524d\u7684 \"++\" \u5df2\u7ecf\u53d8\u6210\u4e86 \"../02.ps4.sh 5+:\" ,\u5373 { \u811a\u672c\u540d } . { \u884c\u6570 }] \u4f5c\u8005\uff1aecho42 \u6765\u6e90\uff1aCSDN \u539f\u6587\uff1a https://blog.csdn.net/echo42/article/details/29654939 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3a\u535a\u4e3b\u539f\u521b\u6587\u7ae0\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u535a\u6587\u94fe\u63a5\uff01","title":"Prompt"},{"location":"bash/prompt/#ps1","text":"","title":"\u4e00\u3001PS1\uff1a\u9ed8\u8ba4\u7684\u4ea4\u4e92\u63d0\u793a\u7b26"},{"location":"bash/prompt/#1-ps1","text":"PS1\u662fLinux\u7ec8\u7aef\u7528\u6237\u7684\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u7528\u6765\u5b9a\u4e49\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u7684\u53c2\u6570\u3002 \u5728\u7ec8\u7aef\u8f93\u5165\u547d\u4ee4 echo $PS1 \uff0c\u53ef\u5f97\u5230\u5f53\u524dPS1\u7684\u5b9a\u4e49\u503c\uff1a $ echo $PS1 \\e [ 36 ; 1m \\u\\e [ 0m@ \\e [ 33 ; 1m \\h\\e [ 0m \\e [ 35 ; 1m \\t\\e [ 0m: \\e [ 31 ; 1m \\w\\e [ 0m \\n $","title":"1. \u4e86\u89e3PS1"},{"location":"bash/prompt/#ps1_1","text":"\u53c2\u6570 | \u542b\u4e49 :---:|:---| \\d | \u4ee3\u8868\u65e5\u671f\uff0c\u683c\u5f0f\u4e3aweekday month date\uff0c\u4f8b\u5982\uff1a\"Mon Aug 1\" \\H | \u5b8c\u6574\u7684\u4e3b\u673a\u540d\u79f0 \\h | \u4ec5\u53d6\u4e3b\u673a\u540d\u4e2d\u7684\u7b2c\u4e00\u4e2a\u540d\u5b57 \\t | \u663e\u793a\u65f6\u95f4\u4e3a24\u5c0f\u65f6\u683c\u5f0f\uff0c\u5982\uff1aHH\uff1aMM\uff1aSS \\T | \u663e\u793a\u65f6\u95f4\u4e3a12\u5c0f\u65f6\u683c\u5f0f \\A | \u663e\u793a\u65f6\u95f4\u4e3a24\u5c0f\u65f6\u683c\u5f0f\uff1aHH\uff1aMM \\u | \u5f53\u524d\u7528\u6237\u7684\u8d26\u53f7\u540d\u79f0 \\v | BASH\u7684\u7248\u672c\u4fe1\u606f \\w | \u5b8c\u6574\u7684\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0 \\W | \u5229\u7528basename\u53d6\u5f97\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0\uff0c\u53ea\u663e\u793a\u6700\u540e\u4e00\u4e2a\u76ee\u5f55\u540d \\# | \u4e0b\u8fbe\u7684\u7b2c\u51e0\u4e2a\u547d\u4ee4 \\$ | \u63d0\u793a\u5b57\u7b26\uff0c\u5982\u679c\u662froot\u7528\u6237\uff0c\u63d0\u793a\u7b26\u4e3a # \uff0c\u666e\u901a\u7528\u6237\u5219\u4e3a $ PS1='\\u@\\h \\t:\\w\\n$ ' \u7684\u610f\u601d\u5c31\u662f\uff1a # [\u5f53\u524d\u7528\u6237\u7684\u8d26\u53f7\u540d\u79f0]@[\u4e3b\u673a\u540d\u7684\u7b2c\u4e00\u4e2a\u540d\u5b57] [24\u5c0f\u65f6\u683c\u5f0f\u7684\u65f6\u95f4]:[\u5b8c\u6574\u7684\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0][\u6362\u884c][$] milo@AppledeMacBook-Pro 14 :36:54:~ $","title":"PS1\u7684\u5e38\u7528\u53c2\u6570\u4ee5\u53ca\u542b\u4e49:"},{"location":"bash/prompt/#2","text":"\u5728PS1\u4e2d\u8bbe\u7f6e\u5b57\u7b26\u989c\u8272\u7684\u683c\u5f0f\u4e3a\uff1a \\e[F;Bm \uff1b \u5176\u4e2d\"F\"\u4e3a\u5b57\u4f53\u989c\u8272\uff0c\u7f16\u53f7\u4e3a30-37\uff0c\"B\"\u4e3a\u80cc\u666f\u989c\u8272\uff0c\u7f16\u53f7\u4e3a40-47\uff1b \u5f53\"B\"\u7f16\u53f7\u4e3a0-8\u65f6\u6709\u7279\u6b8a\u542b\u4e49\uff1b \\e\u4e5f\u53ef\u4ee5\u7528\\033\u4ee3\u66ff\uff1b","title":"2. \u989c\u8272\u8bbe\u7f6e\u53c2\u6570"},{"location":"bash/prompt/#_1","text":"F B \u989c\u8272 30 40 \u9ed1\u8272 31 41 \u7ea2\u8272 32 42 \u7eff\u8272 33 43 \u9ec4\u8272 34 44 \u84dd\u8272 35 45 \u7d2b\u7ea2\u8272 36 46 \u9752\u84dd\u8272 37 47 \u767d\u8272 / 0 OFF / 1 \u9ad8\u4eae\u663e\u793a / 4 underline / 5 \u95ea\u70c1 / 7 \u53cd\u767d\u663e\u793a / 8 \u4e0d\u53ef\u89c1 \u4ee5\u4e0b\u662f\u6211\u4e2a\u4eba\u7684\u683c\u5f0f PS1 = \"\\ e [ 36 ; 1 m \\ u \\ e [ 0 m @ \\ e [ 33 ; 1 m \\ h \\ e [ 0 m \\ e [ 35 ; 1 m \\ t \\ e [ 0 m : \\ e [ 31 ; 1 m \\ w \\ e [ 0 m \\ n $ \"","title":"\u989c\u8272\u5bf9\u7167\u8868\uff1a"},{"location":"bash/prompt/#3-bashrc","text":"\u7f16\u8f91.bashrc\uff1a vim ~/.bashrc \u5728\u6587\u4ef6\u672b\u5c3e\u52a0\u5165\uff1a export PS1 = \"\\ e [ 36 ; 1 m \\ u \\ e [ 0 m @ \\ e [ 33 ; 1 m \\ h \\ e [ 0 m \\ e [ 35 ; 1 m \\ t \\ e [ 0 m : \\ e [ 31 ; 1 m \\ w \\ e [ 0 m \\ n $ \" \u4fdd\u5b58\u9000\u51fa \u91cd\u65b0\u52a0\u8f7dbash\u914d\u7f6e\u6587\u4ef6: source ~/.bashrc \u5c31\u53ef\u4ee5\u6c38\u4e45\u751f\u6548","title":"3. \u4fee\u6539.bashrc\u6587\u4ef6\uff0c\u6c38\u4e45\u4fdd\u5b58\u547d\u4ee4\u884c\u6837\u5f0f"},{"location":"bash/prompt/#ps2","text":"\u524d\u9762\u6211\u4eec\u8bb2\u4e86\u5f88\u591a\u5173\u4e8ePS1\u53d8\u91cf\u7684\u5c5e\u6027\uff0c\u6211\u4eec\u5728\u5927\u90e8\u5206\u7684\u65f6\u95f4\u90fd\u662f\u548c\u9ed8\u8ba4\u7684\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u6253\u4ea4\u9053\u7684\u3002\u73b0\u5728\u8bb2\u8bb2\u4f7f\u7528\u8f83\u5c11\u7684PS2\u53d8\u91cf\u3002 \u5f53\u6211\u4eec\u7684\u8f93\u5165\u4e00\u4e2a\u8d85\u8fc7\u4e00\u884c\u7684\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201c\\\u201d\u7b26\u53f7\u5c06\u547d\u4ee4\u5206\u5272\u6210\u51e0\u884c\u6765\u6267\u884c\uff0c\u5f53\u4f7f\u7528\u4e86\u2018\\\u2019\u4e4b\u540e\u5728\u7b2c\u4e8c\u884c\u4f1a\u51fa\u73b0\u4e00\u4e2a\u65b0\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ > libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ > libtiff4-dev cmake libswscale-dev libjasper-dev ; \u7b2c\u4e8c\u884c\u5f00\u5934\u7684\u2019>\u2019\u5c31\u662f\u591a\u884c\u63d0\u793a\u7b26\uff08Continuation Interactive Prompt\uff09\uff0c\u8fd9\u4e2a\u63d0\u793a\u7b26\u5c31\u662f\u7531PS2\u53d8\u91cf\u8bbe\u7f6e\u7684\u3002 sunshine@0101 ~ 11 :09 $ export PS2 = \"continue-> \" sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ continue -> libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ continue -> libtiff4-dev cmake libswscale-dev libjasper-dev ; ==PS2\u53d8\u91cf\u4e5f\u652f\u6301PS1\u4e2d\u7684\u5c5e\u6027\uff08\\h,\\t\u7b49\uff09\u4ee5\u53ca\u5404\u79cd\u989c\u8272\u8bbe\u7f6e\u3002==","title":"\u4e8c\u3001PS2\uff1a\u591a\u884c\u4ea4\u4e92\u63d0\u793a\u7b26"},{"location":"bash/prompt/#ps3select","text":"# select\u547d\u4ee4\u662fbash shell\u63d0\u4f9b\u7684\u4e00\u79cd\u5faa\u73af,\u8bed\u6cd5\u5982\u4e0b\uff1a select varName in list do command1 command2 .... ...... commandN done # \u540c\u65f6\u4e5f\u53ef\u4ee5\u7ed3\u5408case\u547d\u4ee4\uff1a select varName in list do case $varName in pattern1 ) command1 ;; pattern2 ) command2 ;; pattern1 ) command3 ;; * ) echo \"Error select option 1..3\" ;; esac done \u6709\u5173select\u8be6\u7ec6\u7684\u8bed\u6cd5\u89e3\u91ca\u8bf7\u89c1 select loop \u5148\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff1a #!/bin/bash select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\uff0c\u8fd0\u884c\u4e00\u4e0b: sunshine@0101 ~ 14 :44 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit #? 1 Monday \u53ef\u4ee5\u770b\u5230\u63d0\u793a\u6211\u4eec\u9009\u62e9\u7684\u63d0\u793a\u7b26\u53f7\u662f#?\uff0c\u800c\u8fd9\u4e2a\u63d0\u793a\u7b26\u6b63\u662f\u901a\u8fc7PS3(\u9ed8\u8ba4\u4e3a#?)\u8fd9\u4e2a\u53d8\u91cf\u6765\u8bbe\u7f6e\u7684: #!/bin/bash PS3 = \"Select a day (1-4): \" select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\u4e2d\uff0c\u8fd0\u884c sunshine@0101 ~ 14 :44:34 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit select a day ( 1 -4 ) : 1 Monday ==PS3\u4e0d\u652f\u6301PS1\u53d8\u91cf\u4e2d\u7684\u5404\u79cd\u5c5e\u6027\u4ee5\u53ca\u989c\u8272\u7684\u8bbe\u7f6e\u3002==","title":"\u4e09\u3001PS3\uff1aselect\u547d\u4ee4\u4f7f\u7528\u7684\u63d0\u793a\u7b26"},{"location":"bash/prompt/#ps4","text":"PS4\u53d8\u91cf\u5b9a\u4e49\u7684\u662f\u5728\u8c03\u8bd5\u72b6\u6001\u4e0b\u6267\u884cshell\u811a\u672c\u65f6\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 14 :44:34 $ cat >ps4.sh set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ++ echo 'Demo script' Demo script ++ ls -l /etc/ ++ wc -l 244 ++ df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 499G 300G 199G 60 % /home/sunhine [ \u5f53\u4f7f\u7528set -x\u8ffd\u8e2a\u8f93\u51fa\u65f6\uff0c\u8fd9\u91cc\u663e\u793a\u7684\u662f\u9ed8\u8ba4\u7684 \"++\" ] \u901a\u8fc7\u8bbe\u7f6ePS4\u53d8\u91cf\u5c31\u53ef\u4ee5\u6539\u53d8\u9ed8\u8ba4\u7684\u201d++\u201d,\u8f93\u51fa\u4e00\u4e9b\u5bf9\u811a\u672c\u8c03\u8bd5\u6709\u7528\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u7684shell\u811a\u672c\u4e2d\u7684\u53d8\u91cf\uff1a $0:\u811a\u672c\u7684\u540d\u5b57 $LINENO:\u663e\u793a\u5f53\u524d\u547d\u4ee4\u5728\u811a\u672c\u4e2d\u7684\u884c\u6570 unshine@0101 ~ 14 :44:34 $ cat >ps4.sh export PS4 = \" $0 $LINENO +: \" set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ../02.ps4.sh 3 +: echo 'Demo script' Demo script ../02.ps4.sh 4 +: ls -l /etc/ ../02.ps4.sh 4 +: wc -l 244 ../02.ps4.sh 5 +: df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 811G 490G 279G 64 % /home/sunshine [ \u53ef\u4ee5\u770b\u5230\u4e4b\u524d\u7684 \"++\" \u5df2\u7ecf\u53d8\u6210\u4e86 \"../02.ps4.sh 5+:\" ,\u5373 { \u811a\u672c\u540d } . { \u884c\u6570 }] \u4f5c\u8005\uff1aecho42 \u6765\u6e90\uff1aCSDN \u539f\u6587\uff1a https://blog.csdn.net/echo42/article/details/29654939 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3a\u535a\u4e3b\u539f\u521b\u6587\u7ae0\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u535a\u6587\u94fe\u63a5\uff01","title":"\u56db\u3001PS4\uff1a\u8c03\u8bd5\u8f93\u51fa\u8ffd\u8e2a"},{"location":"mkdocs/","text":"MkDocs \u00b6 1. Introduction -- \u7b80\u4ecb \u00b6 2. Install -- \u5b89\u88c5 \u00b6 Install with Pip -- \u901a\u8fc7 Pip \u5b89\u88c5 \u00b6 \u4f7f\u7528 pip \u5b89\u88c5\uff1a pip install mkdocs mkdocs-material 3. Deploy to Local Server -- \u90e8\u7f72\u5230\u672c\u5730 \u00b6 3.1. Create a new Project -- \u521b\u5efa\u65b0\u9879\u76ee \u00b6 \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 MkDocs \u9879\u76ee\uff1a mkdocs new my_project \u9879\u76ee\u7684\u6587\u4ef6\u7ed3\u6784\uff1a - my_project/ - mkdocks.yml - docs/ - index.md mkdocs.yml \u662f\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c docs/ \u6587\u4ef6\u5939\u7528\u6765\u5b58\u653e\u4f60\u7684\u6587\u6863\u6e90\u6587\u4ef6\u3002 3.2. Configure -- \u4fee\u6539\u914d\u7f6e \u00b6 \u5728\u4e3b\u914d\u7f6e\u6587\u4ef6 mkdocs.yml \u91cc\u4fee\u6539 MkDocs \u914d\u7f6e\u3002 \u67e5\u770b mkdocs.yml \u8303\u4f8b Theme -- \u4e3b\u9898 \u00b6 theme : name : material Navigation -- \u5bfc\u822a \u00b6 nav : - Home : index.md # - Menu: # - SubMenu1: menu/sub_menu_1.md # - SubMenu2: # - SubMenu3: menu/sub_menu_3.md Extensions -- \u6269\u5c55 \u00b6 markdown_extensions : - admonition - codehilite : guess_lang : false linenums : false - toc : permalink : true - footnotes - meta - def_list - pymdownx.arithmatex - pymdownx.betterem : smart_enable : all - pymdownx.caret - pymdownx.critic - pymdownx.details - pymdownx.emoji : emoji_generator : !!python/name:pymdownx.emoji.to_png - pymdownx.inlinehilite - pymdownx.magiclink - pymdownx.mark - pymdownx.smartsymbols - pymdownx.superfences - pymdownx.tasklist - pymdownx.tilde 3.3. Run MkDocs builtin server -- \u8fd0\u884c\u672c\u5730 mkdocs \u670d\u52a1 \u00b6 mkdocs serve \u8fd9\u65f6\uff0cmkdocs\u5185\u7f6e\u7684\u670d\u52a1\u5668\u5df2\u7ecf\u542f\u52a8\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00 http://127.0.0.1:8000/ \u53ef\u4ee5\u67e5\u770b\u6548\u679c\u3002 4. Deploy to Remote Server -- \u90e8\u7f72\u5230\u8fdc\u7a0b \u00b6 4.1. Deploy to GitHub Pages -- \u53d1\u5e03\u5230 GitHub \u00b6 Add to Repo -- \u6dfb\u52a0\u5230\u4ed3\u5e93 \u00b6 \u5728 GitHub \u521b\u5efa\u4e00\u4e2a repo \u5c06 repo \u540c\u6b65\u5230\u672c\u5730 \u5c06 mkdocs \u6839\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u4e1c\u897f\u79fb\u5230\u672c\u5730git\u76ee\u5f55\u4e0b Deploy to GitHub -- \u53d1\u5e03 \u00b6 \u5728\u672c\u5730 git \u76ee\u5f55\u4e0b\u6267\u884c mkdocs gh-deploy \u542f\u52a8 mkdocs \u670d\u52a1 mkdocs gh-deploy 4.2. Deploy to HTTP Server -- \u53d1\u5e03\u5230 HTTP-Server \u00b6 \u901a\u8fc7 mkdocs build \u7f16\u8bd1\u51fa html \u5e76\u624b\u52a8\u540c\u6b65\u81f3 http server \u7684\u6839\u76ee\u5f55 Generate Site Files -- \u751f\u6210\u7ad9\u70b9\u6587\u4ef6 \u00b6 \u5728 git \u6839\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4\uff1a mkdocs build \u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\u53ef\u4ee5\u770b\u5230 site/ \u76ee\u5f55 Deploy to HTTP-Server -- \u53d1\u5e03 \u00b6 \u5c06 site/ \u76ee\u5f55\u91cc\u7684\u6240\u6709\u4e1c\u897f\u624b\u52a8\u540c\u6b65\u81f3\u81ea\u5df1\u7684 http server \u7684\u6839\u76ee\u5f55","title":"MkDocs"},{"location":"mkdocs/#","text":"","title":"MkDocs"},{"location":"mkdocs/#introduction","text":"","title":"1. Introduction -- \u7b80\u4ecb"},{"location":"mkdocs/#install","text":"","title":"2. Install -- \u5b89\u88c5"},{"location":"mkdocs/#install-with-pip","text":"\u4f7f\u7528 pip \u5b89\u88c5\uff1a pip install mkdocs mkdocs-material","title":"Install with Pip -- \u901a\u8fc7 Pip \u5b89\u88c5"},{"location":"mkdocs/#deploy-to-local","text":"","title":"3. Deploy to Local Server -- \u90e8\u7f72\u5230\u672c\u5730"},{"location":"mkdocs/#mkdocs-new","text":"\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 MkDocs \u9879\u76ee\uff1a mkdocs new my_project \u9879\u76ee\u7684\u6587\u4ef6\u7ed3\u6784\uff1a - my_project/ - mkdocks.yml - docs/ - index.md mkdocs.yml \u662f\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c docs/ \u6587\u4ef6\u5939\u7528\u6765\u5b58\u653e\u4f60\u7684\u6587\u6863\u6e90\u6587\u4ef6\u3002","title":"3.1. Create a new Project -- \u521b\u5efa\u65b0\u9879\u76ee"},{"location":"mkdocs/#configure","text":"\u5728\u4e3b\u914d\u7f6e\u6587\u4ef6 mkdocs.yml \u91cc\u4fee\u6539 MkDocs \u914d\u7f6e\u3002 \u67e5\u770b mkdocs.yml \u8303\u4f8b","title":"3.2. Configure -- \u4fee\u6539\u914d\u7f6e"},{"location":"mkdocs/#theme","text":"theme : name : material","title":"Theme -- \u4e3b\u9898"},{"location":"mkdocs/#navigation","text":"nav : - Home : index.md # - Menu: # - SubMenu1: menu/sub_menu_1.md # - SubMenu2: # - SubMenu3: menu/sub_menu_3.md","title":"Navigation -- \u5bfc\u822a"},{"location":"mkdocs/#extensions","text":"markdown_extensions : - admonition - codehilite : guess_lang : false linenums : false - toc : permalink : true - footnotes - meta - def_list - pymdownx.arithmatex - pymdownx.betterem : smart_enable : all - pymdownx.caret - pymdownx.critic - pymdownx.details - pymdownx.emoji : emoji_generator : !!python/name:pymdownx.emoji.to_png - pymdownx.inlinehilite - pymdownx.magiclink - pymdownx.mark - pymdownx.smartsymbols - pymdownx.superfences - pymdownx.tasklist - pymdownx.tilde","title":"Extensions -- \u6269\u5c55"},{"location":"mkdocs/#mkdocs-serve","text":"mkdocs serve \u8fd9\u65f6\uff0cmkdocs\u5185\u7f6e\u7684\u670d\u52a1\u5668\u5df2\u7ecf\u542f\u52a8\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00 http://127.0.0.1:8000/ \u53ef\u4ee5\u67e5\u770b\u6548\u679c\u3002","title":"3.3. Run MkDocs builtin server -- \u8fd0\u884c\u672c\u5730 mkdocs \u670d\u52a1"},{"location":"mkdocs/#deploy-to-remote","text":"","title":"4. Deploy to Remote Server -- \u90e8\u7f72\u5230\u8fdc\u7a0b"},{"location":"mkdocs/#deploy-to-github","text":"","title":"4.1. Deploy to GitHub Pages -- \u53d1\u5e03\u5230 GitHub"},{"location":"mkdocs/#add-to-repo","text":"\u5728 GitHub \u521b\u5efa\u4e00\u4e2a repo \u5c06 repo \u540c\u6b65\u5230\u672c\u5730 \u5c06 mkdocs \u6839\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u4e1c\u897f\u79fb\u5230\u672c\u5730git\u76ee\u5f55\u4e0b","title":"Add to Repo -- \u6dfb\u52a0\u5230\u4ed3\u5e93"},{"location":"mkdocs/#mkdocs-gh-deploy","text":"\u5728\u672c\u5730 git \u76ee\u5f55\u4e0b\u6267\u884c mkdocs gh-deploy \u542f\u52a8 mkdocs \u670d\u52a1 mkdocs gh-deploy","title":"Deploy to GitHub -- \u53d1\u5e03"},{"location":"mkdocs/#deploy-to-http-server","text":"\u901a\u8fc7 mkdocs build \u7f16\u8bd1\u51fa html \u5e76\u624b\u52a8\u540c\u6b65\u81f3 http server \u7684\u6839\u76ee\u5f55","title":"4.2. Deploy to HTTP Server -- \u53d1\u5e03\u5230 HTTP-Server"},{"location":"mkdocs/#mkdocs-build","text":"\u5728 git \u6839\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4\uff1a mkdocs build \u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\u53ef\u4ee5\u770b\u5230 site/ \u76ee\u5f55","title":"Generate Site Files -- \u751f\u6210\u7ad9\u70b9\u6587\u4ef6"},{"location":"mkdocs/#deploy-to-http-server-","text":"\u5c06 site/ \u76ee\u5f55\u91cc\u7684\u6240\u6709\u4e1c\u897f\u624b\u52a8\u540c\u6b65\u81f3\u81ea\u5df1\u7684 http server \u7684\u6839\u76ee\u5f55","title":"Deploy to HTTP-Server -- \u53d1\u5e03"},{"location":"mkdocs/mkdocs_yml/","text":"mkdocs.yml \u00b6","title":"mkdocs.yml"},{"location":"mkdocs/mkdocs_yml/#","text":"","title":"mkdocs.yml"},{"location":"python/pip/","text":"pip \u00b6","title":"pip"},{"location":"python/pip/#pip","text":"","title":"pip"},{"location":"supervisor/","text":"Supervisor \u00b6 Document \u6587\u6863 \u00b6 \u5b98\u65b9\u6587\u6863 \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3 Install \u5b89\u88c5 \u00b6 Install with Pip \u00b6 \u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5982\u4f55\u5b89\u88c5pip pip install supervisor Configure \u914d\u7f6e \u00b6 Configuration File Default Path \u914d\u7f6e\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84 \u00b6 Supervisor\u7684\u914d\u7f6e\u6587\u4ef6\u901a\u5e38\u547d\u540d\u4e3a supervisord.conf \u3002 supervisord \u548c supervisorctl \u90fd\u4f7f\u7528\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u6ca1\u6709\u7528 -c \u9009\u9879\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\uff0c\u90a3\u5c31\u4f1a\u6309\u987a\u5e8f\u5728\u4ee5\u4e0b\u8def\u5f84\u91cc\u5bfb\u627e\u3002 \u5982\u679c\u5b58\u5728\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u4f1a\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\u3002 $CWD/supervisord.conf $CWD/etc/supervisord.conf supervisord.conf etc/supervisord.conf /etc/supervisord.conf /etc/supervisor/supervisord.conf \u914d\u7f6e\u6587\u4ef6\u53ef\u80fd\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u8fd0\u884c echo_supervisord_conf \u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002 Create a Configuration File \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 \u00b6 echo_supervisord_conf > /etc/supervisord.conf Usage \u7528\u6cd5 \u00b6 Add a Program \u6dfb\u52a0\u7a0b\u5e8f \u00b6 \u6dfb\u52a0\u4e00\u4e2a\u7a0b\u5e8f\u5230 Supervisor \u4e2d\u7684\u5e38\u7528\u914d\u7f6e\uff1a ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;autostart=true ; start at supervisord start (default: true) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) \u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5b8c\u6574\u914d\u7f6e \u4f8b\u5982\uff1a \u5982\u679c\u6211\u9700\u8981\u8ba9 Supervisor \u7ba1\u7406\u6211\u7684 mkdocs \u8fdb\u7a0b\uff0c\u90a3\u4e48\u6211\u7684\u914d\u7f6e\u5982\u4e0b\uff1a [program:my_first_mkdocs] ; \u6267\u884c\u547d\u4ee4/usr/local/bin/mkdocs serve -a 0.0.0.0:9001 command = /usr/local/bin/mkdocs serve -a 0.0.0.0:9001 ; \u5728/root/my_first_mkdocs\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4 directory = /root/my_first_mkdocs ; \u4ee5root\u7528\u6237\u7684\u8eab\u4efd\u6267\u884c\u547d\u4ee4 user = root ; \u8be5\u8fdb\u7a0b\u968f\u7740Supervisor\u7684\u542f\u52a8\u800c\u542f\u52a8 autostart = true ; \u6807\u51c6\u8f93\u51fastdout\u8f93\u51fa\u5230/root/my_first_mkdocs/stdout.log\u6587\u4ef6 stdout_logfile = /root/my_first_mkdocs/stdout.log ; \u628a\u9519\u8bef\u8f93\u51fastderr\u91cd\u5b9a\u5411\u5230\u6807\u51c6\u8f93\u51fastdout redirect_stderr = true Run supervisord \u542f\u52a8\u670d\u52a1\u7aef \u00b6 \u542f\u52a8\u547d\u4ee4\uff1a supervisord \u7b49\u540c\u4e8e supervisord -c /etc/supervisord.conf \u4f7f\u7528 -c \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u8def\u5f84\uff0c\u90a3\u4e48supervisord\u4f1a\u5728 \u9ed8\u8ba4\u8def\u5f84 \u4e2d\u641c\u7d22\u914d\u7f6e\u6587\u4ef6\u3002 Run supervisorctl \u542f\u52a8\u5ba2\u6237\u7aef \u00b6 \u542f\u52a8\u547d\u4ee4\uff1a supervisorctl \u542f\u52a8\u8fdb\u7a0b\uff1a start <name> \u505c\u6b62\u8fdb\u7a0b\uff1a stop <name> \u91cd\u542f\u8fdb\u7a0b\uff1a restart <name>","title":"Supervisor"},{"location":"supervisor/#supervisor","text":"","title":"Supervisor"},{"location":"supervisor/#document","text":"\u5b98\u65b9\u6587\u6863 \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3","title":"Document \u6587\u6863"},{"location":"supervisor/#install","text":"","title":"Install \u5b89\u88c5"},{"location":"supervisor/#install-with-pip","text":"\u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5982\u4f55\u5b89\u88c5pip pip install supervisor","title":"Install with Pip"},{"location":"supervisor/#configure","text":"","title":"Configure \u914d\u7f6e"},{"location":"supervisor/#configuration-file-default-path","text":"Supervisor\u7684\u914d\u7f6e\u6587\u4ef6\u901a\u5e38\u547d\u540d\u4e3a supervisord.conf \u3002 supervisord \u548c supervisorctl \u90fd\u4f7f\u7528\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u6ca1\u6709\u7528 -c \u9009\u9879\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\uff0c\u90a3\u5c31\u4f1a\u6309\u987a\u5e8f\u5728\u4ee5\u4e0b\u8def\u5f84\u91cc\u5bfb\u627e\u3002 \u5982\u679c\u5b58\u5728\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u4f1a\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\u3002 $CWD/supervisord.conf $CWD/etc/supervisord.conf supervisord.conf etc/supervisord.conf /etc/supervisord.conf /etc/supervisor/supervisord.conf \u914d\u7f6e\u6587\u4ef6\u53ef\u80fd\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u8fd0\u884c echo_supervisord_conf \u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002","title":"Configuration File Default Path \u914d\u7f6e\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84"},{"location":"supervisor/#create-a-configuration-file","text":"echo_supervisord_conf > /etc/supervisord.conf","title":"Create a Configuration File \u521b\u5efa\u914d\u7f6e\u6587\u4ef6"},{"location":"supervisor/#usage","text":"","title":"Usage \u7528\u6cd5"},{"location":"supervisor/#add-a-program","text":"\u6dfb\u52a0\u4e00\u4e2a\u7a0b\u5e8f\u5230 Supervisor \u4e2d\u7684\u5e38\u7528\u914d\u7f6e\uff1a ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;autostart=true ; start at supervisord start (default: true) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) \u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5b8c\u6574\u914d\u7f6e \u4f8b\u5982\uff1a \u5982\u679c\u6211\u9700\u8981\u8ba9 Supervisor \u7ba1\u7406\u6211\u7684 mkdocs \u8fdb\u7a0b\uff0c\u90a3\u4e48\u6211\u7684\u914d\u7f6e\u5982\u4e0b\uff1a [program:my_first_mkdocs] ; \u6267\u884c\u547d\u4ee4/usr/local/bin/mkdocs serve -a 0.0.0.0:9001 command = /usr/local/bin/mkdocs serve -a 0.0.0.0:9001 ; \u5728/root/my_first_mkdocs\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4 directory = /root/my_first_mkdocs ; \u4ee5root\u7528\u6237\u7684\u8eab\u4efd\u6267\u884c\u547d\u4ee4 user = root ; \u8be5\u8fdb\u7a0b\u968f\u7740Supervisor\u7684\u542f\u52a8\u800c\u542f\u52a8 autostart = true ; \u6807\u51c6\u8f93\u51fastdout\u8f93\u51fa\u5230/root/my_first_mkdocs/stdout.log\u6587\u4ef6 stdout_logfile = /root/my_first_mkdocs/stdout.log ; \u628a\u9519\u8bef\u8f93\u51fastderr\u91cd\u5b9a\u5411\u5230\u6807\u51c6\u8f93\u51fastdout redirect_stderr = true","title":"Add a Program \u6dfb\u52a0\u7a0b\u5e8f"},{"location":"supervisor/#run-supervisord","text":"\u542f\u52a8\u547d\u4ee4\uff1a supervisord \u7b49\u540c\u4e8e supervisord -c /etc/supervisord.conf \u4f7f\u7528 -c \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u8def\u5f84\uff0c\u90a3\u4e48supervisord\u4f1a\u5728 \u9ed8\u8ba4\u8def\u5f84 \u4e2d\u641c\u7d22\u914d\u7f6e\u6587\u4ef6\u3002","title":"Run supervisord \u542f\u52a8\u670d\u52a1\u7aef"},{"location":"supervisor/#run-supervisorctl","text":"\u542f\u52a8\u547d\u4ee4\uff1a supervisorctl \u542f\u52a8\u8fdb\u7a0b\uff1a start <name> \u505c\u6b62\u8fdb\u7a0b\uff1a stop <name> \u91cd\u542f\u8fdb\u7a0b\uff1a restart <name>","title":"Run supervisorctl \u542f\u52a8\u5ba2\u6237\u7aef"},{"location":"supervisor/supervisor_conf/","text":"Supervisor \u00b6 Configuration Template \u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u7248 \u00b6 \u8fd0\u884cecho_supervisord_conf\u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002 echo_supervisord_conf ; Sample supervisor config file. ; ; For more information on the config file, please see: ; http://supervisord.org/configuration.html ; ; Notes: ; - Shell expansion (\"~\" or \"$HOME\") is not supported. Environment ; variables can be expanded using this syntax: \"%(ENV_HOME)s\". ; - Quotes around values are not supported, except in the case of ; the environment= options as shown below. ; - Comments must have a leading space: \"a=b ;comment\" not \"a=b;comment\". ; - Command will be truncated if it looks like a config file comment, e.g. ; \"command=bash -c 'foo ; bar'\" will truncate to \"command=bash -c 'foo \". [unix_http_server] file = /usr/local/var/run/supervisor.sock ; the path to the socket file ;chmod=0700 ; socket file mode (default 0700) ;chown=nobody:nogroup ; socket file uid:gid owner ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) ;[inet_http_server] ; inet (TCP) server disabled by default ;port=127.0.0.1:9001 ; ip_address:port specifier, *:port for all iface ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) [supervisord] logfile = /usr/local/var/log/supervisord.log ; main log file; default $CWD/supervisord.log logfile_maxbytes = 50MB ; max main logfile bytes b4 rotation; default 50MB logfile_backups = 10 ; # of main logfile backups; 0 means none, default 10 loglevel = info ; log level; default info; others: debug,warn,trace pidfile = /usr/local/var/run/supervisord.pid ; supervisord pidfile; default supervisord.pid nodaemon = false ; start in foreground if true; default false minfds = 1024 ; min. avail startup file descriptors; default 1024 minprocs = 200 ; min. avail process descriptors;default 200 ;umask=022 ; process file creation umask; default 022 ;user=chrism ; default is current user, required if root ;identifier=supervisor ; supervisord identifier, default is 'supervisor' ;directory=/tmp ; default is not to cd during start ;nocleanup=true ; don't clean up tempfiles at start; default false ;childlogdir=/tmp ; 'AUTO' child log dir, default $TEMP ;environment=KEY=\"value\" ; key value pairs to add to environment ;strip_ansi=false ; strip ansi escape codes in logs; def. false ; The rpcinterface:supervisor section must remain in the config file for ; RPC (supervisorctl/web interface) to work. Additional interfaces may be ; added by defining them in separate [rpcinterface:x] sections. [rpcinterface:supervisor] supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface ; The supervisorctl section configures how supervisorctl will connect to ; supervisord. configure it match the settings in either the unix_http_server ; or inet_http_server section. [supervisorctl] serverurl = unix:///usr/local/var/run/supervisor.sock ; use a unix:// URL for a unix socket ;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket ;username=chris ; should be same as in [*_http_server] if set ;password=123 ; should be same as in [*_http_server] if set ;prompt=mysupervisor ; cmd line prompt (default \"supervisor\") ;history_file=~/.sc_history ; use readline history if available ; The sample program section below shows all possible program subsection values. ; Create one or more 'real' program: sections to be able to control them under ; supervisor. ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=999 ; the relative start priority (default 999) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; when to restart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample eventlistener section below shows all possible eventlistener ; subsection values. Create one or more 'real' eventlistener: sections to be ; able to handle event notifications sent by supervisord. ;[eventlistener:theeventlistenername] ;command=/bin/eventlistener ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;events=EVENT ; event notif. types to subscribe to (req'd) ;buffer_size=10 ; event buffer queue size (default 10) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=-1 ; the relative start priority (default -1) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; autorestart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=false ; redirect_stderr=true is not allowed for eventlisteners ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample group section below shows all possible group values. Create one ; or more 'real' group: sections to create \"heterogeneous\" process groups. ;[group:thegroupname] ;programs=progname1,progname2 ; each refers to 'x' in [program:x] definitions ;priority=999 ; the relative start priority (default 999) ; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. [include] files = /usr/local/etc/supervisor.d/*.ini Details \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3 \u00b6 Section: unix_http_server \u00b6 [ unix_http_server ] file =/ tmp / supervisor . sock ; socket\u6587\u4ef6\u7684\u8def\u5f84 \uff0c supervisorctl\u7528XML_RPC\u548csupervisord\u901a\u4fe1\u5c31\u662f\u901a\u8fc7\u5b83\u8fdb\u884c \u7684 \u3002 \u5982\u679c\u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c supervisorctl\u4e5f\u5c31\u4e0d\u80fd\u7528\u4e86 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3anone \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chmod = 0700 ; \u8fd9\u4e2a\u7b80\u5355 \uff0c \u5c31\u662f\u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u6743\u9650\u4e3a0700 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a0700 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chown = nobody : nogroup ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u5c5e\u7ec4\u4e3auser . group \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u542f\u52a8supervisord\u8fdb\u7a0b\u7684\u7528\u6237\u53ca\u5c5e\u7ec4 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; username = user ; \u4f7f\u7528supervisorctl\u8fde\u63a5\u7684\u65f6\u5019 \uff0c \u8ba4\u8bc1\u7684\u7528\u6237 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u9700\u8981\u7528\u6237 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u548c\u4e0a\u9762\u7684\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801 \uff0c \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u660e\u7801 \uff0c \u4e5f\u53ef\u4ee5\u4f7f\u7528SHA\u52a0\u5bc6 \u5982 \uff1a { SHA } 82ab876d1387bfafe46cc1c8a2ef074eae50cb1d \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e Section: inet_http_server \u00b6 ; [ inet_http_server ] ; \u4fa6\u542c\u5728TCP\u4e0a\u7684socket \uff0c Web Server\u548c\u8fdc\u7a0b\u7684supervisorctl\u90fd\u8981\u7528\u5230\u4ed6 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u5f00\u542f \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; port = 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662f\u4fa6\u542c\u7684IP\u548c\u7aef\u53e3 \uff0c \u4fa6\u542c\u6240\u6709IP\u7528 : 9001\u6216 * : 9001 \u3002 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e \uff0c \u53ea\u8981\u4e0a\u9762\u7684 [ inet_http_server ] \u5f00\u542f\u4e86 \uff0c \u5c31\u5fc5\u987b\u8bbe\u7f6e\u5b83 ; username = user ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684uinx_http_server\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u8fd9\u4e2a\u4e5f\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e Section: supervisord \u00b6 [supervisord] ;\u8fd9\u4e2a\u4e3b\u8981\u662f\u5b9a\u4e49supervisord\u8fd9\u4e2a\u670d\u52a1\u7aef\u8fdb\u7a0b\u7684\u4e00\u4e9b\u53c2\u6570\u7684 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e\uff0c\u4e0d\u8bbe\u7f6e\uff0csupervisor\u5c31\u4e0d\u7528\u5e72\u6d3b\u4e86 logfile=/tmp/supervisord.log ; \u8fd9\u4e2a\u662fsupervisord\u8fd9\u4e2a\u4e3b\u8fdb\u7a0b\u7684\u65e5\u5fd7\u8def\u5f84\uff0c\u6ce8\u610f\u548c\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u4e0d\u642d\u560e\u3002 \u9ed8\u8ba4\u8def\u5f84$CWD/supervisord.log\uff0c$CWD\u662f\u5f53\u524d\u76ee\u5f55\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e logfile_maxbytes=50MB ; \u8fd9\u4e2a\u662f\u4e0a\u9762\u90a3\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u7684\u5927\u5c0f\uff0c\u5f53\u8d85\u8fc750M\u7684\u65f6\u5019\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u65e5 \u5fd7\u6587\u4ef6\u3002\u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u5927\u5c0f \u9ed8\u8ba4\u503c\u662f50M\uff0c\u975e\u5fc5\u987b\u8bbe\u7f6e\u3002 logfile_backups=10 ; \u65e5\u5fd7\u6587\u4ef6\u4fdd\u6301\u7684\u6570\u91cf\uff0csupervisor\u5728\u542f\u52a8\u7a0b\u5e8f\u65f6\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa10\u4e2abuckup\u6587\u4ef6\uff0c\u7528\u4e8elog rotate \u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u7684\u6570\u91cf\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a10\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e loglevel=info ; \u65e5\u5fd7\u7ea7\u522b\uff0c\u6709critical, error, warn, info, debug, trace, or blather\u7b49 \u9ed8\u8ba4\u4e3ainfo\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 pidfile=/tmp/supervisord.pid ; supervisord\u7684pid\u6587\u4ef6\u8def\u5f84\u3002 \u9ed8\u8ba4\u4e3a$CWD/supervisord.pid\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e nodaemon=false ; \u5982\u679c\u662ftrue\uff0csupervisord\u8fdb\u7a0b\u5c06\u5728\u524d\u53f0\u8fd0\u884c \u9ed8\u8ba4\u4e3afalse\uff0c\u4e5f\u5c31\u662f\u540e\u53f0\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minfds=1024 ; \u8fd9\u4e2a\u662f\u6700\u5c11\u7cfb\u7edf\u7a7a\u95f2\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u5c06\u4e0d\u4f1a\u542f\u52a8\u3002 \u7cfb\u7edf\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u5728\u8fd9\u91cc\u8bbe\u7f6ecat /proc/sys/fs/file-max \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a1024\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minprocs=200 ; \u6700\u5c0f\u53ef\u7528\u7684\u8fdb\u7a0b\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u4e5f\u5c06\u4e0d\u4f1a\u6b63\u5e38\u542f\u52a8\u3002 ulimit -u\u8fd9\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770blinux\u4e0b\u9762\u7528\u6237\u7684\u6700\u5927\u8fdb\u7a0b\u6570 \u9ed8\u8ba4\u4e3a200\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;umask=022 ; \u8fdb\u7a0b\u521b\u5efa\u6587\u4ef6\u7684\u63a9\u7801 \u9ed8\u8ba4\u4e3a022\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;user=chrism ; \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u975eroot\u7528\u6237\uff0c\u5f53\u6211\u4eec\u4ee5root\u7528\u6237\u542f\u52a8supervisord\u4e4b\u540e\u3002 \u6211\u8fd9\u91cc\u9762\u8bbe\u7f6e\u7684\u8fd9\u4e2a\u7528\u6237\uff0c\u4e5f\u53ef\u4ee5\u5bf9supervisord\u8fdb\u884c\u7ba1\u7406 \u9ed8\u8ba4\u60c5\u51b5\u662f\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;identifier=supervisor ; \u8fd9\u4e2a\u53c2\u6570\u662fsupervisord\u7684\u6807\u8bc6\u7b26\uff0c\u4e3b\u8981\u662f\u7ed9XML_RPC\u7528\u7684\u3002\u5f53\u4f60\u6709\u591a\u4e2a supervisor\u7684\u65f6\u5019\uff0c\u800c\u4e14\u60f3\u8c03\u7528XML_RPC\u7edf\u4e00\u7ba1\u7406\uff0c\u5c31\u9700\u8981\u4e3a\u6bcf\u4e2a supervisor\u8bbe\u7f6e\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u4e86 \u9ed8\u8ba4\u662fsupervisord\u3002\u3002\u3002\u975e\u5fc5\u9700\u8bbe\u7f6e ;directory=/tmp ; \u8fd9\u4e2a\u53c2\u6570\u662f\u5f53supervisord\u4f5c\u4e3a\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u7684\u8bdd\uff0c\u542f\u52a8 supervisord\u8fdb\u7a0b\u4e4b\u524d\uff0c\u4f1a\u5148\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;nocleanup=true ; \u8fd9\u4e2a\u53c2\u6570\u5f53\u4e3afalse\u7684\u65f6\u5019\uff0c\u4f1a\u5728supervisord\u8fdb\u7a0b\u542f\u52a8\u7684\u65f6\u5019\uff0c\u628a\u4ee5\u524d\u5b50\u8fdb\u7a0b \u4ea7\u751f\u7684\u65e5\u5fd7\u6587\u4ef6(\u8def\u5f84\u4e3aAUTO\u7684\u60c5\u51b5\u4e0b)\u6e05\u9664\u6389\u3002\u6709\u65f6\u5019\u54b1\u4eec\u60f3\u8981\u770b\u5386\u53f2\u65e5\u5fd7\uff0c\u5f53 \u7136\u4e0d\u60f3\u65e5\u5fd7\u88ab\u6e05\u9664\u4e86\u3002\u6240\u4ee5\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue \u9ed8\u8ba4\u662ffalse\uff0c\u6709\u8c03\u8bd5\u9700\u6c42\u7684\u540c\u5b66\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;childlogdir=/tmp ; \u5f53\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u8def\u5f84\u4e3aAUTO\u7684\u65f6\u5019\uff0c\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u6587\u4ef6\u7684\u5b58\u653e\u8def\u5f84\u3002 \u9ed8\u8ba4\u8def\u5f84\u662f\u8fd9\u4e2a\u4e1c\u897f\uff0c\u6267\u884c\u4e0b\u9762\u7684\u8fd9\u4e2a\u547d\u4ee4\u770b\u770b\u5c31OK\u4e86\uff0c\u5904\u7406\u7684\u4e1c\u897f\u5c31\u9ed8\u8ba4\u8def\u5f84 python -c \"import tempfile;print tempfile.gettempdir()\" \u975e\u5fc5\u987b\u8bbe\u7f6e ;environment=KEY=\"value\" ; \u8fd9\u4e2a\u662f\u7528\u6765\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\uff0csupervisord\u5728linux\u4e2d\u542f\u52a8\u9ed8\u8ba4\u7ee7\u627f\u4e86linux\u7684 \u73af\u5883\u53d8\u91cf\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u8bbe\u7f6esupervisord\u8fdb\u7a0b\u7279\u6709\u7684\u5176\u4ed6\u73af\u5883\u53d8\u91cf\u3002 supervisord\u542f\u52a8\u5b50\u8fdb\u7a0b\u65f6\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u62f7\u8d1d\u7236\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u5185\u5bb9\u3002 \u6240\u4ee5\u8bbe\u7f6e\u7684 \u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4e5f\u4f1a\u88ab\u5b50\u8fdb\u7a0b\u7ee7\u627f\u3002 \u5c0f\u4f8b\u5b50\uff1aenvironment=name=\"haha\",age=\"hehe\" \u9ed8\u8ba4\u4e3a\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;strip_ansi=false ; \u8fd9\u4e2a\u9009\u9879\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u4f1a\u6e05\u9664\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u4e2d\u7684\u6240\u6709ANSI \u5e8f\u5217\u3002\u4ec0\u4e48\u662fANSI \u5e8f\u5217\u5462\uff1f\u5c31\u662f\u6211\u4eec\u7684\\n,\\t\u8fd9\u4e9b\u4e1c\u897f\u3002 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e Section: rpcinterface \u00b6 ; the below section must remain in the config file for RPC ; ( supervisorctl / web interface ) to work , additional interfaces may be ; added by defining them in separate rpcinterface : sections [ rpcinterface : supervisor ] ; \u8fd9\u4e2a\u9009\u9879\u662f\u7ed9XML_RPC\u7528\u7684 \uff0c \u5f53\u7136\u4f60\u5982\u679c\u60f3\u4f7f\u7528supervisord\u6216\u8005web server \u8fd9 \u4e2a\u9009\u9879\u5fc5\u987b\u8981\u5f00\u542f\u7684 supervisor . rpcinterface_factory = supervisor . rpcinterface : make_main_rpcinterface Section: supervisorctl \u00b6 [ supervisorctl ] ; \u8fd9\u4e2a\u4e3b\u8981\u662f\u9488\u5bf9supervisorctl\u7684\u4e00\u4e9b\u914d\u7f6e serverurl = unix :/// tmp / supervisor . sock ; \u8fd9\u4e2a\u662fsupervisorctl\u672c\u5730\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u672c\u5730UNIX socket \u8def\u5f84 \uff0c \u6ce8\u610f\u8fd9\u4e2a\u662f\u548c\u524d\u9762\u7684 [ unix_http_server ] \u5bf9\u5e94\u7684 \u9ed8\u8ba4\u503c\u5c31\u662funix :/// tmp / supervisor . sock \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; serverurl = http :// 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662fsupervisorctl\u8fdc\u7a0b\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u7528\u5230\u7684TCP socket\u8def\u5f84 \u6ce8\u610f\u8fd9\u4e2a\u548c\u524d\u9762\u7684 [ inet_http_server ] \u5bf9\u5e94 \u9ed8\u8ba4\u5c31\u662fhttp :// 127 . 0 . 0 . 1 : 9001 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; username = chris ; \u7528\u6237\u540d \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u5bc6\u7801 \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; prompt = mysupervisor ; \u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u65f6\u5019\u7684\u63d0\u793a\u7b26 \u9ed8\u8ba4supervisor \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; history_file =~/ . sc_history ; \u8fd9\u4e2a\u53c2\u6570\u548cshell\u4e2d\u7684history\u7c7b\u4f3c \uff0c \u6211\u4eec\u53ef\u4ee5\u7528\u4e0a\u4e0b\u952e\u6765\u67e5\u627e\u524d\u9762\u6267\u884c\u8fc7\u7684\u547d\u4ee4 \u9ed8\u8ba4\u662fno file\u7684 \u3002\u3002 \u6240\u4ee5\u6211\u4eec\u60f3\u8981\u6709\u8fd9\u79cd\u529f\u80fd \uff0c \u5fc5\u987b\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6 \u3002\u3002\u3002 \u975e \u5fc5\u987b\u8bbe\u7f6e Section: program \u00b6 ; The below sample program section shows all possible program subsection values , ; create one or more 'real' program : sections to be able to control them under ; supervisor . ; [ program : theprogramname ] ; \u8fd9\u4e2a\u5c31\u662f\u54b1\u4eec\u8981\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b\u4e86 \uff0c \":\" \u540e\u9762\u7684\u662f\u540d\u5b57 \uff0c \u6700\u597d\u522b\u4e71\u5199\u548c\u5b9e\u9645\u8fdb\u7a0b \u6709\u70b9\u5173\u8054\u6700\u597d \u3002 \u8fd9\u6837\u7684program\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u6216\u591a\u4e2a \uff0c \u4e00\u4e2aprogram\u5c31\u662f \u8981\u88ab\u7ba1\u7406\u7684\u4e00\u4e2a\u8fdb\u7a0b ; command =/ bin / cat ; \u8fd9\u4e2a\u5c31\u662f\u6211\u4eec\u7684\u8981\u542f\u52a8\u8fdb\u7a0b\u7684\u547d\u4ee4\u8def\u5f84\u4e86 \uff0c \u53ef\u4ee5\u5e26\u53c2\u6570 \u4f8b\u5b50 \uff1a / home / test . py -a 'hehe' \u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u6211\u4eec\u7684command\u53ea\u80fd\u662f\u90a3\u79cd\u5728\u7ec8\u7aef\u8fd0\u884c\u7684\u8fdb\u7a0b \uff0c \u4e0d\u80fd\u662f \u5b88\u62a4\u8fdb\u7a0b \u3002 \u8fd9\u4e2a\u60f3\u60f3\u4e5f\u77e5\u9053\u4e86 \uff0c \u6bd4\u5982\u8bf4command = service httpd start \u3002 httpd\u8fd9\u4e2a\u8fdb\u7a0b\u88ablinux\u7684service\u7ba1\u7406\u4e86 \uff0c \u6211\u4eec\u7684supervisor\u518d\u53bb\u542f\u52a8\u8fd9\u4e2a\u547d\u4ee4 \u8fd9\u5df2\u7ecf\u4e0d\u662f\u4e25\u683c\u610f\u4e49\u7684\u5b50\u8fdb\u7a0b\u4e86 \u3002 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u8bbe\u7f6e\u7684\u9879 ; process_name =%( program_name ) s ; \u8fd9\u4e2a\u662f\u8fdb\u7a0b\u540d \uff0c \u5982\u679c\u6211\u4eec\u4e0b\u9762\u7684numprocs\u53c2\u6570\u4e3a1\u7684\u8bdd \uff0c \u5c31\u4e0d\u7528\u7ba1\u8fd9\u4e2a\u53c2\u6570 \u4e86 \uff0c \u5b83\u9ed8\u8ba4\u503c %( program_name ) s\u4e5f\u5c31\u662f\u4e0a\u9762\u7684\u90a3\u4e2aprogram\u5192\u53f7\u540e\u9762\u7684\u540d\u5b57 \uff0c \u4f46\u662f\u5982\u679cnumprocs\u4e3a\u591a\u4e2a\u7684\u8bdd \uff0c \u90a3\u5c31\u4e0d\u80fd\u8fd9\u4e48\u5e72\u4e86 \u3002 \u60f3\u60f3\u4e5f\u77e5\u9053 \uff0c \u4e0d\u53ef\u80fd\u6bcf\u4e2a \u8fdb\u7a0b\u90fd\u7528\u540c\u4e00\u4e2a\u8fdb\u7a0b\u540d\u5427 \u3002 ; numprocs = 1 ; \u542f\u52a8\u8fdb\u7a0b\u7684\u6570\u76ee \u3002 \u5f53\u4e0d\u4e3a1\u65f6 \uff0c \u5c31\u662f\u8fdb\u7a0b\u6c60\u7684\u6982\u5ff5 \uff0c \u6ce8\u610fprocess_name\u7684\u8bbe\u7f6e \u9ed8\u8ba4\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; directory =/ tmp ; \u8fdb\u7a0b\u8fd0\u884c\u524d \uff0c \u4f1a\u524d\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; umask = 022 ; \u8fdb\u7a0b\u63a9\u7801 \uff0c \u9ed8\u8ba4none \uff0c \u975e\u5fc5\u987b ; priority = 999 ; \u5b50\u8fdb\u7a0b\u542f\u52a8\u5173\u95ed\u4f18\u5148\u7ea7 \uff0c \u4f18\u5148\u7ea7\u4f4e\u7684 \uff0c \u6700\u5148\u542f\u52a8 \uff0c \u5173\u95ed\u7684\u65f6\u5019\u6700\u540e\u5173\u95ed \u9ed8\u8ba4\u503c\u4e3a999 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autostart = true ; \u5982\u679c\u662ftrue\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u5c06\u5728supervisord\u542f\u52a8\u540e\u88ab\u81ea\u52a8\u542f\u52a8 \u9ed8\u8ba4\u5c31\u662ftrue \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autorestart = unexpected ; \u8fd9\u4e2a\u662f\u8bbe\u7f6e\u5b50\u8fdb\u7a0b\u6302\u6389\u540e\u81ea\u52a8\u91cd\u542f\u7684\u60c5\u51b5 \uff0c \u6709\u4e09\u4e2a\u9009\u9879 \uff0c false , unexpected \u548ctrue \u3002 \u5982\u679c\u4e3afalse\u7684\u65f6\u5019 \uff0c \u65e0\u8bba\u4ec0\u4e48\u60c5\u51b5\u4e0b \uff0c \u90fd\u4e0d\u4f1a\u88ab\u91cd\u65b0\u542f\u52a8 \uff0c \u5982\u679c\u4e3aunexpected \uff0c \u53ea\u6709\u5f53\u8fdb\u7a0b\u7684\u9000\u51fa\u7801\u4e0d\u5728\u4e0b\u9762\u7684exitcodes\u91cc\u9762\u5b9a\u4e49\u7684\u9000 \u51fa\u7801\u7684\u65f6\u5019 \uff0c \u624d\u4f1a\u88ab\u81ea\u52a8\u91cd\u542f \u3002 \u5f53\u4e3atrue\u7684\u65f6\u5019 \uff0c \u53ea\u8981\u5b50\u8fdb\u7a0b\u6302\u6389 \uff0c \u5c06\u4f1a\u88ab\u65e0 \u6761\u4ef6\u7684\u91cd\u542f ; startsecs = 1 ; \u8fd9\u4e2a\u9009\u9879\u662f\u5b50\u8fdb\u7a0b\u542f\u52a8\u591a\u5c11\u79d2\u4e4b\u540e \uff0c \u6b64\u65f6\u72b6\u6001\u5982\u679c\u662frunning \uff0c \u5219\u6211\u4eec\u8ba4\u4e3a\u542f \u52a8\u6210\u529f\u4e86 \u9ed8\u8ba4\u503c\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; startretries = 3 ; \u5f53\u8fdb\u7a0b\u542f\u52a8\u5931\u8d25\u540e \uff0c \u6700\u5927\u5c1d\u8bd5\u542f\u52a8\u7684\u6b21\u6570 \u3002\u3002 \u5f53\u8d85\u8fc73\u6b21\u540e \uff0c supervisor\u5c06\u628a \u6b64\u8fdb\u7a0b\u7684\u72b6\u6001\u7f6e\u4e3aFAIL \u9ed8\u8ba4\u503c\u4e3a3 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; exitcodes = 0 , 2 ; \u6ce8\u610f\u548c\u4e0a\u9762\u7684\u7684autorestart = unexpected\u5bf9\u5e94 \u3002\u3002 exitcodes\u91cc\u9762\u7684\u5b9a\u4e49\u7684 \u9000\u51fa\u7801\u662fexpected\u7684 \u3002 ; stopsignal = QUIT ; \u8fdb\u7a0b\u505c\u6b62\u4fe1\u53f7 \uff0c \u53ef\u4ee5\u4e3aTERM , HUP , INT , QUIT , KILL , USR1 , or USR2\u7b49\u4fe1\u53f7 \u9ed8\u8ba4\u4e3aTERM \u3002\u3002 \u5f53\u7528\u8bbe\u5b9a\u7684\u4fe1\u53f7\u53bb\u5e72\u6389\u8fdb\u7a0b \uff0c \u9000\u51fa\u7801\u4f1a\u88ab\u8ba4\u4e3a\u662fexpected \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopwaitsecs = 10 ; \u8fd9\u4e2a\u662f\u5f53\u6211\u4eec\u5411\u5b50\u8fdb\u7a0b\u53d1\u9001stopsignal\u4fe1\u53f7\u540e \uff0c \u5230\u7cfb\u7edf\u8fd4\u56de\u4fe1\u606f \u7ed9supervisord \uff0c \u6240\u7b49\u5f85\u7684\u6700\u5927\u65f6\u95f4 \u3002 \u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4 \uff0c supervisord\u4f1a\u5411\u8be5 \u5b50\u8fdb\u7a0b\u53d1\u9001\u4e00\u4e2a\u5f3a\u5236kill\u7684\u4fe1\u53f7 \u3002 \u9ed8\u8ba4\u4e3a10\u79d2 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopasgroup = false ; \u8fd9\u4e2a\u4e1c\u897f\u4e3b\u8981\u7528\u4e8e \uff0c supervisord\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b \uff0c \u8fd9\u4e2a\u5b50\u8fdb\u7a0b\u672c\u8eab\u8fd8\u6709 \u5b50\u8fdb\u7a0b \u3002 \u90a3\u4e48\u6211\u4eec\u5982\u679c\u4ec5\u4ec5\u5e72\u6389supervisord\u7684\u5b50\u8fdb\u7a0b\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u7684\u5b50\u8fdb\u7a0b \u6709\u53ef\u80fd\u4f1a\u53d8\u6210\u5b64\u513f\u8fdb\u7a0b \u3002 \u6240\u4ee5\u54b1\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u53ef\u4e2a\u9009\u9879 \uff0c \u628a\u6574\u4e2a\u8be5\u5b50\u8fdb\u7a0b\u7684 \u6574\u4e2a\u8fdb\u7a0b\u7ec4\u90fd\u5e72\u6389 \u3002 \u8bbe\u7f6e\u4e3atrue\u7684\u8bdd \uff0c \u4e00\u822ckillasgroup\u4e5f\u4f1a\u88ab\u8bbe\u7f6e\u4e3atrue \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u8be5\u9009\u9879\u53d1\u9001\u7684\u662fstop\u4fe1\u53f7 \u9ed8\u8ba4\u4e3afalse \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e \u3002\u3002 ; killasgroup = false ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684stopasgroup\u7c7b\u4f3c \uff0c \u4e0d\u8fc7\u53d1\u9001\u7684\u662fkill\u4fe1\u53f7 ; user = chrism ; \u5982\u679csupervisord\u662froot\u542f\u52a8 \uff0c \u6211\u4eec\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8fd9\u4e2a\u975eroot\u7528\u6237 \uff0c \u53ef\u4ee5\u7528\u6765 \u7ba1\u7406\u8be5program \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ; redirect_stderr = true ; \u5982\u679c\u4e3atrue \uff0c \u5219stderr\u7684\u65e5\u5fd7\u4f1a\u88ab\u5199\u5165stdout\u65e5\u5fd7\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3afalse \uff0c \u975e\u5fc5\u987b\u8bbe\u7f6e ; stdout_logfile =/ a / path ; \u5b50\u8fdb\u7a0b\u7684stdout\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u53ef\u4ee5\u6307\u5b9a\u8def\u5f84 \uff0c AUTO \uff0c none\u7b49\u4e09\u4e2a\u9009\u9879 \u3002 \u8bbe\u7f6e\u4e3anone\u7684\u8bdd \uff0c \u5c06\u6ca1\u6709\u65e5\u5fd7\u4ea7\u751f \u3002 \u8bbe\u7f6e\u4e3aAUTO\u7684\u8bdd \uff0c \u5c06\u968f\u673a\u627e\u4e00\u4e2a\u5730\u65b9 \u751f\u6210\u65e5\u5fd7\u6587\u4ef6 \uff0c \u800c\u4e14\u5f53supervisord\u91cd\u65b0\u542f\u52a8\u7684\u65f6\u5019 \uff0c \u4ee5\u524d\u7684\u65e5\u5fd7\u6587\u4ef6\u4f1a\u88ab \u6e05\u7a7a \u3002 \u5f53 redirect_stderr = true\u7684\u65f6\u5019 \uff0c sterr\u4e5f\u4f1a\u5199\u8fdb\u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6 ; stdout_logfile_maxbytes = 1MB ; \u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u5927\u5c0f \uff0c \u548c [ supervisord ] \u4e2d\u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a50 ; stdout_logfile_backups = 10 ; \u548c [ supervisord ] \u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba410 ; stdout_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u5b9acapture\u7ba1\u9053\u7684\u5927\u5c0f \uff0c \u5f53\u503c\u4e0d\u4e3a0\u7684\u65f6\u5019 \uff0c \u5b50\u8fdb\u7a0b\u53ef\u4ee5\u4ecestdout \u53d1\u9001\u4fe1\u606f \uff0c \u800csupervisor\u53ef\u4ee5\u6839\u636e\u4fe1\u606f \uff0c \u53d1\u9001\u76f8\u5e94\u7684event \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u4e3a0\u7684\u65f6\u5019\u8868\u8fbe\u5173\u95ed\u7ba1\u9053 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; stdout_events_enabled = false ; \u5f53\u8bbe\u7f6e\u4e3ature\u7684\u65f6\u5019 \uff0c \u5f53\u5b50\u8fdb\u7a0b\u7531stdout\u5411\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e2d\u5199\u65e5\u5fd7\u7684\u65f6\u5019 \uff0c \u5c06 \u89e6\u53d1supervisord\u53d1\u9001PROCESS_LOG_STDOUT\u7c7b\u578b\u7684event \u9ed8\u8ba4\u4e3afalse \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile =/ a / path ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u7f6estderr\u5199\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u5f53redirect_stderr = true \u3002 \u8fd9\u4e2a\u5c31\u4e0d\u7528 \u8bbe\u7f6e\u4e86 \uff0c \u8bbe\u7f6e\u4e86\u4e5f\u662f\u767d\u642d \u3002 \u56e0\u4e3a\u5b83\u4f1a\u88ab\u5199\u5165stdout_logfile\u7684\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3aAUTO \uff0c \u4e5f\u5c31\u662f\u968f\u4fbf\u627e\u4e2a\u5730\u5b58 \uff0c supervisord\u91cd\u542f\u88ab\u6e05\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile_maxbytes = 1MB ; \u8fd9\u4e2a\u51fa\u73b0\u597d\u51e0\u6b21\u4e86 \uff0c \u5c31\u4e0d\u91cd\u590d\u4e86 ; stderr_logfile_backups = 10 ; \u8fd9\u4e2a\u4e5f\u662f ; stderr_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u548cstdout_capture\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u5173\u95ed\u72b6\u6001 ; stderr_events_enabled = false ; \u8fd9\u4e2a\u4e5f\u662f\u4e00\u6837 \uff0c \u9ed8\u8ba4\u4e3afalse ; environment = A = \"1\" , B = \"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \uff0c \u548c\u522b\u7684\u5b50\u8fdb\u7a0b\u662f\u4e0d\u5171\u4eab\u7684 ; serverurl = AUTO ; Section: eventlistener \u00b6 ; The below sample eventlistener section shows all possible ; eventlistener subsection values, create one or more 'real' ; eventlistener: sections to be able to handle event notifications ; sent by supervisor. ;[eventlistener:theeventlistenername] ;\u8fd9\u4e2a\u4e1c\u897f\u5176\u5b9e\u548cprogram\u7684\u5730\u4f4d\u662f\u4e00\u6837\u7684\uff0c\u4e5f\u662fsuopervisor\u542f\u52a8\u7684\u5b50\u8fdb \u7a0b\uff0c\u4e0d\u8fc7\u5b83\u5e72\u7684\u6d3b\u662f\u8ba2\u9605supervisord\u53d1\u9001\u7684event\u3002\u4ed6\u7684\u540d\u5b57\u5c31\u53eb listener\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728listener\u91cc\u9762\u505a\u4e00\u7cfb\u5217\u5904\u7406\uff0c\u6bd4\u5982\u62a5\u8b66\u7b49\u7b49 \u697c\u4e3b\u8fd9\u4e24\u5929\u5e72\u7684\u6d3b\uff0c\u5c31\u662f\u5f04\u7684\u8fd9\u73a9\u610f ;command=/bin/eventlistener ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684program\u4e00\u6837\uff0c\u8868\u793alistener\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84 ;process_name=%(program_name)s ; \u8fd9\u4e2a\u4e5f\u4e00\u6837\uff0c\u8fdb\u7a0b\u540d\uff0c\u5f53\u4e0b\u9762\u7684numprocs\u4e3a\u591a\u4e2a\u7684\u65f6\u5019\uff0c\u624d\u9700\u8981\u3002\u5426\u5219\u9ed8\u8ba4\u5c31 OK\u4e86 ;numprocs=1 ; \u76f8\u540c\u7684listener\u542f\u52a8\u7684\u4e2a\u6570 ;events=EVENT ; event\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u6709\u5199\u5728\u8fd9\u4e2a\u5730\u65b9\u7684\u4e8b\u4ef6\u7c7b\u578b\u3002\u624d\u4f1a\u88ab\u53d1\u9001 ;buffer_size=10 ; \u8fd9\u4e2a\u662fevent\u961f\u5217\u7f13\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\u4e0d\u592a\u6e05\u695a\uff0c\u697c\u4e3b\u731c\u6d4b\u5e94\u8be5\u662f\u4e2a\u5427\u3002\u5f53buffer \u8d85\u8fc710\u7684\u65f6\u5019\uff0c\u6700\u65e7\u7684event\u5c06\u4f1a\u88ab\u6e05\u9664\uff0c\u5e76\u628a\u65b0\u7684event\u653e\u8fdb\u53bb\u3002 \u9ed8\u8ba4\u503c\u4e3a10\u3002\u3002\u975e\u5fc5\u987b\u9009\u9879 ;directory=/tmp ; \u8fdb\u7a0b\u6267\u884c\u524d\uff0c\u4f1a\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6267\u884c \u9ed8\u8ba4\u4e3a\u4e0d\u5207\u6362\u3002\u3002\u3002\u975e\u5fc5\u987b ;umask=022 ; \u6df9\u6ca1\uff0c\u9ed8\u8ba4\u4e3anone\uff0c\u4e0d\u8bf4\u4e86 ;priority=-1 ; \u542f\u52a8\u4f18\u5148\u7ea7\uff0c\u9ed8\u8ba4-1\uff0c\u4e5f\u4e0d\u626f\u4e86 ;autostart=true ; \u662f\u5426\u968fsupervisord\u542f\u52a8\u4e00\u8d77\u542f\u52a8\uff0c\u9ed8\u8ba4true ;autorestart=unexpected ; \u662f\u5426\u81ea\u52a8\u91cd\u542f\uff0c\u548cprogram\u4e00\u4e2a\u6837\uff0c\u5206true,false,unexpected\u7b49\uff0c\u6ce8\u610f unexpected\u548cexitcodes\u7684\u5173\u7cfb ;startsecs=1 ; \u4e5f\u662f\u4e00\u6837\uff0c\u8fdb\u7a0b\u542f\u52a8\u540e\u8dd1\u4e86\u51e0\u79d2\u949f\uff0c\u624d\u88ab\u8ba4\u5b9a\u4e3a\u6210\u529f\u542f\u52a8\uff0c\u9ed8\u8ba41 ;startretries=3 ; \u5931\u8d25\u6700\u5927\u5c1d\u8bd5\u6b21\u6570\uff0c\u9ed8\u8ba43 ;exitcodes=0,2 ; \u671f\u671b\u6216\u8005\u8bf4\u9884\u6599\u4e2d\u7684\u8fdb\u7a0b\u9000\u51fa\u7801\uff0c ;stopsignal=QUIT ; \u5e72\u6389\u8fdb\u7a0b\u7684\u4fe1\u53f7\uff0c\u9ed8\u8ba4\u4e3aTERM\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3aQUIT\uff0c\u90a3\u4e48\u5982\u679cQUIT\u6765\u5e72\u8fd9\u4e2a\u8fdb\u7a0b \u90a3\u4e48\u4f1a\u88ab\u8ba4\u4e3a\u662f\u6b63\u5e38\u7ef4\u62a4\uff0c\u9000\u51fa\u7801\u4e5f\u88ab\u8ba4\u4e3a\u662fexpected\u4e2d\u7684 ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ;\u8bbe\u7f6e\u666e\u901a\u7528\u6237\uff0c\u53ef\u4ee5\u7528\u6765\u7ba1\u7406\u8be5listener\u8fdb\u7a0b\u3002 \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;redirect_stderr=true ; \u4e3atrue\u7684\u8bdd\uff0cstderr\u7684log\u4f1a\u5e76\u5165stdout\u7684log\u91cc\u9762 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;stdout_logfile=/a/path ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86\uff0c\u597d\u51e0\u904d\u4e86 ;stdout_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_logfile_backups=10 ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_events_enabled=false ; \u8fd9\u4e2a\u5176\u5b9e\u662f\u9519\u7684\uff0clistener\u662f\u4e0d\u80fd\u53d1\u9001event ;stderr_logfile=/a/path ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_backups ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86 ;stderr_events_enabled=false ; \u8fd9\u4e2a\u4e5f\u662f\u9519\u7684\uff0clistener\u4e0d\u80fd\u53d1\u9001event ;environment=A=\"1\",B=\"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;serverurl=AUTO ; override serverurl computation (childutils) Section: group \u00b6 ; The below sample group section shows all possible group values , ; create one or more 'real' group : sections to create \"heterogeneous\" ; process groups . ; [ group : thegroupname ] ; \u8fd9\u4e2a\u4e1c\u897f\u5c31\u662f\u7ed9programs\u5206\u7ec4 \uff0c \u5212\u5206\u5230\u7ec4\u91cc\u9762\u7684program \u3002 \u6211\u4eec\u5c31\u4e0d\u7528\u4e00\u4e2a\u4e00\u4e2a\u53bb\u64cd\u4f5c\u4e86 \u6211\u4eec\u53ef\u4ee5\u5bf9\u7ec4\u540d\u8fdb\u884c\u7edf\u4e00\u7684\u64cd\u4f5c \u3002 \u6ce8\u610f \uff1a program\u88ab\u5212\u5206\u5230\u7ec4\u91cc\u9762\u4e4b\u540e \uff0c \u5c31\u76f8\u5f53\u4e8e\u539f\u6765 \u7684\u914d\u7f6e\u4ecesupervisor\u7684\u914d\u7f6e\u6587\u4ef6\u91cc\u6d88\u5931\u4e86 \u3002\u3002\u3002 supervisor\u53ea\u4f1a\u5bf9\u7ec4\u8fdb\u884c\u7ba1\u7406 \uff0c \u800c\u4e0d\u518d \u4f1a\u5bf9\u7ec4\u91cc\u9762\u7684\u5355\u4e2aprogram\u8fdb\u884c\u7ba1\u7406\u4e86 ; programs = progname1 , progname2 ; \u7ec4\u6210\u5458 \uff0c \u7528\u9017\u53f7\u5206\u5f00 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u7684\u8bbe\u7f6e\u9879 ; priority = 999 ; \u4f18\u5148\u7ea7 \uff0c \u76f8\u5bf9\u4e8e\u7ec4\u548c\u7ec4\u4e4b\u95f4\u8bf4\u7684 \u9ed8\u8ba4999 \u3002\u3002 \u975e\u5fc5\u987b\u9009\u9879 Section: include \u00b6 ; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. ;[include] ;\u8fd9\u4e2a\u4e1c\u897f\u633a\u6709\u7528\u7684\uff0c\u5f53\u6211\u4eec\u8981\u7ba1\u7406\u7684\u8fdb\u7a0b\u5f88\u591a\u7684\u65f6\u5019\uff0c\u5199\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762 \u5c31\u6709\u70b9\u5927\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u914d\u7f6e\u4fe1\u606f\u5199\u5230\u591a\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7136\u540einclude\u8fc7\u6765 ;files = relative/directory/*.ini supervisord \u00b6 $ supervisord --h supervisord -- run a set of applications as daemons. Usage: /usr/local/bin/supervisord [ options ] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -n/--nodaemon -- run in the foreground ( same as 'nodaemon=true' in config file ) -h/--help -- print this usage message and exit -v/--version -- print supervisord version number and exit -u/--user USER -- run supervisord as this user ( or numeric uid ) -m/--umask UMASK -- use this umask for daemon subprocess ( default is 022 ) -d/--directory DIRECTORY -- directory to chdir to when daemonized -l/--logfile FILENAME -- use FILENAME as logfile path -y/--logfile_maxbytes BYTES -- use BYTES to limit the max size of logfile -z/--logfile_backups NUM -- number of backups to keep when max bytes reached -e/--loglevel LEVEL -- use LEVEL as log level ( debug,info,warn,error,critical ) -j/--pidfile FILENAME -- write a pid file for the daemon process to FILENAME -i/--identifier STR -- identifier used for this instance of supervisord -q/--childlogdir DIRECTORY -- the log directory for child process logs -k/--nocleanup -- prevent the process from performing cleanup ( removal of old automatic child log files ) at startup. -a/--minfds NUM -- the minimum number of file descriptors for start success -t/--strip_ansi -- strip ansi escape codes from process output --minprocs NUM -- the minimum number of processes available for start success --profile_options OPTIONS -- run supervisord under profiler and output results based on OPTIONS, which is a comma-sep 'd list of ' cumulative ', ' calls ', and/or ' callers ', e.g. ' cumulative,callers ' ) supervisorctl \u00b6 $ supervisorctl --help supervisorctl -- control applications run by supervisord from the cmd line. Usage: /usr/local/bin/supervisorctl [ options ] [ action [ arguments ]] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -h/--help -- print usage message and exit -i/--interactive -- start an interactive shell after executing commands -s/--serverurl URL -- URL on which supervisord server is listening ( default \"http://localhost:9001\" ) . -u/--username USERNAME -- username to use for authentication with server -p/--password PASSWORD -- password to use for authentication with server -r/--history-file -- keep a readline history ( if readline is available ) action [ arguments ] -- see below Actions are commands like \"tail\" or \"stop\" . If -i is specified or no action is specified on the command line, a \"shell\" interpreting actions typed interactively is started. Use the action \"help\" to find out about available actions. \u9009\u9879 \u89e3\u91ca -c/--configuration FILENAME configuration file path (searches if not given) -h/--help print usage message and exit -i/--interactive start an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"Supervisor"},{"location":"supervisor/supervisor_conf/#supervisor","text":"","title":"Supervisor"},{"location":"supervisor/supervisor_conf/#configuration-template","text":"\u8fd0\u884cecho_supervisord_conf\u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002 echo_supervisord_conf ; Sample supervisor config file. ; ; For more information on the config file, please see: ; http://supervisord.org/configuration.html ; ; Notes: ; - Shell expansion (\"~\" or \"$HOME\") is not supported. Environment ; variables can be expanded using this syntax: \"%(ENV_HOME)s\". ; - Quotes around values are not supported, except in the case of ; the environment= options as shown below. ; - Comments must have a leading space: \"a=b ;comment\" not \"a=b;comment\". ; - Command will be truncated if it looks like a config file comment, e.g. ; \"command=bash -c 'foo ; bar'\" will truncate to \"command=bash -c 'foo \". [unix_http_server] file = /usr/local/var/run/supervisor.sock ; the path to the socket file ;chmod=0700 ; socket file mode (default 0700) ;chown=nobody:nogroup ; socket file uid:gid owner ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) ;[inet_http_server] ; inet (TCP) server disabled by default ;port=127.0.0.1:9001 ; ip_address:port specifier, *:port for all iface ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) [supervisord] logfile = /usr/local/var/log/supervisord.log ; main log file; default $CWD/supervisord.log logfile_maxbytes = 50MB ; max main logfile bytes b4 rotation; default 50MB logfile_backups = 10 ; # of main logfile backups; 0 means none, default 10 loglevel = info ; log level; default info; others: debug,warn,trace pidfile = /usr/local/var/run/supervisord.pid ; supervisord pidfile; default supervisord.pid nodaemon = false ; start in foreground if true; default false minfds = 1024 ; min. avail startup file descriptors; default 1024 minprocs = 200 ; min. avail process descriptors;default 200 ;umask=022 ; process file creation umask; default 022 ;user=chrism ; default is current user, required if root ;identifier=supervisor ; supervisord identifier, default is 'supervisor' ;directory=/tmp ; default is not to cd during start ;nocleanup=true ; don't clean up tempfiles at start; default false ;childlogdir=/tmp ; 'AUTO' child log dir, default $TEMP ;environment=KEY=\"value\" ; key value pairs to add to environment ;strip_ansi=false ; strip ansi escape codes in logs; def. false ; The rpcinterface:supervisor section must remain in the config file for ; RPC (supervisorctl/web interface) to work. Additional interfaces may be ; added by defining them in separate [rpcinterface:x] sections. [rpcinterface:supervisor] supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface ; The supervisorctl section configures how supervisorctl will connect to ; supervisord. configure it match the settings in either the unix_http_server ; or inet_http_server section. [supervisorctl] serverurl = unix:///usr/local/var/run/supervisor.sock ; use a unix:// URL for a unix socket ;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket ;username=chris ; should be same as in [*_http_server] if set ;password=123 ; should be same as in [*_http_server] if set ;prompt=mysupervisor ; cmd line prompt (default \"supervisor\") ;history_file=~/.sc_history ; use readline history if available ; The sample program section below shows all possible program subsection values. ; Create one or more 'real' program: sections to be able to control them under ; supervisor. ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=999 ; the relative start priority (default 999) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; when to restart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample eventlistener section below shows all possible eventlistener ; subsection values. Create one or more 'real' eventlistener: sections to be ; able to handle event notifications sent by supervisord. ;[eventlistener:theeventlistenername] ;command=/bin/eventlistener ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;events=EVENT ; event notif. types to subscribe to (req'd) ;buffer_size=10 ; event buffer queue size (default 10) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=-1 ; the relative start priority (default -1) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; autorestart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=false ; redirect_stderr=true is not allowed for eventlisteners ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample group section below shows all possible group values. Create one ; or more 'real' group: sections to create \"heterogeneous\" process groups. ;[group:thegroupname] ;programs=progname1,progname2 ; each refers to 'x' in [program:x] definitions ;priority=999 ; the relative start priority (default 999) ; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. [include] files = /usr/local/etc/supervisor.d/*.ini","title":"Configuration Template \u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u7248"},{"location":"supervisor/supervisor_conf/#details","text":"","title":"Details \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3"},{"location":"supervisor/supervisor_conf/#section-unix_http_server","text":"[ unix_http_server ] file =/ tmp / supervisor . sock ; socket\u6587\u4ef6\u7684\u8def\u5f84 \uff0c supervisorctl\u7528XML_RPC\u548csupervisord\u901a\u4fe1\u5c31\u662f\u901a\u8fc7\u5b83\u8fdb\u884c \u7684 \u3002 \u5982\u679c\u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c supervisorctl\u4e5f\u5c31\u4e0d\u80fd\u7528\u4e86 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3anone \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chmod = 0700 ; \u8fd9\u4e2a\u7b80\u5355 \uff0c \u5c31\u662f\u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u6743\u9650\u4e3a0700 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a0700 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chown = nobody : nogroup ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u5c5e\u7ec4\u4e3auser . group \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u542f\u52a8supervisord\u8fdb\u7a0b\u7684\u7528\u6237\u53ca\u5c5e\u7ec4 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; username = user ; \u4f7f\u7528supervisorctl\u8fde\u63a5\u7684\u65f6\u5019 \uff0c \u8ba4\u8bc1\u7684\u7528\u6237 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u9700\u8981\u7528\u6237 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u548c\u4e0a\u9762\u7684\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801 \uff0c \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u660e\u7801 \uff0c \u4e5f\u53ef\u4ee5\u4f7f\u7528SHA\u52a0\u5bc6 \u5982 \uff1a { SHA } 82ab876d1387bfafe46cc1c8a2ef074eae50cb1d \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e","title":"Section: unix_http_server"},{"location":"supervisor/supervisor_conf/#section-inet_http_server","text":"; [ inet_http_server ] ; \u4fa6\u542c\u5728TCP\u4e0a\u7684socket \uff0c Web Server\u548c\u8fdc\u7a0b\u7684supervisorctl\u90fd\u8981\u7528\u5230\u4ed6 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u5f00\u542f \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; port = 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662f\u4fa6\u542c\u7684IP\u548c\u7aef\u53e3 \uff0c \u4fa6\u542c\u6240\u6709IP\u7528 : 9001\u6216 * : 9001 \u3002 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e \uff0c \u53ea\u8981\u4e0a\u9762\u7684 [ inet_http_server ] \u5f00\u542f\u4e86 \uff0c \u5c31\u5fc5\u987b\u8bbe\u7f6e\u5b83 ; username = user ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684uinx_http_server\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u8fd9\u4e2a\u4e5f\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e","title":"Section: inet_http_server"},{"location":"supervisor/supervisor_conf/#section-supervisord","text":"[supervisord] ;\u8fd9\u4e2a\u4e3b\u8981\u662f\u5b9a\u4e49supervisord\u8fd9\u4e2a\u670d\u52a1\u7aef\u8fdb\u7a0b\u7684\u4e00\u4e9b\u53c2\u6570\u7684 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e\uff0c\u4e0d\u8bbe\u7f6e\uff0csupervisor\u5c31\u4e0d\u7528\u5e72\u6d3b\u4e86 logfile=/tmp/supervisord.log ; \u8fd9\u4e2a\u662fsupervisord\u8fd9\u4e2a\u4e3b\u8fdb\u7a0b\u7684\u65e5\u5fd7\u8def\u5f84\uff0c\u6ce8\u610f\u548c\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u4e0d\u642d\u560e\u3002 \u9ed8\u8ba4\u8def\u5f84$CWD/supervisord.log\uff0c$CWD\u662f\u5f53\u524d\u76ee\u5f55\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e logfile_maxbytes=50MB ; \u8fd9\u4e2a\u662f\u4e0a\u9762\u90a3\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u7684\u5927\u5c0f\uff0c\u5f53\u8d85\u8fc750M\u7684\u65f6\u5019\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u65e5 \u5fd7\u6587\u4ef6\u3002\u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u5927\u5c0f \u9ed8\u8ba4\u503c\u662f50M\uff0c\u975e\u5fc5\u987b\u8bbe\u7f6e\u3002 logfile_backups=10 ; \u65e5\u5fd7\u6587\u4ef6\u4fdd\u6301\u7684\u6570\u91cf\uff0csupervisor\u5728\u542f\u52a8\u7a0b\u5e8f\u65f6\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa10\u4e2abuckup\u6587\u4ef6\uff0c\u7528\u4e8elog rotate \u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u7684\u6570\u91cf\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a10\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e loglevel=info ; \u65e5\u5fd7\u7ea7\u522b\uff0c\u6709critical, error, warn, info, debug, trace, or blather\u7b49 \u9ed8\u8ba4\u4e3ainfo\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 pidfile=/tmp/supervisord.pid ; supervisord\u7684pid\u6587\u4ef6\u8def\u5f84\u3002 \u9ed8\u8ba4\u4e3a$CWD/supervisord.pid\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e nodaemon=false ; \u5982\u679c\u662ftrue\uff0csupervisord\u8fdb\u7a0b\u5c06\u5728\u524d\u53f0\u8fd0\u884c \u9ed8\u8ba4\u4e3afalse\uff0c\u4e5f\u5c31\u662f\u540e\u53f0\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minfds=1024 ; \u8fd9\u4e2a\u662f\u6700\u5c11\u7cfb\u7edf\u7a7a\u95f2\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u5c06\u4e0d\u4f1a\u542f\u52a8\u3002 \u7cfb\u7edf\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u5728\u8fd9\u91cc\u8bbe\u7f6ecat /proc/sys/fs/file-max \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a1024\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minprocs=200 ; \u6700\u5c0f\u53ef\u7528\u7684\u8fdb\u7a0b\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u4e5f\u5c06\u4e0d\u4f1a\u6b63\u5e38\u542f\u52a8\u3002 ulimit -u\u8fd9\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770blinux\u4e0b\u9762\u7528\u6237\u7684\u6700\u5927\u8fdb\u7a0b\u6570 \u9ed8\u8ba4\u4e3a200\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;umask=022 ; \u8fdb\u7a0b\u521b\u5efa\u6587\u4ef6\u7684\u63a9\u7801 \u9ed8\u8ba4\u4e3a022\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;user=chrism ; \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u975eroot\u7528\u6237\uff0c\u5f53\u6211\u4eec\u4ee5root\u7528\u6237\u542f\u52a8supervisord\u4e4b\u540e\u3002 \u6211\u8fd9\u91cc\u9762\u8bbe\u7f6e\u7684\u8fd9\u4e2a\u7528\u6237\uff0c\u4e5f\u53ef\u4ee5\u5bf9supervisord\u8fdb\u884c\u7ba1\u7406 \u9ed8\u8ba4\u60c5\u51b5\u662f\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;identifier=supervisor ; \u8fd9\u4e2a\u53c2\u6570\u662fsupervisord\u7684\u6807\u8bc6\u7b26\uff0c\u4e3b\u8981\u662f\u7ed9XML_RPC\u7528\u7684\u3002\u5f53\u4f60\u6709\u591a\u4e2a supervisor\u7684\u65f6\u5019\uff0c\u800c\u4e14\u60f3\u8c03\u7528XML_RPC\u7edf\u4e00\u7ba1\u7406\uff0c\u5c31\u9700\u8981\u4e3a\u6bcf\u4e2a supervisor\u8bbe\u7f6e\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u4e86 \u9ed8\u8ba4\u662fsupervisord\u3002\u3002\u3002\u975e\u5fc5\u9700\u8bbe\u7f6e ;directory=/tmp ; \u8fd9\u4e2a\u53c2\u6570\u662f\u5f53supervisord\u4f5c\u4e3a\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u7684\u8bdd\uff0c\u542f\u52a8 supervisord\u8fdb\u7a0b\u4e4b\u524d\uff0c\u4f1a\u5148\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;nocleanup=true ; \u8fd9\u4e2a\u53c2\u6570\u5f53\u4e3afalse\u7684\u65f6\u5019\uff0c\u4f1a\u5728supervisord\u8fdb\u7a0b\u542f\u52a8\u7684\u65f6\u5019\uff0c\u628a\u4ee5\u524d\u5b50\u8fdb\u7a0b \u4ea7\u751f\u7684\u65e5\u5fd7\u6587\u4ef6(\u8def\u5f84\u4e3aAUTO\u7684\u60c5\u51b5\u4e0b)\u6e05\u9664\u6389\u3002\u6709\u65f6\u5019\u54b1\u4eec\u60f3\u8981\u770b\u5386\u53f2\u65e5\u5fd7\uff0c\u5f53 \u7136\u4e0d\u60f3\u65e5\u5fd7\u88ab\u6e05\u9664\u4e86\u3002\u6240\u4ee5\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue \u9ed8\u8ba4\u662ffalse\uff0c\u6709\u8c03\u8bd5\u9700\u6c42\u7684\u540c\u5b66\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;childlogdir=/tmp ; \u5f53\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u8def\u5f84\u4e3aAUTO\u7684\u65f6\u5019\uff0c\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u6587\u4ef6\u7684\u5b58\u653e\u8def\u5f84\u3002 \u9ed8\u8ba4\u8def\u5f84\u662f\u8fd9\u4e2a\u4e1c\u897f\uff0c\u6267\u884c\u4e0b\u9762\u7684\u8fd9\u4e2a\u547d\u4ee4\u770b\u770b\u5c31OK\u4e86\uff0c\u5904\u7406\u7684\u4e1c\u897f\u5c31\u9ed8\u8ba4\u8def\u5f84 python -c \"import tempfile;print tempfile.gettempdir()\" \u975e\u5fc5\u987b\u8bbe\u7f6e ;environment=KEY=\"value\" ; \u8fd9\u4e2a\u662f\u7528\u6765\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\uff0csupervisord\u5728linux\u4e2d\u542f\u52a8\u9ed8\u8ba4\u7ee7\u627f\u4e86linux\u7684 \u73af\u5883\u53d8\u91cf\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u8bbe\u7f6esupervisord\u8fdb\u7a0b\u7279\u6709\u7684\u5176\u4ed6\u73af\u5883\u53d8\u91cf\u3002 supervisord\u542f\u52a8\u5b50\u8fdb\u7a0b\u65f6\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u62f7\u8d1d\u7236\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u5185\u5bb9\u3002 \u6240\u4ee5\u8bbe\u7f6e\u7684 \u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4e5f\u4f1a\u88ab\u5b50\u8fdb\u7a0b\u7ee7\u627f\u3002 \u5c0f\u4f8b\u5b50\uff1aenvironment=name=\"haha\",age=\"hehe\" \u9ed8\u8ba4\u4e3a\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;strip_ansi=false ; \u8fd9\u4e2a\u9009\u9879\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u4f1a\u6e05\u9664\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u4e2d\u7684\u6240\u6709ANSI \u5e8f\u5217\u3002\u4ec0\u4e48\u662fANSI \u5e8f\u5217\u5462\uff1f\u5c31\u662f\u6211\u4eec\u7684\\n,\\t\u8fd9\u4e9b\u4e1c\u897f\u3002 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e","title":"Section: supervisord"},{"location":"supervisor/supervisor_conf/#section-rpcinterface","text":"; the below section must remain in the config file for RPC ; ( supervisorctl / web interface ) to work , additional interfaces may be ; added by defining them in separate rpcinterface : sections [ rpcinterface : supervisor ] ; \u8fd9\u4e2a\u9009\u9879\u662f\u7ed9XML_RPC\u7528\u7684 \uff0c \u5f53\u7136\u4f60\u5982\u679c\u60f3\u4f7f\u7528supervisord\u6216\u8005web server \u8fd9 \u4e2a\u9009\u9879\u5fc5\u987b\u8981\u5f00\u542f\u7684 supervisor . rpcinterface_factory = supervisor . rpcinterface : make_main_rpcinterface","title":"Section: rpcinterface"},{"location":"supervisor/supervisor_conf/#section-supervisorctl","text":"[ supervisorctl ] ; \u8fd9\u4e2a\u4e3b\u8981\u662f\u9488\u5bf9supervisorctl\u7684\u4e00\u4e9b\u914d\u7f6e serverurl = unix :/// tmp / supervisor . sock ; \u8fd9\u4e2a\u662fsupervisorctl\u672c\u5730\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u672c\u5730UNIX socket \u8def\u5f84 \uff0c \u6ce8\u610f\u8fd9\u4e2a\u662f\u548c\u524d\u9762\u7684 [ unix_http_server ] \u5bf9\u5e94\u7684 \u9ed8\u8ba4\u503c\u5c31\u662funix :/// tmp / supervisor . sock \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; serverurl = http :// 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662fsupervisorctl\u8fdc\u7a0b\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u7528\u5230\u7684TCP socket\u8def\u5f84 \u6ce8\u610f\u8fd9\u4e2a\u548c\u524d\u9762\u7684 [ inet_http_server ] \u5bf9\u5e94 \u9ed8\u8ba4\u5c31\u662fhttp :// 127 . 0 . 0 . 1 : 9001 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; username = chris ; \u7528\u6237\u540d \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u5bc6\u7801 \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; prompt = mysupervisor ; \u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u65f6\u5019\u7684\u63d0\u793a\u7b26 \u9ed8\u8ba4supervisor \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; history_file =~/ . sc_history ; \u8fd9\u4e2a\u53c2\u6570\u548cshell\u4e2d\u7684history\u7c7b\u4f3c \uff0c \u6211\u4eec\u53ef\u4ee5\u7528\u4e0a\u4e0b\u952e\u6765\u67e5\u627e\u524d\u9762\u6267\u884c\u8fc7\u7684\u547d\u4ee4 \u9ed8\u8ba4\u662fno file\u7684 \u3002\u3002 \u6240\u4ee5\u6211\u4eec\u60f3\u8981\u6709\u8fd9\u79cd\u529f\u80fd \uff0c \u5fc5\u987b\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6 \u3002\u3002\u3002 \u975e \u5fc5\u987b\u8bbe\u7f6e","title":"Section: supervisorctl"},{"location":"supervisor/supervisor_conf/#section-program","text":"; The below sample program section shows all possible program subsection values , ; create one or more 'real' program : sections to be able to control them under ; supervisor . ; [ program : theprogramname ] ; \u8fd9\u4e2a\u5c31\u662f\u54b1\u4eec\u8981\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b\u4e86 \uff0c \":\" \u540e\u9762\u7684\u662f\u540d\u5b57 \uff0c \u6700\u597d\u522b\u4e71\u5199\u548c\u5b9e\u9645\u8fdb\u7a0b \u6709\u70b9\u5173\u8054\u6700\u597d \u3002 \u8fd9\u6837\u7684program\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u6216\u591a\u4e2a \uff0c \u4e00\u4e2aprogram\u5c31\u662f \u8981\u88ab\u7ba1\u7406\u7684\u4e00\u4e2a\u8fdb\u7a0b ; command =/ bin / cat ; \u8fd9\u4e2a\u5c31\u662f\u6211\u4eec\u7684\u8981\u542f\u52a8\u8fdb\u7a0b\u7684\u547d\u4ee4\u8def\u5f84\u4e86 \uff0c \u53ef\u4ee5\u5e26\u53c2\u6570 \u4f8b\u5b50 \uff1a / home / test . py -a 'hehe' \u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u6211\u4eec\u7684command\u53ea\u80fd\u662f\u90a3\u79cd\u5728\u7ec8\u7aef\u8fd0\u884c\u7684\u8fdb\u7a0b \uff0c \u4e0d\u80fd\u662f \u5b88\u62a4\u8fdb\u7a0b \u3002 \u8fd9\u4e2a\u60f3\u60f3\u4e5f\u77e5\u9053\u4e86 \uff0c \u6bd4\u5982\u8bf4command = service httpd start \u3002 httpd\u8fd9\u4e2a\u8fdb\u7a0b\u88ablinux\u7684service\u7ba1\u7406\u4e86 \uff0c \u6211\u4eec\u7684supervisor\u518d\u53bb\u542f\u52a8\u8fd9\u4e2a\u547d\u4ee4 \u8fd9\u5df2\u7ecf\u4e0d\u662f\u4e25\u683c\u610f\u4e49\u7684\u5b50\u8fdb\u7a0b\u4e86 \u3002 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u8bbe\u7f6e\u7684\u9879 ; process_name =%( program_name ) s ; \u8fd9\u4e2a\u662f\u8fdb\u7a0b\u540d \uff0c \u5982\u679c\u6211\u4eec\u4e0b\u9762\u7684numprocs\u53c2\u6570\u4e3a1\u7684\u8bdd \uff0c \u5c31\u4e0d\u7528\u7ba1\u8fd9\u4e2a\u53c2\u6570 \u4e86 \uff0c \u5b83\u9ed8\u8ba4\u503c %( program_name ) s\u4e5f\u5c31\u662f\u4e0a\u9762\u7684\u90a3\u4e2aprogram\u5192\u53f7\u540e\u9762\u7684\u540d\u5b57 \uff0c \u4f46\u662f\u5982\u679cnumprocs\u4e3a\u591a\u4e2a\u7684\u8bdd \uff0c \u90a3\u5c31\u4e0d\u80fd\u8fd9\u4e48\u5e72\u4e86 \u3002 \u60f3\u60f3\u4e5f\u77e5\u9053 \uff0c \u4e0d\u53ef\u80fd\u6bcf\u4e2a \u8fdb\u7a0b\u90fd\u7528\u540c\u4e00\u4e2a\u8fdb\u7a0b\u540d\u5427 \u3002 ; numprocs = 1 ; \u542f\u52a8\u8fdb\u7a0b\u7684\u6570\u76ee \u3002 \u5f53\u4e0d\u4e3a1\u65f6 \uff0c \u5c31\u662f\u8fdb\u7a0b\u6c60\u7684\u6982\u5ff5 \uff0c \u6ce8\u610fprocess_name\u7684\u8bbe\u7f6e \u9ed8\u8ba4\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; directory =/ tmp ; \u8fdb\u7a0b\u8fd0\u884c\u524d \uff0c \u4f1a\u524d\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; umask = 022 ; \u8fdb\u7a0b\u63a9\u7801 \uff0c \u9ed8\u8ba4none \uff0c \u975e\u5fc5\u987b ; priority = 999 ; \u5b50\u8fdb\u7a0b\u542f\u52a8\u5173\u95ed\u4f18\u5148\u7ea7 \uff0c \u4f18\u5148\u7ea7\u4f4e\u7684 \uff0c \u6700\u5148\u542f\u52a8 \uff0c \u5173\u95ed\u7684\u65f6\u5019\u6700\u540e\u5173\u95ed \u9ed8\u8ba4\u503c\u4e3a999 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autostart = true ; \u5982\u679c\u662ftrue\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u5c06\u5728supervisord\u542f\u52a8\u540e\u88ab\u81ea\u52a8\u542f\u52a8 \u9ed8\u8ba4\u5c31\u662ftrue \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autorestart = unexpected ; \u8fd9\u4e2a\u662f\u8bbe\u7f6e\u5b50\u8fdb\u7a0b\u6302\u6389\u540e\u81ea\u52a8\u91cd\u542f\u7684\u60c5\u51b5 \uff0c \u6709\u4e09\u4e2a\u9009\u9879 \uff0c false , unexpected \u548ctrue \u3002 \u5982\u679c\u4e3afalse\u7684\u65f6\u5019 \uff0c \u65e0\u8bba\u4ec0\u4e48\u60c5\u51b5\u4e0b \uff0c \u90fd\u4e0d\u4f1a\u88ab\u91cd\u65b0\u542f\u52a8 \uff0c \u5982\u679c\u4e3aunexpected \uff0c \u53ea\u6709\u5f53\u8fdb\u7a0b\u7684\u9000\u51fa\u7801\u4e0d\u5728\u4e0b\u9762\u7684exitcodes\u91cc\u9762\u5b9a\u4e49\u7684\u9000 \u51fa\u7801\u7684\u65f6\u5019 \uff0c \u624d\u4f1a\u88ab\u81ea\u52a8\u91cd\u542f \u3002 \u5f53\u4e3atrue\u7684\u65f6\u5019 \uff0c \u53ea\u8981\u5b50\u8fdb\u7a0b\u6302\u6389 \uff0c \u5c06\u4f1a\u88ab\u65e0 \u6761\u4ef6\u7684\u91cd\u542f ; startsecs = 1 ; \u8fd9\u4e2a\u9009\u9879\u662f\u5b50\u8fdb\u7a0b\u542f\u52a8\u591a\u5c11\u79d2\u4e4b\u540e \uff0c \u6b64\u65f6\u72b6\u6001\u5982\u679c\u662frunning \uff0c \u5219\u6211\u4eec\u8ba4\u4e3a\u542f \u52a8\u6210\u529f\u4e86 \u9ed8\u8ba4\u503c\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; startretries = 3 ; \u5f53\u8fdb\u7a0b\u542f\u52a8\u5931\u8d25\u540e \uff0c \u6700\u5927\u5c1d\u8bd5\u542f\u52a8\u7684\u6b21\u6570 \u3002\u3002 \u5f53\u8d85\u8fc73\u6b21\u540e \uff0c supervisor\u5c06\u628a \u6b64\u8fdb\u7a0b\u7684\u72b6\u6001\u7f6e\u4e3aFAIL \u9ed8\u8ba4\u503c\u4e3a3 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; exitcodes = 0 , 2 ; \u6ce8\u610f\u548c\u4e0a\u9762\u7684\u7684autorestart = unexpected\u5bf9\u5e94 \u3002\u3002 exitcodes\u91cc\u9762\u7684\u5b9a\u4e49\u7684 \u9000\u51fa\u7801\u662fexpected\u7684 \u3002 ; stopsignal = QUIT ; \u8fdb\u7a0b\u505c\u6b62\u4fe1\u53f7 \uff0c \u53ef\u4ee5\u4e3aTERM , HUP , INT , QUIT , KILL , USR1 , or USR2\u7b49\u4fe1\u53f7 \u9ed8\u8ba4\u4e3aTERM \u3002\u3002 \u5f53\u7528\u8bbe\u5b9a\u7684\u4fe1\u53f7\u53bb\u5e72\u6389\u8fdb\u7a0b \uff0c \u9000\u51fa\u7801\u4f1a\u88ab\u8ba4\u4e3a\u662fexpected \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopwaitsecs = 10 ; \u8fd9\u4e2a\u662f\u5f53\u6211\u4eec\u5411\u5b50\u8fdb\u7a0b\u53d1\u9001stopsignal\u4fe1\u53f7\u540e \uff0c \u5230\u7cfb\u7edf\u8fd4\u56de\u4fe1\u606f \u7ed9supervisord \uff0c \u6240\u7b49\u5f85\u7684\u6700\u5927\u65f6\u95f4 \u3002 \u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4 \uff0c supervisord\u4f1a\u5411\u8be5 \u5b50\u8fdb\u7a0b\u53d1\u9001\u4e00\u4e2a\u5f3a\u5236kill\u7684\u4fe1\u53f7 \u3002 \u9ed8\u8ba4\u4e3a10\u79d2 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopasgroup = false ; \u8fd9\u4e2a\u4e1c\u897f\u4e3b\u8981\u7528\u4e8e \uff0c supervisord\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b \uff0c \u8fd9\u4e2a\u5b50\u8fdb\u7a0b\u672c\u8eab\u8fd8\u6709 \u5b50\u8fdb\u7a0b \u3002 \u90a3\u4e48\u6211\u4eec\u5982\u679c\u4ec5\u4ec5\u5e72\u6389supervisord\u7684\u5b50\u8fdb\u7a0b\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u7684\u5b50\u8fdb\u7a0b \u6709\u53ef\u80fd\u4f1a\u53d8\u6210\u5b64\u513f\u8fdb\u7a0b \u3002 \u6240\u4ee5\u54b1\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u53ef\u4e2a\u9009\u9879 \uff0c \u628a\u6574\u4e2a\u8be5\u5b50\u8fdb\u7a0b\u7684 \u6574\u4e2a\u8fdb\u7a0b\u7ec4\u90fd\u5e72\u6389 \u3002 \u8bbe\u7f6e\u4e3atrue\u7684\u8bdd \uff0c \u4e00\u822ckillasgroup\u4e5f\u4f1a\u88ab\u8bbe\u7f6e\u4e3atrue \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u8be5\u9009\u9879\u53d1\u9001\u7684\u662fstop\u4fe1\u53f7 \u9ed8\u8ba4\u4e3afalse \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e \u3002\u3002 ; killasgroup = false ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684stopasgroup\u7c7b\u4f3c \uff0c \u4e0d\u8fc7\u53d1\u9001\u7684\u662fkill\u4fe1\u53f7 ; user = chrism ; \u5982\u679csupervisord\u662froot\u542f\u52a8 \uff0c \u6211\u4eec\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8fd9\u4e2a\u975eroot\u7528\u6237 \uff0c \u53ef\u4ee5\u7528\u6765 \u7ba1\u7406\u8be5program \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ; redirect_stderr = true ; \u5982\u679c\u4e3atrue \uff0c \u5219stderr\u7684\u65e5\u5fd7\u4f1a\u88ab\u5199\u5165stdout\u65e5\u5fd7\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3afalse \uff0c \u975e\u5fc5\u987b\u8bbe\u7f6e ; stdout_logfile =/ a / path ; \u5b50\u8fdb\u7a0b\u7684stdout\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u53ef\u4ee5\u6307\u5b9a\u8def\u5f84 \uff0c AUTO \uff0c none\u7b49\u4e09\u4e2a\u9009\u9879 \u3002 \u8bbe\u7f6e\u4e3anone\u7684\u8bdd \uff0c \u5c06\u6ca1\u6709\u65e5\u5fd7\u4ea7\u751f \u3002 \u8bbe\u7f6e\u4e3aAUTO\u7684\u8bdd \uff0c \u5c06\u968f\u673a\u627e\u4e00\u4e2a\u5730\u65b9 \u751f\u6210\u65e5\u5fd7\u6587\u4ef6 \uff0c \u800c\u4e14\u5f53supervisord\u91cd\u65b0\u542f\u52a8\u7684\u65f6\u5019 \uff0c \u4ee5\u524d\u7684\u65e5\u5fd7\u6587\u4ef6\u4f1a\u88ab \u6e05\u7a7a \u3002 \u5f53 redirect_stderr = true\u7684\u65f6\u5019 \uff0c sterr\u4e5f\u4f1a\u5199\u8fdb\u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6 ; stdout_logfile_maxbytes = 1MB ; \u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u5927\u5c0f \uff0c \u548c [ supervisord ] \u4e2d\u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a50 ; stdout_logfile_backups = 10 ; \u548c [ supervisord ] \u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba410 ; stdout_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u5b9acapture\u7ba1\u9053\u7684\u5927\u5c0f \uff0c \u5f53\u503c\u4e0d\u4e3a0\u7684\u65f6\u5019 \uff0c \u5b50\u8fdb\u7a0b\u53ef\u4ee5\u4ecestdout \u53d1\u9001\u4fe1\u606f \uff0c \u800csupervisor\u53ef\u4ee5\u6839\u636e\u4fe1\u606f \uff0c \u53d1\u9001\u76f8\u5e94\u7684event \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u4e3a0\u7684\u65f6\u5019\u8868\u8fbe\u5173\u95ed\u7ba1\u9053 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; stdout_events_enabled = false ; \u5f53\u8bbe\u7f6e\u4e3ature\u7684\u65f6\u5019 \uff0c \u5f53\u5b50\u8fdb\u7a0b\u7531stdout\u5411\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e2d\u5199\u65e5\u5fd7\u7684\u65f6\u5019 \uff0c \u5c06 \u89e6\u53d1supervisord\u53d1\u9001PROCESS_LOG_STDOUT\u7c7b\u578b\u7684event \u9ed8\u8ba4\u4e3afalse \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile =/ a / path ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u7f6estderr\u5199\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u5f53redirect_stderr = true \u3002 \u8fd9\u4e2a\u5c31\u4e0d\u7528 \u8bbe\u7f6e\u4e86 \uff0c \u8bbe\u7f6e\u4e86\u4e5f\u662f\u767d\u642d \u3002 \u56e0\u4e3a\u5b83\u4f1a\u88ab\u5199\u5165stdout_logfile\u7684\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3aAUTO \uff0c \u4e5f\u5c31\u662f\u968f\u4fbf\u627e\u4e2a\u5730\u5b58 \uff0c supervisord\u91cd\u542f\u88ab\u6e05\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile_maxbytes = 1MB ; \u8fd9\u4e2a\u51fa\u73b0\u597d\u51e0\u6b21\u4e86 \uff0c \u5c31\u4e0d\u91cd\u590d\u4e86 ; stderr_logfile_backups = 10 ; \u8fd9\u4e2a\u4e5f\u662f ; stderr_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u548cstdout_capture\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u5173\u95ed\u72b6\u6001 ; stderr_events_enabled = false ; \u8fd9\u4e2a\u4e5f\u662f\u4e00\u6837 \uff0c \u9ed8\u8ba4\u4e3afalse ; environment = A = \"1\" , B = \"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \uff0c \u548c\u522b\u7684\u5b50\u8fdb\u7a0b\u662f\u4e0d\u5171\u4eab\u7684 ; serverurl = AUTO ;","title":"Section: program"},{"location":"supervisor/supervisor_conf/#section-eventlistener","text":"; The below sample eventlistener section shows all possible ; eventlistener subsection values, create one or more 'real' ; eventlistener: sections to be able to handle event notifications ; sent by supervisor. ;[eventlistener:theeventlistenername] ;\u8fd9\u4e2a\u4e1c\u897f\u5176\u5b9e\u548cprogram\u7684\u5730\u4f4d\u662f\u4e00\u6837\u7684\uff0c\u4e5f\u662fsuopervisor\u542f\u52a8\u7684\u5b50\u8fdb \u7a0b\uff0c\u4e0d\u8fc7\u5b83\u5e72\u7684\u6d3b\u662f\u8ba2\u9605supervisord\u53d1\u9001\u7684event\u3002\u4ed6\u7684\u540d\u5b57\u5c31\u53eb listener\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728listener\u91cc\u9762\u505a\u4e00\u7cfb\u5217\u5904\u7406\uff0c\u6bd4\u5982\u62a5\u8b66\u7b49\u7b49 \u697c\u4e3b\u8fd9\u4e24\u5929\u5e72\u7684\u6d3b\uff0c\u5c31\u662f\u5f04\u7684\u8fd9\u73a9\u610f ;command=/bin/eventlistener ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684program\u4e00\u6837\uff0c\u8868\u793alistener\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84 ;process_name=%(program_name)s ; \u8fd9\u4e2a\u4e5f\u4e00\u6837\uff0c\u8fdb\u7a0b\u540d\uff0c\u5f53\u4e0b\u9762\u7684numprocs\u4e3a\u591a\u4e2a\u7684\u65f6\u5019\uff0c\u624d\u9700\u8981\u3002\u5426\u5219\u9ed8\u8ba4\u5c31 OK\u4e86 ;numprocs=1 ; \u76f8\u540c\u7684listener\u542f\u52a8\u7684\u4e2a\u6570 ;events=EVENT ; event\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u6709\u5199\u5728\u8fd9\u4e2a\u5730\u65b9\u7684\u4e8b\u4ef6\u7c7b\u578b\u3002\u624d\u4f1a\u88ab\u53d1\u9001 ;buffer_size=10 ; \u8fd9\u4e2a\u662fevent\u961f\u5217\u7f13\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\u4e0d\u592a\u6e05\u695a\uff0c\u697c\u4e3b\u731c\u6d4b\u5e94\u8be5\u662f\u4e2a\u5427\u3002\u5f53buffer \u8d85\u8fc710\u7684\u65f6\u5019\uff0c\u6700\u65e7\u7684event\u5c06\u4f1a\u88ab\u6e05\u9664\uff0c\u5e76\u628a\u65b0\u7684event\u653e\u8fdb\u53bb\u3002 \u9ed8\u8ba4\u503c\u4e3a10\u3002\u3002\u975e\u5fc5\u987b\u9009\u9879 ;directory=/tmp ; \u8fdb\u7a0b\u6267\u884c\u524d\uff0c\u4f1a\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6267\u884c \u9ed8\u8ba4\u4e3a\u4e0d\u5207\u6362\u3002\u3002\u3002\u975e\u5fc5\u987b ;umask=022 ; \u6df9\u6ca1\uff0c\u9ed8\u8ba4\u4e3anone\uff0c\u4e0d\u8bf4\u4e86 ;priority=-1 ; \u542f\u52a8\u4f18\u5148\u7ea7\uff0c\u9ed8\u8ba4-1\uff0c\u4e5f\u4e0d\u626f\u4e86 ;autostart=true ; \u662f\u5426\u968fsupervisord\u542f\u52a8\u4e00\u8d77\u542f\u52a8\uff0c\u9ed8\u8ba4true ;autorestart=unexpected ; \u662f\u5426\u81ea\u52a8\u91cd\u542f\uff0c\u548cprogram\u4e00\u4e2a\u6837\uff0c\u5206true,false,unexpected\u7b49\uff0c\u6ce8\u610f unexpected\u548cexitcodes\u7684\u5173\u7cfb ;startsecs=1 ; \u4e5f\u662f\u4e00\u6837\uff0c\u8fdb\u7a0b\u542f\u52a8\u540e\u8dd1\u4e86\u51e0\u79d2\u949f\uff0c\u624d\u88ab\u8ba4\u5b9a\u4e3a\u6210\u529f\u542f\u52a8\uff0c\u9ed8\u8ba41 ;startretries=3 ; \u5931\u8d25\u6700\u5927\u5c1d\u8bd5\u6b21\u6570\uff0c\u9ed8\u8ba43 ;exitcodes=0,2 ; \u671f\u671b\u6216\u8005\u8bf4\u9884\u6599\u4e2d\u7684\u8fdb\u7a0b\u9000\u51fa\u7801\uff0c ;stopsignal=QUIT ; \u5e72\u6389\u8fdb\u7a0b\u7684\u4fe1\u53f7\uff0c\u9ed8\u8ba4\u4e3aTERM\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3aQUIT\uff0c\u90a3\u4e48\u5982\u679cQUIT\u6765\u5e72\u8fd9\u4e2a\u8fdb\u7a0b \u90a3\u4e48\u4f1a\u88ab\u8ba4\u4e3a\u662f\u6b63\u5e38\u7ef4\u62a4\uff0c\u9000\u51fa\u7801\u4e5f\u88ab\u8ba4\u4e3a\u662fexpected\u4e2d\u7684 ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ;\u8bbe\u7f6e\u666e\u901a\u7528\u6237\uff0c\u53ef\u4ee5\u7528\u6765\u7ba1\u7406\u8be5listener\u8fdb\u7a0b\u3002 \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;redirect_stderr=true ; \u4e3atrue\u7684\u8bdd\uff0cstderr\u7684log\u4f1a\u5e76\u5165stdout\u7684log\u91cc\u9762 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;stdout_logfile=/a/path ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86\uff0c\u597d\u51e0\u904d\u4e86 ;stdout_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_logfile_backups=10 ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_events_enabled=false ; \u8fd9\u4e2a\u5176\u5b9e\u662f\u9519\u7684\uff0clistener\u662f\u4e0d\u80fd\u53d1\u9001event ;stderr_logfile=/a/path ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_backups ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86 ;stderr_events_enabled=false ; \u8fd9\u4e2a\u4e5f\u662f\u9519\u7684\uff0clistener\u4e0d\u80fd\u53d1\u9001event ;environment=A=\"1\",B=\"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;serverurl=AUTO ; override serverurl computation (childutils)","title":"Section: eventlistener"},{"location":"supervisor/supervisor_conf/#section-group","text":"; The below sample group section shows all possible group values , ; create one or more 'real' group : sections to create \"heterogeneous\" ; process groups . ; [ group : thegroupname ] ; \u8fd9\u4e2a\u4e1c\u897f\u5c31\u662f\u7ed9programs\u5206\u7ec4 \uff0c \u5212\u5206\u5230\u7ec4\u91cc\u9762\u7684program \u3002 \u6211\u4eec\u5c31\u4e0d\u7528\u4e00\u4e2a\u4e00\u4e2a\u53bb\u64cd\u4f5c\u4e86 \u6211\u4eec\u53ef\u4ee5\u5bf9\u7ec4\u540d\u8fdb\u884c\u7edf\u4e00\u7684\u64cd\u4f5c \u3002 \u6ce8\u610f \uff1a program\u88ab\u5212\u5206\u5230\u7ec4\u91cc\u9762\u4e4b\u540e \uff0c \u5c31\u76f8\u5f53\u4e8e\u539f\u6765 \u7684\u914d\u7f6e\u4ecesupervisor\u7684\u914d\u7f6e\u6587\u4ef6\u91cc\u6d88\u5931\u4e86 \u3002\u3002\u3002 supervisor\u53ea\u4f1a\u5bf9\u7ec4\u8fdb\u884c\u7ba1\u7406 \uff0c \u800c\u4e0d\u518d \u4f1a\u5bf9\u7ec4\u91cc\u9762\u7684\u5355\u4e2aprogram\u8fdb\u884c\u7ba1\u7406\u4e86 ; programs = progname1 , progname2 ; \u7ec4\u6210\u5458 \uff0c \u7528\u9017\u53f7\u5206\u5f00 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u7684\u8bbe\u7f6e\u9879 ; priority = 999 ; \u4f18\u5148\u7ea7 \uff0c \u76f8\u5bf9\u4e8e\u7ec4\u548c\u7ec4\u4e4b\u95f4\u8bf4\u7684 \u9ed8\u8ba4999 \u3002\u3002 \u975e\u5fc5\u987b\u9009\u9879","title":"Section: group"},{"location":"supervisor/supervisor_conf/#section-include","text":"; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. ;[include] ;\u8fd9\u4e2a\u4e1c\u897f\u633a\u6709\u7528\u7684\uff0c\u5f53\u6211\u4eec\u8981\u7ba1\u7406\u7684\u8fdb\u7a0b\u5f88\u591a\u7684\u65f6\u5019\uff0c\u5199\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762 \u5c31\u6709\u70b9\u5927\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u914d\u7f6e\u4fe1\u606f\u5199\u5230\u591a\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7136\u540einclude\u8fc7\u6765 ;files = relative/directory/*.ini","title":"Section: include"},{"location":"supervisor/supervisor_conf/#supervisord","text":"$ supervisord --h supervisord -- run a set of applications as daemons. Usage: /usr/local/bin/supervisord [ options ] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -n/--nodaemon -- run in the foreground ( same as 'nodaemon=true' in config file ) -h/--help -- print this usage message and exit -v/--version -- print supervisord version number and exit -u/--user USER -- run supervisord as this user ( or numeric uid ) -m/--umask UMASK -- use this umask for daemon subprocess ( default is 022 ) -d/--directory DIRECTORY -- directory to chdir to when daemonized -l/--logfile FILENAME -- use FILENAME as logfile path -y/--logfile_maxbytes BYTES -- use BYTES to limit the max size of logfile -z/--logfile_backups NUM -- number of backups to keep when max bytes reached -e/--loglevel LEVEL -- use LEVEL as log level ( debug,info,warn,error,critical ) -j/--pidfile FILENAME -- write a pid file for the daemon process to FILENAME -i/--identifier STR -- identifier used for this instance of supervisord -q/--childlogdir DIRECTORY -- the log directory for child process logs -k/--nocleanup -- prevent the process from performing cleanup ( removal of old automatic child log files ) at startup. -a/--minfds NUM -- the minimum number of file descriptors for start success -t/--strip_ansi -- strip ansi escape codes from process output --minprocs NUM -- the minimum number of processes available for start success --profile_options OPTIONS -- run supervisord under profiler and output results based on OPTIONS, which is a comma-sep 'd list of ' cumulative ', ' calls ', and/or ' callers ', e.g. ' cumulative,callers ' )","title":"supervisord"},{"location":"supervisor/supervisor_conf/#supervisorctl","text":"$ supervisorctl --help supervisorctl -- control applications run by supervisord from the cmd line. Usage: /usr/local/bin/supervisorctl [ options ] [ action [ arguments ]] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -h/--help -- print usage message and exit -i/--interactive -- start an interactive shell after executing commands -s/--serverurl URL -- URL on which supervisord server is listening ( default \"http://localhost:9001\" ) . -u/--username USERNAME -- username to use for authentication with server -p/--password PASSWORD -- password to use for authentication with server -r/--history-file -- keep a readline history ( if readline is available ) action [ arguments ] -- see below Actions are commands like \"tail\" or \"stop\" . If -i is specified or no action is specified on the command line, a \"shell\" interpreting actions typed interactively is started. Use the action \"help\" to find out about available actions. \u9009\u9879 \u89e3\u91ca -c/--configuration FILENAME configuration file path (searches if not given) -h/--help print usage message and exit -i/--interactive start an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"supervisorctl"},{"location":"supervisor/supervisorctl/","text":"supervisorctl \u00b6 1. Introduction \u7b80\u4ecb \u00b6 supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002 2. Running supervisorctl \u8fd0\u884c \u00b6 supervisorctl [options] [action [arguments]] 2-1. supervisorctl Command-Line Options \u547d\u4ee4\u884c\u9009\u9879 \u00b6 options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -h, --help \u663e\u793a\u547d\u4ee4\u7684\u7528\u6cd5 -i, --interactive \u6267\u884c\u5b8c\u547d\u4ee4\u4e4b\u540e\u542f\u52a8\u4ea4\u4e92\u5f0fshellstart an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"supervisorctl"},{"location":"supervisor/supervisorctl/#","text":"","title":"supervisorctl"},{"location":"supervisor/supervisorctl/#introduction","text":"supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002","title":"1. Introduction \u7b80\u4ecb"},{"location":"supervisor/supervisorctl/#running","text":"supervisorctl [options] [action [arguments]]","title":"2. Running supervisorctl \u8fd0\u884c"},{"location":"supervisor/supervisorctl/#options","text":"options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -h, --help \u663e\u793a\u547d\u4ee4\u7684\u7528\u6cd5 -i, --interactive \u6267\u884c\u5b8c\u547d\u4ee4\u4e4b\u540e\u542f\u52a8\u4ea4\u4e92\u5f0fshellstart an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"2-1. supervisorctl Command-Line Options \u547d\u4ee4\u884c\u9009\u9879"},{"location":"supervisor/supervisord/","text":"supervisord \u00b6 1. Introduction \u7b80\u4ecb \u00b6 supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002 2. Running supervisord \u8fd0\u884c \u00b6 2-1. supervisord Command-Line Options \u547d\u4ee4\u884c\u9009\u9879 \u00b6 options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -n, --nodaemon \u4ee5\u975e\u5b88\u62a4\u8fdb\u7a0b\u7684\u65b9\u5f0f\u8fd0\u884c -h, --help \u663e\u793a supervisord \u547d\u4ee4\u7684\u5e2e\u52a9 -u USER, --user=USER \u4ee5\u6307\u5b9a\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c -m OCTAL, --umask=OCTAL \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u7f3a\u7701\u6743\u9650 -v, --version \u663e\u793a supervisord \u7684\u7248\u672c -d PATH, --directory=PATH \u5728\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u65b9\u5f0f\u542f\u52a8 supervisord \u4e4b\u524d\uff0c\u628a\u5de5\u4f5c\u76ee\u5f55\u5207\u6362\u5230\u8be5\u76ee\u5f55 -l FILE, --logfile=FILE \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84 -y BYTES, --logfile_maxbytes=BYTES \u6307\u5b9a\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6587\u4ef6\u5927\u5c0f\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u81ea\u52a8\u5206\u6587\u4ef6\u5907\u4efd\u3002\"1\"\u8868\u793a1\u5b57\u8282\uff0c\u53ef\u4ee5\u5199\u6210\"1MB\", \"1GB\"\u7684\u5f62\u5f0f -z NUM, --logfile_backups=NUM \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6570\u91cf\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u8986\u76d6\u6700\u65e9\u7684\u90a3\u4e2a\u3002 -e LEVEL, --loglevel=LEVEL \u6307\u5b9a\u8f93\u51fa\u7684\u65e5\u5fd7\u7b49\u7ea7\u3002 -j FILE, --pidfile=FILE \u6307\u5b9a supervisord \u7684 pid \u6587\u4ef6\u8def\u5f84 -i STRING, --identifier=STRING identifier used for this instance of supervisord -q PATH, --childlogdir=PATH \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u6587\u4ef6\u76ee\u5f55 -k, --nocleanup \u542f\u52a8\u65f6\u4e0d\u6e05\u9664\u65e7\u7684 AUTO \u7684\u65e5\u5fd7\u6587\u4ef6 -a NUM, --minfds=NUM the minimum number of file descriptors for start success -t, --strip_ansi strip ansi escape codes from process output --profile_options=LIST run supervisord under profiler and output results based on OPTIONS, which is a comma-sep'd list of 'cumulative', 'calls', and/or 'callers', e.g. 'cumulative,callers') --minprocs=NUM the minimum number of processes available for start success","title":"supervisord"},{"location":"supervisor/supervisord/#","text":"","title":"supervisord"},{"location":"supervisor/supervisord/#introduction","text":"supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002","title":"1. Introduction \u7b80\u4ecb"},{"location":"supervisor/supervisord/#running","text":"","title":"2. Running supervisord \u8fd0\u884c"},{"location":"supervisor/supervisord/#command-line-options","text":"options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -n, --nodaemon \u4ee5\u975e\u5b88\u62a4\u8fdb\u7a0b\u7684\u65b9\u5f0f\u8fd0\u884c -h, --help \u663e\u793a supervisord \u547d\u4ee4\u7684\u5e2e\u52a9 -u USER, --user=USER \u4ee5\u6307\u5b9a\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c -m OCTAL, --umask=OCTAL \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u7f3a\u7701\u6743\u9650 -v, --version \u663e\u793a supervisord \u7684\u7248\u672c -d PATH, --directory=PATH \u5728\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u65b9\u5f0f\u542f\u52a8 supervisord \u4e4b\u524d\uff0c\u628a\u5de5\u4f5c\u76ee\u5f55\u5207\u6362\u5230\u8be5\u76ee\u5f55 -l FILE, --logfile=FILE \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84 -y BYTES, --logfile_maxbytes=BYTES \u6307\u5b9a\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6587\u4ef6\u5927\u5c0f\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u81ea\u52a8\u5206\u6587\u4ef6\u5907\u4efd\u3002\"1\"\u8868\u793a1\u5b57\u8282\uff0c\u53ef\u4ee5\u5199\u6210\"1MB\", \"1GB\"\u7684\u5f62\u5f0f -z NUM, --logfile_backups=NUM \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6570\u91cf\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u8986\u76d6\u6700\u65e9\u7684\u90a3\u4e2a\u3002 -e LEVEL, --loglevel=LEVEL \u6307\u5b9a\u8f93\u51fa\u7684\u65e5\u5fd7\u7b49\u7ea7\u3002 -j FILE, --pidfile=FILE \u6307\u5b9a supervisord \u7684 pid \u6587\u4ef6\u8def\u5f84 -i STRING, --identifier=STRING identifier used for this instance of supervisord -q PATH, --childlogdir=PATH \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u6587\u4ef6\u76ee\u5f55 -k, --nocleanup \u542f\u52a8\u65f6\u4e0d\u6e05\u9664\u65e7\u7684 AUTO \u7684\u65e5\u5fd7\u6587\u4ef6 -a NUM, --minfds=NUM the minimum number of file descriptors for start success -t, --strip_ansi strip ansi escape codes from process output --profile_options=LIST run supervisord under profiler and output results based on OPTIONS, which is a comma-sep'd list of 'cumulative', 'calls', and/or 'callers', e.g. 'cumulative,callers') --minprocs=NUM the minimum number of processes available for start success","title":"2-1. supervisord Command-Line Options \u547d\u4ee4\u884c\u9009\u9879"}]}