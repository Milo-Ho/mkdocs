{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"todo list \u00b6 \u6574\u7406 markdown\u8bed\u6cd5 \u6574\u7406 mkdocs\u8bed\u6cd5 \u6574\u7406 supervisor\u8bed\u6cd5 The HTML specification is maintained by the W3C. *[HTML]: Hyper Text Markup Language *[W3C]: World Wide Web Consortium optional explicit title within double quotes Any number of other indented markdown elements. This is the second paragraph. Note this is note Don't try this at home ... attention attention caution caution error error danger danger hint hint important important note note tip tip warning warning unknown ... :command: supervisord Command-Line Options \u53ea\u6709\u4e00\u4e2ah1 h2\u5e76\u5217\u5173\u7cfb\uff0c\u5c3d\u91cf\u4e0d\u52a0\u5e8f\u53f7 h3~h6 \u6709\u987a\u5e8f\u7684\u53ef\u4ee5\u52a0\u5e8f\u53f7\uff0c\u6ca1\u6709\u987a\u5e8f\u5173\u7cfb\u7684\u4e5f\u5c3d\u91cf\u4e0d\u52a0\u5e8f\u53f7 h3 1. 2. 3. h4 (1) (2) (3) h5 a. b. c. h6 \u2460 \u258d\u8fd9\u4e2a\u52a0\u5728\u5206\u7ea7\u6807\u9898\u524d\u6548\u679c\u597d \u258f\u8fd9\u4e2a\u5728\u6bb5\u843d\u524d\u7b49\u4e8e\u662f\u7a7a\u683c\u5404\u79cd\u4e09\u89d2 \u25b7 \u25c1 \u25b6 \u25c0 \u25b3\u25bd\u25b2\u25bc \u27a5 \u548c \u2192 \u8fd8\u6709 \u02c9\u02c9\u21b4 \u4ee5\u53ca \u27a8 \u8d77\u5f15\u5bfc\u89c6\u7ebf\u7684\u4f5c\u7528 \u261b \u8fd9\u4e2a\u662f\u70b9\u51fb \u2611 \u548c \u2714 \u662f\u5df2\u7ecf\u9009\u62e9\uff0cOK \u2718 \u662f\u9519\u8bef\uff0c\u5220\u9664\uff0cNO \u2704 \u662f\u526a\u5207 \u2750 \u8fd9\u4e2a\u662f\u590d\u5236\u7c98\u8d34 \u271a \u662f\u6dfb\u52a0\uff0c\u8865\u5145\uff0c\u9009\u9879 \u2637 \u662f\u5217\u8868\uff0c\u8c03\u6574\u683c\u5f0f \u2460 \u2461 \u2462 \u2463 \u2464 \u2465 \u2466 \u2467 \u2468 \u2469 \u8fd9\u6837\u7684\u6570\u5b57\u662f\u4e0d\u662f\u5f88\u9177 \u7f57\u9a6c\u6570\u5b57\uff08\u2160\u00b7\u2161\u00b7\u2162\u00b7\u2163\u00b7\u2164\u00b7\u2165\u00b7\u2166\u00b7\u2167\u00b7\u2168\u00b7\u2169\u00b7\u216a\u00b7\u216b\uff09\u6bd4\u8f83\u4f18\u96c5\u590d\u53e4 st=>start: Start:>http://www.google.com[blank] e=>end:>http://www.google.com op1=>operation: My Operation sub1=>subroutine: My Subroutine cond=>condition: Yes or No?:>http://www.google.com io=>inputoutput: catch something... st->op1->cond cond(yes)->io->e cond(no)->sub1(right)->op1 Title : Here is a title A -> B : Normal line B --> C : Dashed line C ->> D : Open arrow D -->> A : Dashed open arrow graph TD client1-->|read / write|SVN((SVN server)) client2-->|read only|SVN client3-->|read / write|SVN client4-->|read only|SVN client5(...)-->SVN SVN---|store the data|sharedrive graph TD subgraph Request Request end subgraph Views Views end subgraph Helper Helper end subgraph Objects Objects end subgraph Model Model end subgraph Cache Cache end Request-->|route\u8bf7\u6c42\u901a\u8fc7\u8def\u7531\u5230\u8fbe\u89c6\u56fe|Views Title : \u4e1a\u52a1\u903b\u8f91\u7684\u67b6\u6784 Request -> Views : route Views -> Helper : call Helper -> Objects : operate Objects --> Model : read / write Objects --> Cache : read / write Model --> Objects : return Cache --> Objects : return Objects --> Helper : return Helper --> Views : return Views --> Response : return","title":"Home"},{"location":"#td_list","text":"\u6574\u7406 markdown\u8bed\u6cd5 \u6574\u7406 mkdocs\u8bed\u6cd5 \u6574\u7406 supervisor\u8bed\u6cd5 The HTML specification is maintained by the W3C. *[HTML]: Hyper Text Markup Language *[W3C]: World Wide Web Consortium optional explicit title within double quotes Any number of other indented markdown elements. This is the second paragraph. Note this is note Don't try this at home ... attention attention caution caution error error danger danger hint hint important important note note tip tip warning warning unknown ... :command: supervisord Command-Line Options \u53ea\u6709\u4e00\u4e2ah1 h2\u5e76\u5217\u5173\u7cfb\uff0c\u5c3d\u91cf\u4e0d\u52a0\u5e8f\u53f7 h3~h6 \u6709\u987a\u5e8f\u7684\u53ef\u4ee5\u52a0\u5e8f\u53f7\uff0c\u6ca1\u6709\u987a\u5e8f\u5173\u7cfb\u7684\u4e5f\u5c3d\u91cf\u4e0d\u52a0\u5e8f\u53f7 h3 1. 2. 3. h4 (1) (2) (3) h5 a. b. c. h6 \u2460 \u258d\u8fd9\u4e2a\u52a0\u5728\u5206\u7ea7\u6807\u9898\u524d\u6548\u679c\u597d \u258f\u8fd9\u4e2a\u5728\u6bb5\u843d\u524d\u7b49\u4e8e\u662f\u7a7a\u683c\u5404\u79cd\u4e09\u89d2 \u25b7 \u25c1 \u25b6 \u25c0 \u25b3\u25bd\u25b2\u25bc \u27a5 \u548c \u2192 \u8fd8\u6709 \u02c9\u02c9\u21b4 \u4ee5\u53ca \u27a8 \u8d77\u5f15\u5bfc\u89c6\u7ebf\u7684\u4f5c\u7528 \u261b \u8fd9\u4e2a\u662f\u70b9\u51fb \u2611 \u548c \u2714 \u662f\u5df2\u7ecf\u9009\u62e9\uff0cOK \u2718 \u662f\u9519\u8bef\uff0c\u5220\u9664\uff0cNO \u2704 \u662f\u526a\u5207 \u2750 \u8fd9\u4e2a\u662f\u590d\u5236\u7c98\u8d34 \u271a \u662f\u6dfb\u52a0\uff0c\u8865\u5145\uff0c\u9009\u9879 \u2637 \u662f\u5217\u8868\uff0c\u8c03\u6574\u683c\u5f0f \u2460 \u2461 \u2462 \u2463 \u2464 \u2465 \u2466 \u2467 \u2468 \u2469 \u8fd9\u6837\u7684\u6570\u5b57\u662f\u4e0d\u662f\u5f88\u9177 \u7f57\u9a6c\u6570\u5b57\uff08\u2160\u00b7\u2161\u00b7\u2162\u00b7\u2163\u00b7\u2164\u00b7\u2165\u00b7\u2166\u00b7\u2167\u00b7\u2168\u00b7\u2169\u00b7\u216a\u00b7\u216b\uff09\u6bd4\u8f83\u4f18\u96c5\u590d\u53e4 st=>start: Start:>http://www.google.com[blank] e=>end:>http://www.google.com op1=>operation: My Operation sub1=>subroutine: My Subroutine cond=>condition: Yes or No?:>http://www.google.com io=>inputoutput: catch something... st->op1->cond cond(yes)->io->e cond(no)->sub1(right)->op1 Title : Here is a title A -> B : Normal line B --> C : Dashed line C ->> D : Open arrow D -->> A : Dashed open arrow graph TD client1-->|read / write|SVN((SVN server)) client2-->|read only|SVN client3-->|read / write|SVN client4-->|read only|SVN client5(...)-->SVN SVN---|store the data|sharedrive graph TD subgraph Request Request end subgraph Views Views end subgraph Helper Helper end subgraph Objects Objects end subgraph Model Model end subgraph Cache Cache end Request-->|route\u8bf7\u6c42\u901a\u8fc7\u8def\u7531\u5230\u8fbe\u89c6\u56fe|Views Title : \u4e1a\u52a1\u903b\u8f91\u7684\u67b6\u6784 Request -> Views : route Views -> Helper : call Helper -> Objects : operate Objects --> Model : read / write Objects --> Cache : read / write Model --> Objects : return Cache --> Objects : return Objects --> Helper : return Helper --> Views : return Views --> Response : return","title":"todo list"},{"location":"coroutine/","text":"\u534f\u7a0b\u3001\u7ebf\u7a0b\u3001\u8fdb\u7a0b \u00b6 \u8fdb\u7a0b \u00b6 \u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u662f\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ed3\u6784\u7684\u57fa\u7840\u3002 \u7a0b\u5e8f\u662f\u6307\u4ee4\u3001\u6570\u636e\u53ca\u5176\u7ec4\u7ec7\u5f62\u5f0f\u7684\u63cf\u8ff0\uff0c\u8fdb\u7a0b\u662f\u7a0b\u5e8f\u7684\u5b9e\u4f53\u3002 \u7a0b\u5e8f\u672c\u8eab\u662f\u6ca1\u6709\u751f\u547d\u5468\u671f\u7684\uff0c\u5b83\u53ea\u662f\u5b58\u5728\u78c1\u76d8\u4e0a\u7684\u4e00\u4e9b\u6307\u4ee4,\u7a0b\u5e8f\u4e00\u65e6\u8fd0\u884c\u5c31\u662f\u8fdb\u7a0b\u3002 \u7cfb\u7edf\u4e2d\u7684\u8fdb\u7a0b\u4e0e\u5176\u4ed6\u8fdb\u7a0b\u5171\u4eabCPU\u548c\u4e3b\u5b58\u8d44\u6e90\uff0c\u4e3a\u4e86\u66f4\u597d\u7684\u7ba1\u7406\u4e3b\u5b58\uff0c\u73b0\u5728\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e00\u79cd\u5bf9\u4e3b\u5b58\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u5373\u4e3a\u865a\u62df\u5b58\u50a8\u5668\uff08VM\uff09\u3002\u5b83\u662f\u4e00\u4e2a\u62bd\u8c61\u7684\u6982\u5ff5\uff0c\u5b83\u4e3a\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5047\u8c61\uff0c\u5373\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u5728\u72ec\u5360\u5730\u4f7f\u7528\u4e3b\u5b58\u3002 \u865a\u62df\u5b58\u50a8\u5668\u4e3b\u8981\u63d0\u4f9b\u4e86\u4e09\u4e2a\u80fd\u529b\uff1a \u5c06\u4e3b\u5b58\u770b\u6210\u662f\u4e00\u4e2a\u5b58\u50a8\u5728\u78c1\u76d8\u4e0a\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u5728\u4e3b\u5b58\u4e2d\u53ea\u4fdd\u5b58\u6d3b\u52a8\u533a\u57df\uff0c\u5e76\u6839\u636e\u9700\u8981\u5728\u78c1\u76d8\u548c\u4e3b\u5b58\u4e4b\u95f4\u6765\u56de\u4f20\u9001\u6570\u636e\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u66f4\u9ad8\u6548\u5730\u4f7f\u7528\u4e3b\u5b58 \u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u4e86\u4e00\u81f4\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u7b80\u5316\u4e86\u5b58\u50a8\u5668\u7ba1\u7406 \u4fdd\u62a4\u4e86\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u4e0d\u88ab\u5176\u4ed6\u8fdb\u7a0b\u7834\u574f \u7531\u4e8e\u8fdb\u7a0b\u62e5\u6709\u81ea\u5df1\u72ec\u5360\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0cCPU\u901a\u8fc7\u5730\u5740\u7ffb\u8bd1\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u6210\u771f\u5b9e\u7684\u7269\u7406\u5730\u5740\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u5730\u5740\u7a7a\u95f4\u3002\u56e0\u6b64\uff0c\u5728\u6ca1\u6709\u5176\u4ed6\u673a\u5236\uff08\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff09\u7684\u8f85\u52a9\u4e0b\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u662f\u65e0\u6cd5\u5171\u4eab\u6570\u636e\u7684 \u7ebf\u7a0b \u00b6 \u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u662f\u7a0b\u5e8f\u6267\u884c\u4e2d\u4e00\u4e2a\u5355\u4e00\u7684\u987a\u5e8f\u63a7\u5236\u6d41\u7a0b\uff0c\u662f\u7a0b\u5e8f\u6267\u884c\u6d41\u7684\u6700\u5c0f\u5355\u5143\uff0c\u662f\u5904\u7406\u5668\u8c03\u5ea6\u548c\u5206\u6d3e\u7684\u57fa\u672c\u5355\u4f4d\u3002 \u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\uff0c\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u591a\u4e2a\u7ebf\u7a0b\u5c06\u5171\u4eab\u8be5\u8fdb\u7a0b\u4e2d\u7684\u5168\u90e8\u7cfb\u7edf\u8d44\u6e90\uff0c\u5982\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u4fe1\u53f7\u5904\u7406\u7b49\u7b49\u3002\u4f46\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u591a\u4e2a\u7ebf\u7a0b\u6709\u5404\u81ea\u7684\u8c03\u7528\u6808\u548c\u7ebf\u7a0b\u672c\u5730\u5b58\u50a8 \u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b \u00b6 \u8fdb\u7a0b\u662f\u8d44\u6e90\u7684\u5206\u914d\u548c\u8c03\u5ea6\u7684\u72ec\u7acb\u5355\u5143\u3002\u8fdb\u7a0b\u62e5\u6709\u5b8c\u6574\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u5f53\u53d1\u751f\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u4e0d\u540c\u7684\u8fdb\u7a0b\u62e5\u6709\u4e0d\u540c\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002\u800c\u540c\u4e00\u8fdb\u7a0b\u7684\u591a\u4e2a\u7ebf\u7a0b\u662f\u53ef\u4ee5\u5171\u4eab\u540c\u4e00\u5730\u5740\u7a7a\u95f4 \u7ebf\u7a0b\u662fCPU\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u5143\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u5305\u542b\u82e5\u5e72\u7ebf\u7a0b\u3002 \u7ebf\u7a0b\u6bd4\u8fdb\u7a0b\u5c0f\uff0c\u57fa\u672c\u4e0a\u4e0d\u62e5\u6709\u7cfb\u7edf\u8d44\u6e90\u3002\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u9500\u6bc1\u6240\u9700\u8981\u7684\u65f6\u95f4\u6bd4\u8fdb\u7a0b\u5c0f\u5f88\u591a \u7531\u4e8e\u7ebf\u7a0b\u4e4b\u95f4\u80fd\u591f\u5171\u4eab\u5730\u5740\u7a7a\u95f4\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u8003\u8651\u540c\u6b65\u548c\u4e92\u65a5\u64cd\u4f5c \u4e00\u4e2a\u7ebf\u7a0b\u7684\u610f\u5916\u7ec8\u6b62\u4f1a\u5f71\u54cd\u6574\u4e2a\u8fdb\u7a0b\u7684\u6b63\u5e38\u8fd0\u884c\uff0c\u4f46\u662f\u4e00\u4e2a\u8fdb\u7a0b\u7684\u610f\u5916\u7ec8\u6b62\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\u8fdb\u7a0b\u7684\u8fd0\u884c\u3002\u56e0\u6b64\uff0c\u591a\u8fdb\u7a0b\u7a0b\u5e8f\u5b89\u5168\u6027\u66f4\u9ad8\u3002 \u591a\u8fdb\u7a0b\u7a0b\u5e8f\u5b89\u5168\u6027\u9ad8\uff0c\u8fdb\u7a0b\u5207\u6362\u5f00\u9500\u5927\uff0c\u6548\u7387\u4f4e\uff1b\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u7ef4\u62a4\u6210\u672c\u9ad8\uff0c\u7ebf\u7a0b\u5207\u6362\u5f00\u9500\u5c0f\uff0c\u6548\u7387\u9ad8\u3002 \u534f\u7a0b\uff1a \u00b6 \u534f\u7a0b\u53ef\u4ee5\u6bd4\u4f5c\u5b50\u7a0b\u5e8f\uff0c\u4f46\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5b50\u7a0b\u5e8f\u5185\u90e8\u53ef\u4e2d\u65ad\uff0c\u7136\u540e\u8f6c\u800c\u6267\u884c\u522b\u7684\u5b50\u7a0b\u5e8f\uff0c\u5728\u9002\u5f53\u7684\u65f6\u5019\u518d\u8fd4\u56de\u6765\u63a5\u7740\u6267\u884c\u3002\u534f\u7a0b\u4e4b\u95f4\u7684\u5207\u6362\u4e0d\u9700\u8981\u6d89\u53ca\u4efb\u4f55\u7cfb\u7edf\u8c03\u7528\u6216\u4efb\u4f55\u963b\u585e\u8c03\u7528 \u534f\u7a0b\u53ea\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u662f\u5b50\u7a0b\u5e8f\u4e4b\u95f4\u7684\u5207\u6362\uff0c\u53d1\u751f\u5728\u7528\u6237\u6001\u4e0a\u3002\u800c\u4e14\uff0c\u7ebf\u7a0b\u7684\u963b\u585e\u72b6\u6001\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u6765\u5b8c\u6210\uff0c\u53d1\u751f\u5728\u5185\u6838\u6001\u4e0a\uff0c\u56e0\u6b64\u534f\u7a0b\u76f8\u6bd4\u7ebf\u7a0b\u8282\u7701\u7ebf\u7a0b\u521b\u5efa\u548c\u5207\u6362\u7684\u5f00\u9500 \u534f\u7a0b\u4e2d\u4e0d\u5b58\u5728\u540c\u65f6\u5199\u53d8\u91cf\u51b2\u7a81\uff0c\u56e0\u6b64\uff0c\u4e5f\u5c31\u4e0d\u9700\u8981\u7528\u6765\u5b88\u536b\u5173\u952e\u533a\u5757\u7684\u540c\u6b65\u6027\u539f\u8bed\uff0c\u6bd4\u5982\u4e92\u65a5\u9501\u3001\u4fe1\u53f7\u91cf\u7b49\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u6765\u81ea\u64cd\u4f5c\u7cfb\u7edf\u7684\u652f\u6301\u3002 \u534f\u7a0b\u4f18\u70b9\uff1a \u53ef\u4ee5\u81ea\u4e3b\u63a7\u5236\u5207\u6362\u7684\u65f6\u673a \u534f\u7a0b\u5f00\u9500\u6bd4\u7ebf\u7a0b\u5c0f \u4e0d\u9700\u8981\u52a0\u9501\uff0c\u4e0d\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u7684\u95ee\u9898","title":"\u8fdb\u7a0b/\u7ebf\u7a0b/\u534f\u7a0b"},{"location":"coroutine/#_1","text":"","title":"\u534f\u7a0b\u3001\u7ebf\u7a0b\u3001\u8fdb\u7a0b"},{"location":"coroutine/#_2","text":"\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u662f\u7cfb\u7edf\u8fdb\u884c\u8d44\u6e90\u5206\u914d\u548c\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u7ed3\u6784\u7684\u57fa\u7840\u3002 \u7a0b\u5e8f\u662f\u6307\u4ee4\u3001\u6570\u636e\u53ca\u5176\u7ec4\u7ec7\u5f62\u5f0f\u7684\u63cf\u8ff0\uff0c\u8fdb\u7a0b\u662f\u7a0b\u5e8f\u7684\u5b9e\u4f53\u3002 \u7a0b\u5e8f\u672c\u8eab\u662f\u6ca1\u6709\u751f\u547d\u5468\u671f\u7684\uff0c\u5b83\u53ea\u662f\u5b58\u5728\u78c1\u76d8\u4e0a\u7684\u4e00\u4e9b\u6307\u4ee4,\u7a0b\u5e8f\u4e00\u65e6\u8fd0\u884c\u5c31\u662f\u8fdb\u7a0b\u3002 \u7cfb\u7edf\u4e2d\u7684\u8fdb\u7a0b\u4e0e\u5176\u4ed6\u8fdb\u7a0b\u5171\u4eabCPU\u548c\u4e3b\u5b58\u8d44\u6e90\uff0c\u4e3a\u4e86\u66f4\u597d\u7684\u7ba1\u7406\u4e3b\u5b58\uff0c\u73b0\u5728\u7cfb\u7edf\u63d0\u4f9b\u4e86\u4e00\u79cd\u5bf9\u4e3b\u5b58\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u5373\u4e3a\u865a\u62df\u5b58\u50a8\u5668\uff08VM\uff09\u3002\u5b83\u662f\u4e00\u4e2a\u62bd\u8c61\u7684\u6982\u5ff5\uff0c\u5b83\u4e3a\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5047\u8c61\uff0c\u5373\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u5728\u72ec\u5360\u5730\u4f7f\u7528\u4e3b\u5b58\u3002 \u865a\u62df\u5b58\u50a8\u5668\u4e3b\u8981\u63d0\u4f9b\u4e86\u4e09\u4e2a\u80fd\u529b\uff1a \u5c06\u4e3b\u5b58\u770b\u6210\u662f\u4e00\u4e2a\u5b58\u50a8\u5728\u78c1\u76d8\u4e0a\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u5728\u4e3b\u5b58\u4e2d\u53ea\u4fdd\u5b58\u6d3b\u52a8\u533a\u57df\uff0c\u5e76\u6839\u636e\u9700\u8981\u5728\u78c1\u76d8\u548c\u4e3b\u5b58\u4e4b\u95f4\u6765\u56de\u4f20\u9001\u6570\u636e\uff0c\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u66f4\u9ad8\u6548\u5730\u4f7f\u7528\u4e3b\u5b58 \u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u4e86\u4e00\u81f4\u7684\u5730\u5740\u7a7a\u95f4\uff0c\u4ece\u800c\u7b80\u5316\u4e86\u5b58\u50a8\u5668\u7ba1\u7406 \u4fdd\u62a4\u4e86\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\u4e0d\u88ab\u5176\u4ed6\u8fdb\u7a0b\u7834\u574f \u7531\u4e8e\u8fdb\u7a0b\u62e5\u6709\u81ea\u5df1\u72ec\u5360\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0cCPU\u901a\u8fc7\u5730\u5740\u7ffb\u8bd1\u5c06\u865a\u62df\u5730\u5740\u8f6c\u6362\u6210\u771f\u5b9e\u7684\u7269\u7406\u5730\u5740\uff0c\u6bcf\u4e2a\u8fdb\u7a0b\u53ea\u80fd\u8bbf\u95ee\u81ea\u5df1\u7684\u5730\u5740\u7a7a\u95f4\u3002\u56e0\u6b64\uff0c\u5728\u6ca1\u6709\u5176\u4ed6\u673a\u5236\uff08\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff09\u7684\u8f85\u52a9\u4e0b\uff0c\u8fdb\u7a0b\u4e4b\u95f4\u662f\u65e0\u6cd5\u5171\u4eab\u6570\u636e\u7684","title":"\u8fdb\u7a0b"},{"location":"coroutine/#_3","text":"\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u662f\u7a0b\u5e8f\u6267\u884c\u4e2d\u4e00\u4e2a\u5355\u4e00\u7684\u987a\u5e8f\u63a7\u5236\u6d41\u7a0b\uff0c\u662f\u7a0b\u5e8f\u6267\u884c\u6d41\u7684\u6700\u5c0f\u5355\u5143\uff0c\u662f\u5904\u7406\u5668\u8c03\u5ea6\u548c\u5206\u6d3e\u7684\u57fa\u672c\u5355\u4f4d\u3002 \u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u7ebf\u7a0b\uff0c\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u591a\u4e2a\u7ebf\u7a0b\u5c06\u5171\u4eab\u8be5\u8fdb\u7a0b\u4e2d\u7684\u5168\u90e8\u7cfb\u7edf\u8d44\u6e90\uff0c\u5982\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u6587\u4ef6\u63cf\u8ff0\u7b26\u548c\u4fe1\u53f7\u5904\u7406\u7b49\u7b49\u3002\u4f46\u540c\u4e00\u8fdb\u7a0b\u4e2d\u7684\u591a\u4e2a\u7ebf\u7a0b\u6709\u5404\u81ea\u7684\u8c03\u7528\u6808\u548c\u7ebf\u7a0b\u672c\u5730\u5b58\u50a8","title":"\u7ebf\u7a0b"},{"location":"coroutine/#_4","text":"\u8fdb\u7a0b\u662f\u8d44\u6e90\u7684\u5206\u914d\u548c\u8c03\u5ea6\u7684\u72ec\u7acb\u5355\u5143\u3002\u8fdb\u7a0b\u62e5\u6709\u5b8c\u6574\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\uff0c\u5f53\u53d1\u751f\u8fdb\u7a0b\u5207\u6362\u65f6\uff0c\u4e0d\u540c\u7684\u8fdb\u7a0b\u62e5\u6709\u4e0d\u540c\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002\u800c\u540c\u4e00\u8fdb\u7a0b\u7684\u591a\u4e2a\u7ebf\u7a0b\u662f\u53ef\u4ee5\u5171\u4eab\u540c\u4e00\u5730\u5740\u7a7a\u95f4 \u7ebf\u7a0b\u662fCPU\u8c03\u5ea6\u7684\u57fa\u672c\u5355\u5143\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u5305\u542b\u82e5\u5e72\u7ebf\u7a0b\u3002 \u7ebf\u7a0b\u6bd4\u8fdb\u7a0b\u5c0f\uff0c\u57fa\u672c\u4e0a\u4e0d\u62e5\u6709\u7cfb\u7edf\u8d44\u6e90\u3002\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u9500\u6bc1\u6240\u9700\u8981\u7684\u65f6\u95f4\u6bd4\u8fdb\u7a0b\u5c0f\u5f88\u591a \u7531\u4e8e\u7ebf\u7a0b\u4e4b\u95f4\u80fd\u591f\u5171\u4eab\u5730\u5740\u7a7a\u95f4\uff0c\u56e0\u6b64\uff0c\u9700\u8981\u8003\u8651\u540c\u6b65\u548c\u4e92\u65a5\u64cd\u4f5c \u4e00\u4e2a\u7ebf\u7a0b\u7684\u610f\u5916\u7ec8\u6b62\u4f1a\u5f71\u54cd\u6574\u4e2a\u8fdb\u7a0b\u7684\u6b63\u5e38\u8fd0\u884c\uff0c\u4f46\u662f\u4e00\u4e2a\u8fdb\u7a0b\u7684\u610f\u5916\u7ec8\u6b62\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684\u8fdb\u7a0b\u7684\u8fd0\u884c\u3002\u56e0\u6b64\uff0c\u591a\u8fdb\u7a0b\u7a0b\u5e8f\u5b89\u5168\u6027\u66f4\u9ad8\u3002 \u591a\u8fdb\u7a0b\u7a0b\u5e8f\u5b89\u5168\u6027\u9ad8\uff0c\u8fdb\u7a0b\u5207\u6362\u5f00\u9500\u5927\uff0c\u6548\u7387\u4f4e\uff1b\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u7ef4\u62a4\u6210\u672c\u9ad8\uff0c\u7ebf\u7a0b\u5207\u6362\u5f00\u9500\u5c0f\uff0c\u6548\u7387\u9ad8\u3002","title":"\u8fdb\u7a0b\u548c\u7ebf\u7a0b\u7684\u533a\u522b"},{"location":"coroutine/#_5","text":"\u534f\u7a0b\u53ef\u4ee5\u6bd4\u4f5c\u5b50\u7a0b\u5e8f\uff0c\u4f46\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5b50\u7a0b\u5e8f\u5185\u90e8\u53ef\u4e2d\u65ad\uff0c\u7136\u540e\u8f6c\u800c\u6267\u884c\u522b\u7684\u5b50\u7a0b\u5e8f\uff0c\u5728\u9002\u5f53\u7684\u65f6\u5019\u518d\u8fd4\u56de\u6765\u63a5\u7740\u6267\u884c\u3002\u534f\u7a0b\u4e4b\u95f4\u7684\u5207\u6362\u4e0d\u9700\u8981\u6d89\u53ca\u4efb\u4f55\u7cfb\u7edf\u8c03\u7528\u6216\u4efb\u4f55\u963b\u585e\u8c03\u7528 \u534f\u7a0b\u53ea\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e2d\u6267\u884c\uff0c\u662f\u5b50\u7a0b\u5e8f\u4e4b\u95f4\u7684\u5207\u6362\uff0c\u53d1\u751f\u5728\u7528\u6237\u6001\u4e0a\u3002\u800c\u4e14\uff0c\u7ebf\u7a0b\u7684\u963b\u585e\u72b6\u6001\u662f\u7531\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u6765\u5b8c\u6210\uff0c\u53d1\u751f\u5728\u5185\u6838\u6001\u4e0a\uff0c\u56e0\u6b64\u534f\u7a0b\u76f8\u6bd4\u7ebf\u7a0b\u8282\u7701\u7ebf\u7a0b\u521b\u5efa\u548c\u5207\u6362\u7684\u5f00\u9500 \u534f\u7a0b\u4e2d\u4e0d\u5b58\u5728\u540c\u65f6\u5199\u53d8\u91cf\u51b2\u7a81\uff0c\u56e0\u6b64\uff0c\u4e5f\u5c31\u4e0d\u9700\u8981\u7528\u6765\u5b88\u536b\u5173\u952e\u533a\u5757\u7684\u540c\u6b65\u6027\u539f\u8bed\uff0c\u6bd4\u5982\u4e92\u65a5\u9501\u3001\u4fe1\u53f7\u91cf\u7b49\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u6765\u81ea\u64cd\u4f5c\u7cfb\u7edf\u7684\u652f\u6301\u3002 \u534f\u7a0b\u4f18\u70b9\uff1a \u53ef\u4ee5\u81ea\u4e3b\u63a7\u5236\u5207\u6362\u7684\u65f6\u673a \u534f\u7a0b\u5f00\u9500\u6bd4\u7ebf\u7a0b\u5c0f \u4e0d\u9700\u8981\u52a0\u9501\uff0c\u4e0d\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u7684\u95ee\u9898","title":"\u534f\u7a0b\uff1a"},{"location":"cpp/","text":"C++ \u00b6 \u591a\u6001 \u00b6 \u9759\u6001\u591a\u6001\uff08\u7f16\u8bd1\u65f6\uff09 \u7f16\u8bd1\u5668\u6839\u636e\u51fd\u6570\u5b9e\u53c2\u7684\u7c7b\u578b\u5224\u65ad\u51fa\u8981\u8c03\u7528\u54ea\u4e2a\u51fd\u6570\u3002\u6bd4\u5982\u51fd\u6570\u91cd\u8f7d\u548c\u51fd\u6570\u6a21\u677f\u3002\u91cd\u8f7d\u7684\u51fd\u6570\u5728\u7f16\u8bd1\u65f6\u5176\u5b9e\u662f\u4e0d\u540c\u7684\u51fd\u6570\u540d\u548c\u4e0d\u540c\u7684\u51fd\u6570\u5730\u5740\uff0c\u6240\u4ee5\u4e5f\u6709\u4eba\u8ba4\u4e3a\u51fd\u6570\u91cd\u8f7d\u4e0d\u7b97\u591a\u6001\u3002 \u52a8\u6001\u591a\u6001\uff08\u8fd0\u884c\u65f6\uff09 \u4f9d\u9760\u7684\u662f\u865a\u51fd\u6570\u8868\u548c\u52a8\u6001\u7ed1\u5b9a\u673a\u5236\uff0c\u56e0\u4e3a\u662f\u5728\u8fd0\u884c\u65f6\u6839\u636e\u5bf9\u8c61\u7684\u7c7b\u578b\u5728\u865a\u51fd\u6570\u8868\u4e2d\u5bfb\u627e\u8c03\u7528\u51fd\u6570\u7684\u5730\u5740\u6765\u8c03\u7528\u76f8\u5e94\u7684\u51fd\u6570\uff0c\u6240\u4ee5\u79f0\u4e3a\u52a8\u6001\u591a\u6001\u3002 \u5728\u4e00\u4e2a\u7c7b\u7684\u67d0\u4e2a\u51fd\u6570\u524d\u52a0\u4e0avirtual\u5173\u952e\u5b57\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u53d8\u6210\u4e86\u865a\u51fd\u6570\uff0c\u5f53\u8fd9\u4e2a\u7c7b\u4e2d\u5b58\u5728\u865a\u51fd\u6570\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u7ed9\u8fd9\u4e2a\u7c7b\u521b\u5efa\u4e00\u4e2a\u865a\u51fd\u6570\u8868\uff0c\u865a\u51fd\u6570\u8868\u91cc\u5b58\u653e\u4e86\u8fd9\u4e2a\u7c7b\u4e2d\u6240\u6709\u865a\u51fd\u6570\u7684\u5730\u5740\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u865a\u51fd\u6570\u8868\u662f\u5728\u7f16\u8bd1\u671f\u95f4\u5c31\u5df2\u7ecf\u751f\u6210\u4e86\uff01 \u4e00\u4e2a\u7c7b\u53ea\u4f1a\u6709\u4e00\u4e2a\u865a\u51fd\u6570\u8868\uff0c\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u662f\u5171\u4eab\u8fd9\u4e2a\u865a\u51fd\u6570\u8868\u7684 \u5982\u679c\u7c7b\u6709\u865a\u51fd\u6570\uff0c\u90a3\u4e48\u7c7b\u7684\u6bcf\u4e2a\u5bf9\u8c61\u7684\u5185\u5b58\u4e2d\u90fd\u4f1a\u6709\u4e00\u4e2a\u6307\u5411\u865a\u8868\u7684\u865a\u6307\u9488\uff0c\u901a\u8fc7\u8fd9\u4e2a\u865a\u6307\u9488\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u5c31\u90fd\u80fd\u8bbf\u95ee\u5230\u7c7b\u7684\u865a\u8868\u3002\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u4e0d\u7ba1\u7c7b\u4e2d\u6709\u591a\u5c11\u4e2a\u865a\u51fd\u6570\uff0c\u5bf9\u8c61\u7684\u5185\u5b58\u4e2d\u90fd\u53ea\u4f1a\u591a4\u4e2a\u5b57\u8282\u7684\u539f\u56e0\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5bf9\u8c61\u7684\u5185\u5b58\u4e2d\u53ea\u662f\u591a\u4e86\u4e00\u4e2a\u6307\u5411\u8fd9\u4e2a\u7c7b\u7684\u865a\u51fd\u6570\u8868\u7684\u6307\u9488\u3002 \u4f7f\u7528virtual\u4fee\u9970\u7684\u51fd\u6570\u4f1a\u6839\u636e\u5b9e\u9645\u5bf9\u8c61\u7684\u7c7b\u578b\u6765\u8c03\u7528\uff0c\u6ca1\u6709\u4f7f\u7528virtual\u4fee\u9970\u7684\u6839\u636e\u6307\u9488\u7684\u7c7b\u578b\u6765\u8c03\u7528\u3002 \u8986\u76d6\u4e0e\u9690\u85cf \u00b6 \u8986\u76d6\u6307\u7684\u662f\u5b50\u7c7b\u8986\u76d6\u7236\u7c7b\u51fd\u6570\uff08\u88ab\u8986\u76d6\uff09\uff0c\u7279\u5f81\u662f\uff1a \u5206\u522b\u4f4d\u4e8e\u5b50\u7c7b\u548c\u7236\u7c7b\u4e2d \u51fd\u6570\u540d\u5b57\u4e0e\u53c2\u6570\u90fd\u76f8\u540c \u7236\u7c7b\u7684\u51fd\u6570\u662f\u865a\u51fd\u6570\uff08virtual\uff09 \u9690\u85cf\u6307\u7684\u662f\u5b50\u7c7b\u9690\u85cf\u4e86\u7236\u7c7b\u7684\u51fd\u6570\uff08\u8fd8\u5b58\u5728\uff09\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u5f81\uff1a \u5b50\u7c7b\u7684\u51fd\u6570\u4e0e\u7236\u7c7b\u7684\u540d\u79f0\u76f8\u540c\uff0c\u4f46\u662f\u53c2\u6570\u4e0d\u540c\uff0c\u7236\u7c7b\u51fd\u6570\u88ab\u9690\u85cf \u5b50\u7c7b\u51fd\u6570\u4e0e\u7236\u7c7b\u51fd\u6570\u7684\u540d\u79f0\u76f8\u540c\uff0c\u53c2\u6570\u4e5f\u76f8\u540c\uff0c\u4f46\u662f\u7236\u7c7b\u51fd\u6570\u6ca1\u6709virtual\uff0c\u7236\u7c7b\u51fd\u6570\u88ab\u9690\u85cf \u53c2\u8003\uff1a https://www.bejson.com/runcode/cpp920/ https://blog.csdn.net/weixin_43222324/article/details/109767675 https://wenku.baidu.com/view/97188bf675eeaeaad1f34693daef5ef7bb0d125b.html std::move \u53f3\u503c\u5f15\u7528 shared_ptr std::lock_guard C++11\u3001C++14\u3001C++17\u3001C++20\u65b0\u7279\u6027\u603b\u7ed3\uff085\u4e07\u5b57\u8be6\u89e3\uff09","title":"C++"},{"location":"cpp/#c","text":"","title":"C++"},{"location":"cpp/#_1","text":"","title":"\u591a\u6001"},{"location":"cpp/#_2","text":"\u8986\u76d6\u6307\u7684\u662f\u5b50\u7c7b\u8986\u76d6\u7236\u7c7b\u51fd\u6570\uff08\u88ab\u8986\u76d6\uff09\uff0c\u7279\u5f81\u662f\uff1a \u5206\u522b\u4f4d\u4e8e\u5b50\u7c7b\u548c\u7236\u7c7b\u4e2d \u51fd\u6570\u540d\u5b57\u4e0e\u53c2\u6570\u90fd\u76f8\u540c \u7236\u7c7b\u7684\u51fd\u6570\u662f\u865a\u51fd\u6570\uff08virtual\uff09 \u9690\u85cf\u6307\u7684\u662f\u5b50\u7c7b\u9690\u85cf\u4e86\u7236\u7c7b\u7684\u51fd\u6570\uff08\u8fd8\u5b58\u5728\uff09\uff0c\u5177\u6709\u4ee5\u4e0b\u7279\u5f81\uff1a \u5b50\u7c7b\u7684\u51fd\u6570\u4e0e\u7236\u7c7b\u7684\u540d\u79f0\u76f8\u540c\uff0c\u4f46\u662f\u53c2\u6570\u4e0d\u540c\uff0c\u7236\u7c7b\u51fd\u6570\u88ab\u9690\u85cf \u5b50\u7c7b\u51fd\u6570\u4e0e\u7236\u7c7b\u51fd\u6570\u7684\u540d\u79f0\u76f8\u540c\uff0c\u53c2\u6570\u4e5f\u76f8\u540c\uff0c\u4f46\u662f\u7236\u7c7b\u51fd\u6570\u6ca1\u6709virtual\uff0c\u7236\u7c7b\u51fd\u6570\u88ab\u9690\u85cf \u53c2\u8003\uff1a https://www.bejson.com/runcode/cpp920/ https://blog.csdn.net/weixin_43222324/article/details/109767675 https://wenku.baidu.com/view/97188bf675eeaeaad1f34693daef5ef7bb0d125b.html std::move \u53f3\u503c\u5f15\u7528 shared_ptr std::lock_guard C++11\u3001C++14\u3001C++17\u3001C++20\u65b0\u7279\u6027\u603b\u7ed3\uff085\u4e07\u5b57\u8be6\u89e3\uff09","title":"\u8986\u76d6\u4e0e\u9690\u85cf"},{"location":"dcs/","text":"\u5206\u5e03\u5f0f\u8bbe\u8ba1 \u00b6 https://www.cnblogs.com/xuwc/p/9152236.html CAP \u00b6 \u4e00\u81f4\u6027\uff08Consistency\uff09 \u53ef\u7528\u6027\uff08Availability\uff09 \u5206\u533a\u5bb9\u5fcd\u6027\uff08Partition tolerance\uff09\uff1a\u4e2a\u4eba\u7406\u89e3\u4e3a\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u53ef\u9760\u6027 \u4e00\u822c\u727a\u7272C\u6362\u53d6AP\uff08\u6307\u7684\u662f\u727a\u7272\u5f3a\u4e00\u81f4\u6027\uff09 \u4e00\u81f4\u6027\u5206\u4e3a\uff1a\u5f3a\u4e00\u81f4\u6027\uff1b\u5f31\u4e00\u81f4\u6027\uff1b\u6700\u7ec8\u4e00\u81f4\u6027\uff1b BASE \u00b6 BA(Basic Available)\u57fa\u672c\u53ef\u7528\uff08\u57fa\u672c\u53ef\u7528\u548c\u9ad8\u53ef\u7528\u4e0d\u4e00\u6837\uff0c\u7ed3\u5408\u670d\u52a1\u964d\u7ea7\uff09 \u6574\u4e2a\u7cfb\u7edf\u5728\u67d0\u4e9b\u4e0d\u53ef\u6297\u529b\u7684\u60c5\u51b5\u4e0b\uff0c\u4ecd\u7136\u80fd\u591f\u4fdd\u8bc1\u201c\u53ef\u7528\u6027\u201d\uff0c\u5373\u4e00\u5b9a\u65f6\u95f4\u5185\u4ecd\u7136\u80fd\u591f\u8fd4\u56de\u4e00\u4e2a\u660e\u786e\u7684\u7ed3\u679c\u3002 S(Soft State)\u67d4\u6027\u72b6\u6001 \u5141\u8bb8\u7cfb\u7edf\u4e0d\u540c\u8282\u70b9\u7684\u6570\u636e\u526f\u672c\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u540c\u6b65\u7684\u8fc7\u7a0b\u5b58\u5728\u5ef6\u65f6 E(Eventual Consistency)\u6700\u7ec8\u4e00\u81f4\u6027 \u540c\u4e00\u6570\u636e\u7684\u4e0d\u540c\u526f\u672c\u7684\u72b6\u6001\uff0c\u53ef\u4ee5\u4e0d\u9700\u8981\u5b9e\u65f6\u4e00\u81f4\uff0c\u4f46\u4e00\u5b9a\u8981\u4fdd\u8bc1\u7ecf\u8fc7\u4e00\u5b9a\u65f6\u95f4\u540e\u4ecd\u7136\u662f\u4e00\u81f4\u7684\u3002 \u6709\u635f\u670d\u52a1 \u00b6 \u4e8c\u516b\u5b9a\u5f8b\uff0c80%\u7684\u6d41\u91cf\u5176\u5b9e\u90fd\u572820%\u7684\u670d\u52a1\u4e0a 1\u3001\u8d85\u65f6 2\u3001\u7194\u65ad \u67d0\u670d\u52a1\u51fa\u73b0\u4e86\u8fc7\u8f7d\u73b0\u8c61\uff0c\u4e3a\u4e86\u9632\u6b62\u6574\u4e2a\u7cfb\u7edf\u6545\u969c\uff0c\u4ece\u800c\u91c7\u53d6\u67d0\u79cd\u4fdd\u62a4\u63aa\u65bd\u3002 \u76f4\u63a5\u5173\u95ed\u670d\u52a1\uff0c\u6216\u4fdd\u8bc1\u90e8\u5206\u8bf7\u6c42\u6210\u529f\uff0c\u53e6\u4e00\u90e8\u5206\u76f4\u63a5\u8fd4\u56de\u5931\u8d25\uff08\u4e0d\u5360\u7528\u670d\u52a1\u8d44\u6e90\uff09 \u4f8b\u5982\uff1a5\u79d2\u5185\u8fde\u7eed\u8bf7\u6c42\u5931\u8d25\u8fbe\u523020\u6b21\uff0c\u89e6\u53d1\u7194\u65ad\u673a\u5236\uff0c\u8fc7\u6ee460%\u7684\u8bf7\u6c42 3\u3001\u9650\u6d41 4\u3001\u91cd\u8bd5 5\u3001\u670d\u52a1\u964d\u7ea7 \u670d\u52a1\u964d\u7ea7 1\u3001\u8d85\u65f6\u964d\u7ea7 2\u3001\u5931\u8d25\u6b21\u6570\u964d\u7ea7 3\u3001\u6545\u969c\u964d\u7ea7 4\u3001\u9650\u6d41\u964d\u7ea7 \u4e00\u3001\u9ad8\u5e76\u53d1\uff08\u79d2\u6740\u7cfb\u7edf\uff09 \u00b6 \u52a8\u9759\u5206\u79bb\uff08\u9759\u6001\u9875\u9762\u3001\u9759\u6001\u8d44\u6e90\u53ef\u4ee5\u7528CDN\u3001nginx\u52a0\u901f\uff09 \u9650\u6d41\uff08\u4ece\u6d4f\u89c8\u5668/APP\u7aef\u5f00\u59cb\u9650\u6d41\uff0c\u7ad9\u70b9\u5c42\u3001\u670d\u52a1\u5c42 \u6bcf\u5c42\u90fd\u9650\u6d41\uff0c\u9875\u9762\u7f13\u5b58\u3001\u6570\u636e\u7f13\u5b58\uff0c\u6700\u540e\u843d\u5230DB\u4e0a\u7684\u538b\u529b\u5c31\u5f88\u5c0f\u4e86\uff09 \u670d\u52a1\u964d\u7ea7 \u4e8c\u3001\u5206\u5e03\u5f0fid \u00b6 uuid \u00b6 int128\uff0c\u592a\u957f\uff0cMySQL\u8981\u6c42\u4e3b\u952e\u5c3d\u53ef\u80fd\u77ed \u65e0\u5e8f \u53ef\u80fd\u4f7f\u7528mac\u5730\u5740\uff0c\u4f1a\u6cc4\u9732\u4fe1\u606f MongoDB\u7684ObjectID \u00b6 \uff08\u65f6\u95f4\u6233+\u968f\u673a\u6570\uff0c\u901a\u8fc7\u65f6\u95f4\u6233+pid+hostname\u7684\u5f02\u6216\u6765\u53d6\u51fa\u79cd\u5b50seed\uff09 \u4f7f\u7528\u968f\u673a\u6570\uff0c\u4f46\u662f\u968f\u673a\u6570\u79cd\u5b50seed\u6709\u53ef\u80fd\u4e00\u6837\uff0c\u5bfc\u81f4id\u4e5f\u4f1a\u4e00\u6837 \u65e0\u5e8f snowflake \u00b6 \u4f9d\u8d56\u673a\u5668\u65f6\u949f \u5206\u5e03\u5f0f\u7cfb\u7edf\u542f\u52a8\u65f6\u540c\u6b65\u673a\u5668\u65f6\u949f\uff0c\u4fdd\u8bc1\u65f6\u95f4\u7684\u51c6\u786e\uff08\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u5173\u95edNTP\u540c\u6b65\uff0c\u5c31\u4e0d\u4f1a\u4e2d\u9014\u53d1\u751f\u65f6\u949f\u56de\u62e8\uff09 \u4f7f\u7528\u65f6\u95f4\u9012\u589e\uff0c\u53ef\u4ee5\u6446\u8131\u65f6\u949f\u4f9d\u8d56\uff0c\u4f46\u662f\u4f1a\u5bfc\u81f4\u5206\u5e03\u5f0fid\u4e2d\u7684\u65f6\u95f4\u4fe1\u606f\u4e0d\u662f\u751f\u6210id\u7684\u771f\u6b63\u7684\u65f6\u95f4\u70b9 \u6ce8\u610f\u5904\u7406\u65f6\u949f\u56de\u62e8\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7cfb\u7edf\u6682\u65f6\u4e0d\u53ef\u7528 \u53ef\u4ee5\u7ed3\u5408\u673a\u5668\u65f6\u949f\u548c\u65f6\u95f4\u9012\u589e\uff0c\u8bbe\u5b9a\u4e00\u4e2a\u9608\u503c\uff0c\u5982\u679c\u65f6\u949f\u56de\u62e8\u8f83\u5c11\u5c31\u53ef\u4ee5\u7b49\u5f85\u65f6\u949f\u6062\u590d\u56de\u6765\uff0c\u65f6\u949f\u56de\u62e8\u8f83\u591a\u5c31\u62a5\u8b66\u5e76\u5207\u6362\u5230\u65f6\u95f4\u9012\u589e\u7684\u6a21\u5f0f \u6b63\u786e\u5206\u914dworker_id \u7f8e\u56e2Leaf\u4f7f\u7528zookeeper\u5206\u914dworker_id \u767e\u5ea6uid\u4f7f\u7528\u6570\u636e\u5e93\u5206\u914dworker_id \u8fd8\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\uff0c\u5408\u7406\u8c03\u6574\u65f6\u95f4\u6233\u7684\u5360\u4f4d\u957f\u5ea6\u3001\u65f6\u95f4\u6233\u504f\u79fb\u91cf\u3001\u673a\u5668\u6570\u7684\u5360\u4f4d\u957f\u5ea6\u3001\u6bcf\u6beb\u79d2\u53ef\u5206\u914d\u7684\u5360\u4f4d\u957f\u5ea6 \u8fd8\u53ef\u4ee5\u91c7\u7528\u53ccbuff\u7684\u65b9\u5f0f\u63d0\u524d\u751f\u6210\uff08\u767e\u5ea6uid\uff09 \u4f7f\u7528\u6570\u636e\u5e93\u751f\u6210 \u00b6 \u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u5206\u6bb5\u5206tag \u4e00\u6b21\u6027\u6279\u91cf\u751f\u6210step\u4e2aid\uff0c\u8fd9\u6837\u8bbf\u95ee\u6570\u636e\u5e93\u7684\u9891\u7387\u4ece1\u964d\u4f4e\u52301/step \u5373\u4f7fDB\u5b95\u673a\uff0c\u77ed\u65f6\u95f4\u5185\u4e5f\u80fd\u6b63\u5e38\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1 \u91c7\u7528\u53ccbuff\u7684\u65b9\u5f0f\u63d0\u524d\u751f\u6210 DB\u4e3b\u4ece\u5907\u4efd\u3001\u707e\u5907 \u62d3\u5c55\uff1a \u00b6 \u73a9\u5bb6id\u7684\u751f\u6210 \u73a9\u5bb6\u770b\u5230\u7684\u6e38\u620f\u6570\u5b57ID\u901a\u5e38\u662f\u8981\u6c42\u4e0d\u80fd\u8fde\u7eed\uff0c\u5e76\u4e14\u9753\u53f7\u4e0d\u80fd\u88ab\u5206\u914d\u51fa\u53bb \u4e00\u822c\u662f\u8ba9\u4e00\u4e2a\u6709\u5e8fid\u5217\u8868LIST_A\u548c\u4e00\u4e2a\u4e71\u5e8fid\u5217\u8868LIST_B\u6ee1\u8db3\u53cc\u5c04\uff0c\u6bcf\u6b21\u83b7\u53d6ID\u7684\u65f6\u5019\uff0c\u5728LIST_A\u4e2did\u81ea\u589e\uff0c\u7136\u540e\u62ff\u5230LIST_B\u4e2d\u5bf9\u5e94\u7684\u503c \u6620\u5c04\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a \u6700\u7b80\u5355\u7684\uff0c\u5355\u7eaf\u7684\u7528\u6d17\u724c\u7b97\u6cd5\u6253\u4e71\u987a\u5e8f\uff0c\u63d0\u524d\u751f\u6210\u597d\uff0c\u5e76\u5199\u5165\u6570\u636e\u5e93 Fibonacci Hashing RSA\u7b97\u6cd5\uff0c\u7b80\u5355\u8bf4\uff0c\u8981\u52a0\u5bc6\u7684\u503c\u548c\u52a0\u5bc6\u540e\u7684\u503c\u662f\u4e00\u4e00\u5bf9\u5e94\u7684 \u6709\u65f6\u5019\u4e71\u5e8fid\u4e2d\u8fd8\u4f1a\u52a0\u5165hostnum\uff0c\u8fdb\u884c\u6df7\u6dc6\uff0c\u6df7\u6dc6\u65b9\u5f0f\u5c31\u662f\u6bcf\u9694\u51e0\u4f4d\u5206\u522b\u4ece\u4e71\u5e8f\u7684uid\u6216\u8005hostnum\u91cc\u9762\u83b7\u5f97 \u4e09\u3001\u5206\u5e03\u5f0f\u4e8b\u52a1 \u00b6 https://www.cnblogs.com/Daniel-Leung/p/fenbushishiwu20210825230930.html 1\u3001\u57fa\u4e8eXA\u534f\u8bae\u7684\u4e24\u9636\u6bb5\u63d0\u4ea4 2\u3001\u6d88\u606f\u4e8b\u52a1+\u6700\u7ec8\u4e00\u81f4\u6027\uff08\u52a0\u5165\u6d88\u606f\u4e2d\u95f4\u4ef6\uff09 3\u3001TCC \u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u672c\u8d28\u4e0a\u662f\u5bf9\u591a\u4e2a\u6570\u636e\u5e93\u7684\u4e8b\u52a1\u8fdb\u884c\u7edf\u4e00\u63a7\u5236\uff0c\u6309\u7167\u63a7\u5236\u529b\u5ea6\u53ef\u4ee5\u5206\u4e3a\uff1a\u4e0d\u63a7\u5236\u3001\u90e8\u5206\u63a7\u5236\u548c\u5b8c\u5168\u63a7\u5236\u3002 \u4e0d\u63a7\u5236\u5c31\u662f\u4e0d\u5f15\u5165\u5206\u5e03\u5f0f\u4e8b\u52a1\uff1b \u90e8\u5206\u63a7\u5236\u5c31\u662f\u5404\u79cd\u53d8\u79cd\u7684\u4e24\u9636\u6bb5\u63d0\u4ea4\uff0c\u5305\u62ec\u4e0a\u9762\u63d0\u5230\u7684\u6d88\u606f\u4e8b\u52a1+\u6700\u7ec8\u4e00\u81f4\u6027\u3001TCC\u6a21\u5f0f\uff1b\u597d\u5904\u662f\u5e76\u53d1\u91cf\u548c\u6027\u80fd\u5f88\u597d\uff0c\u7f3a\u70b9\u662f\u6570\u636e\u4e00\u81f4\u6027\u51cf\u5f31\u4e86\uff1b \u5b8c\u5168\u63a7\u5236\u5c31\u662f\u5b8c\u5168\u5b9e\u73b0\u4e24\u9636\u6bb5\u63d0\u4ea4\u3002\u727a\u7272\u4e86\u6027\u80fd\uff0c\u4fdd\u969c\u4e86\u4e00\u81f4\u6027 \u56db\u3001\u5206\u5e03\u5f0f\u9501 \u00b6 \u4e94\u3001\u5206\u5e03\u5f0f\u7684\u4e00\u81f4\u6027 \u00b6 \u516d\u3001\u5206\u5e03\u5f0f\u6570\u636e\u5e93 \u00b6 1\u3001\u8bfb\u5199\u5206\u79bb\uff08\u5206\u7ec4\uff09 \u7ebf\u6027\u63d0\u5347\u6570\u636e\u5e93\u8bfb\u6027\u80fd \u901a\u8fc7\u6d88\u9664\u8bfb\u5199\u9501\u51b2\u7a81\u63d0\u5347\u6570\u636e\u5e93\u5199\u6027\u80fd \u5927\u90e8\u5206\u4e92\u8054\u7f51\u4e1a\u52a1\u8bfb\u591a\u5199\u5c11\uff0c\u6570\u636e\u5e93\u7684\u8bfb\u5f80\u5f80\u6700\u5148\u6210\u4e3a\u6027\u80fd\u74f6\u9888 \u5206\u7ec4\u4e3b\u8981\u89e3\u51b3\u201c\u6570\u636e\u5e93\u8bfb\u6027\u80fd\u74f6\u9888\u201d\u95ee\u9898\uff0c\u5728\u6570\u636e\u5e93\u625b\u4e0d\u4f4f\u8bfb\u7684\u65f6\u5019\uff0c\u901a\u5e38\u8bfb\u5199\u5206\u79bb\uff0c\u901a\u8fc7\u589e\u52a0\u4ece\u5e93\u7ebf\u6027\u63d0\u5347\u7cfb\u7edf\u8bfb\u6027\u80fd\u3002 \u4ece\u5e93\u7684\u6210\u672c\u6bd4\u7f13\u5b58\u9ad8\uff0c\u5982\u679c\u8981\u89e3\u51b3\u201c\u8bfb\u6027\u80fd\u74f6\u9888\u201d\u95ee\u9898\uff0c\u589e\u52a0\u7f13\u5b58\u66f4\u76f4\u63a5\u66f4\u5bb9\u6613 2\u3001\u6c34\u5e73\u5207\u5206\uff08\u5206\u7247\uff0c\u540c\u4e00\u4e1a\u52a1\u7684\u6570\u636e\u901a\u8fc7\u7b97\u6cd5\u5206\u5272\uff0c\u4f8b\u5982\u53d6\u6a21\uff09 \u7ebf\u6027\u964d\u4f4e\u5355\u5e93\u6570\u636e\u5bb9\u91cf \u7ebf\u6027\u63d0\u5347\u6570\u636e\u5e93\u5199\u6027\u80fd \u5927\u90e8\u5206\u4e92\u8054\u7f51\u4e1a\u52a1\u6570\u636e\u91cf\u5f88\u5927\uff0c\u5355\u5e93\u5bb9\u91cf\u5bb9\u6613\u6210\u4e3a\u74f6\u9888 3\u3001\u5782\u76f4\u62c6\u5206\uff08\u6839\u636e\u4e1a\u52a1\u62c6\u5206\uff09 \u4e03\u3001\u5206\u5e03\u5f0f\u4efb\u52a1\u8c03\u5ea6 \u00b6 \u540c\u2f00\u4e2a\u5b9a\u65f6\u4efb\u52a1\u7a0b\u5e8f\u90e8\u7f72\u591a\u4efd\uff0c\u53ea\u5e94\u8be5\u6709\u2f00\u4e2a\u5b9a\u65f6\u4efb\u52a1\u5728\u6267\u884c \u5b9a\u65f6\u4efb\u52a1\u548c\u6d88\u606f\u961f\u5217\u7684\u533a\u522b \u5171\u540c\u70b9\uff1a 1\u3001\u5f02\u6b65\u5904\u7406\uff1a\u2f50\u5982\u6ce8\u518c\u3001\u4e0b\u5355\u4e8b\u4ef6 2\u3001\u5e94\u2f64\u89e3\u8026\uff1a\u4e0d\u7ba1\u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u8fd8\u662fMQ\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u4e24\u4e2a\u5e94\u2f64\u4e4b\u95f4\u7684\u2eee\u8f6e\u5b9e\u73b0\u5e94\u2f64\u89e3\u8026\uff0c\u8fd9\u4e2a\u2eee\u8f6e\u53ef\u4ee5\u4e2d\u8f6c\u6570\u636e\uff0c\u5f53\u7136\u5355\u4f53\u670d\u52a1\u4e0d\u9700\u8981\u8003\u8651\u8fd9\u4e9b\uff0c\u670d\u52a1\u62c6\u5206\u7684\u65f6\u5019\u5f80\u5f80\u90fd\u4f1a\u8003\u8651\u6d41\u91cf\u524a\u5cf0\u3002\u53cc\u2f17\u2f00\u7684\u65f6\u5019\uff0c\u4efb\u52a1\u4f5c\u4e1a\u548cMQ\u90fd\u53ef\u4ee5\u2f64\u6765\u625b\u6d41\u91cf\uff0c\u540e\u7aef\u7cfb\u7edf\u6839\u636e\u670d\u52a1\u80fd\u2f12\u5b9a\u65f6\u5904\u7406\u8ba2\u5355\u6216\u8005\u4eceMQ\u6293\u53d6\u8ba2\u5355\u6293\u53d6\u5230\u2f00\u4e2a\u8ba2\u5355\u5230\u6765\u4e8b\u4ef6\u7684\u8bdd\u89e6\u53d1\u5904\u7406\uff0c\u5bf9\u4e8e\u524d\u7aef\u2f64\u6237\u6765\u8bf4\u770b\u5230\u7684\u7ed3\u679c\u662f\u5df2\u7ecf\u4e0b\u5355\u6210\u529f\u4e86\uff0c\u4e0b\u5355\u662f\u4e0d\u53d7\u4efb\u4f55\u5f71\u54cd\u7684\u3002 \u533a\u522b\uff1a 1\u3001\u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u662f\u65f6\u95f4\u9a71\u52a8\uff0c\u2f7dMQ\u662f\u4e8b\u4ef6\u9a71\u52a8\uff1b 2\u3001\u65f6\u95f4\u9a71\u52a8\u662f\u4e0d\u53ef\u4ee3\u66ff\u7684\uff0c\u2f50\u5982\u2fa6\u878d\u7cfb\u7edf\u6bcf\u2f47\u7684\u5229\u606f\u7ed3\u7b97\uff0c\u4e0d\u662f\u8bf4\u5229\u606f\u6765\u2f00\u6761\uff08\u5229\u606f\u5230\u6765\u4e8b\u4ef6\uff09\u5c31\u7b97\u2f00\u4e0b\uff0c\u2f7d\u5f80\u5f80\u662f\u901a\u8fc7\u5b9a\u65f6\u4efb\u52a1\u6279\u91cf\u8ba1\u7b97\uff1b \u6240\u4ee5\uff0c\u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u66f4\u503e\u5411\u4e8e\u6279\u5904\u7406\uff0cMQ\u503e\u5411\u4e8e\u9010\u6761\u5904\u7406\uff1b Quartz Elastic-Job","title":"\u5206\u5e03\u5f0f\u8bbe\u8ba1"},{"location":"dcs/#_1","text":"https://www.cnblogs.com/xuwc/p/9152236.html","title":"\u5206\u5e03\u5f0f\u8bbe\u8ba1"},{"location":"dcs/#cap","text":"\u4e00\u81f4\u6027\uff08Consistency\uff09 \u53ef\u7528\u6027\uff08Availability\uff09 \u5206\u533a\u5bb9\u5fcd\u6027\uff08Partition tolerance\uff09\uff1a\u4e2a\u4eba\u7406\u89e3\u4e3a\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u53ef\u9760\u6027 \u4e00\u822c\u727a\u7272C\u6362\u53d6AP\uff08\u6307\u7684\u662f\u727a\u7272\u5f3a\u4e00\u81f4\u6027\uff09 \u4e00\u81f4\u6027\u5206\u4e3a\uff1a\u5f3a\u4e00\u81f4\u6027\uff1b\u5f31\u4e00\u81f4\u6027\uff1b\u6700\u7ec8\u4e00\u81f4\u6027\uff1b","title":"CAP"},{"location":"dcs/#base","text":"BA(Basic Available)\u57fa\u672c\u53ef\u7528\uff08\u57fa\u672c\u53ef\u7528\u548c\u9ad8\u53ef\u7528\u4e0d\u4e00\u6837\uff0c\u7ed3\u5408\u670d\u52a1\u964d\u7ea7\uff09 \u6574\u4e2a\u7cfb\u7edf\u5728\u67d0\u4e9b\u4e0d\u53ef\u6297\u529b\u7684\u60c5\u51b5\u4e0b\uff0c\u4ecd\u7136\u80fd\u591f\u4fdd\u8bc1\u201c\u53ef\u7528\u6027\u201d\uff0c\u5373\u4e00\u5b9a\u65f6\u95f4\u5185\u4ecd\u7136\u80fd\u591f\u8fd4\u56de\u4e00\u4e2a\u660e\u786e\u7684\u7ed3\u679c\u3002 S(Soft State)\u67d4\u6027\u72b6\u6001 \u5141\u8bb8\u7cfb\u7edf\u4e0d\u540c\u8282\u70b9\u7684\u6570\u636e\u526f\u672c\u4e4b\u95f4\u8fdb\u884c\u6570\u636e\u540c\u6b65\u7684\u8fc7\u7a0b\u5b58\u5728\u5ef6\u65f6 E(Eventual Consistency)\u6700\u7ec8\u4e00\u81f4\u6027 \u540c\u4e00\u6570\u636e\u7684\u4e0d\u540c\u526f\u672c\u7684\u72b6\u6001\uff0c\u53ef\u4ee5\u4e0d\u9700\u8981\u5b9e\u65f6\u4e00\u81f4\uff0c\u4f46\u4e00\u5b9a\u8981\u4fdd\u8bc1\u7ecf\u8fc7\u4e00\u5b9a\u65f6\u95f4\u540e\u4ecd\u7136\u662f\u4e00\u81f4\u7684\u3002","title":"BASE"},{"location":"dcs/#_2","text":"\u4e8c\u516b\u5b9a\u5f8b\uff0c80%\u7684\u6d41\u91cf\u5176\u5b9e\u90fd\u572820%\u7684\u670d\u52a1\u4e0a 1\u3001\u8d85\u65f6 2\u3001\u7194\u65ad \u67d0\u670d\u52a1\u51fa\u73b0\u4e86\u8fc7\u8f7d\u73b0\u8c61\uff0c\u4e3a\u4e86\u9632\u6b62\u6574\u4e2a\u7cfb\u7edf\u6545\u969c\uff0c\u4ece\u800c\u91c7\u53d6\u67d0\u79cd\u4fdd\u62a4\u63aa\u65bd\u3002 \u76f4\u63a5\u5173\u95ed\u670d\u52a1\uff0c\u6216\u4fdd\u8bc1\u90e8\u5206\u8bf7\u6c42\u6210\u529f\uff0c\u53e6\u4e00\u90e8\u5206\u76f4\u63a5\u8fd4\u56de\u5931\u8d25\uff08\u4e0d\u5360\u7528\u670d\u52a1\u8d44\u6e90\uff09 \u4f8b\u5982\uff1a5\u79d2\u5185\u8fde\u7eed\u8bf7\u6c42\u5931\u8d25\u8fbe\u523020\u6b21\uff0c\u89e6\u53d1\u7194\u65ad\u673a\u5236\uff0c\u8fc7\u6ee460%\u7684\u8bf7\u6c42 3\u3001\u9650\u6d41 4\u3001\u91cd\u8bd5 5\u3001\u670d\u52a1\u964d\u7ea7 \u670d\u52a1\u964d\u7ea7 1\u3001\u8d85\u65f6\u964d\u7ea7 2\u3001\u5931\u8d25\u6b21\u6570\u964d\u7ea7 3\u3001\u6545\u969c\u964d\u7ea7 4\u3001\u9650\u6d41\u964d\u7ea7","title":"\u6709\u635f\u670d\u52a1"},{"location":"dcs/#_3","text":"\u52a8\u9759\u5206\u79bb\uff08\u9759\u6001\u9875\u9762\u3001\u9759\u6001\u8d44\u6e90\u53ef\u4ee5\u7528CDN\u3001nginx\u52a0\u901f\uff09 \u9650\u6d41\uff08\u4ece\u6d4f\u89c8\u5668/APP\u7aef\u5f00\u59cb\u9650\u6d41\uff0c\u7ad9\u70b9\u5c42\u3001\u670d\u52a1\u5c42 \u6bcf\u5c42\u90fd\u9650\u6d41\uff0c\u9875\u9762\u7f13\u5b58\u3001\u6570\u636e\u7f13\u5b58\uff0c\u6700\u540e\u843d\u5230DB\u4e0a\u7684\u538b\u529b\u5c31\u5f88\u5c0f\u4e86\uff09 \u670d\u52a1\u964d\u7ea7","title":"\u4e00\u3001\u9ad8\u5e76\u53d1\uff08\u79d2\u6740\u7cfb\u7edf\uff09"},{"location":"dcs/#id","text":"","title":"\u4e8c\u3001\u5206\u5e03\u5f0fid"},{"location":"dcs/#uuid","text":"int128\uff0c\u592a\u957f\uff0cMySQL\u8981\u6c42\u4e3b\u952e\u5c3d\u53ef\u80fd\u77ed \u65e0\u5e8f \u53ef\u80fd\u4f7f\u7528mac\u5730\u5740\uff0c\u4f1a\u6cc4\u9732\u4fe1\u606f","title":"uuid"},{"location":"dcs/#mongodbobjectid","text":"\uff08\u65f6\u95f4\u6233+\u968f\u673a\u6570\uff0c\u901a\u8fc7\u65f6\u95f4\u6233+pid+hostname\u7684\u5f02\u6216\u6765\u53d6\u51fa\u79cd\u5b50seed\uff09 \u4f7f\u7528\u968f\u673a\u6570\uff0c\u4f46\u662f\u968f\u673a\u6570\u79cd\u5b50seed\u6709\u53ef\u80fd\u4e00\u6837\uff0c\u5bfc\u81f4id\u4e5f\u4f1a\u4e00\u6837 \u65e0\u5e8f","title":"MongoDB\u7684ObjectID"},{"location":"dcs/#snowflake","text":"\u4f9d\u8d56\u673a\u5668\u65f6\u949f \u5206\u5e03\u5f0f\u7cfb\u7edf\u542f\u52a8\u65f6\u540c\u6b65\u673a\u5668\u65f6\u949f\uff0c\u4fdd\u8bc1\u65f6\u95f4\u7684\u51c6\u786e\uff08\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u5173\u95edNTP\u540c\u6b65\uff0c\u5c31\u4e0d\u4f1a\u4e2d\u9014\u53d1\u751f\u65f6\u949f\u56de\u62e8\uff09 \u4f7f\u7528\u65f6\u95f4\u9012\u589e\uff0c\u53ef\u4ee5\u6446\u8131\u65f6\u949f\u4f9d\u8d56\uff0c\u4f46\u662f\u4f1a\u5bfc\u81f4\u5206\u5e03\u5f0fid\u4e2d\u7684\u65f6\u95f4\u4fe1\u606f\u4e0d\u662f\u751f\u6210id\u7684\u771f\u6b63\u7684\u65f6\u95f4\u70b9 \u6ce8\u610f\u5904\u7406\u65f6\u949f\u56de\u62e8\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u4f7f\u7cfb\u7edf\u6682\u65f6\u4e0d\u53ef\u7528 \u53ef\u4ee5\u7ed3\u5408\u673a\u5668\u65f6\u949f\u548c\u65f6\u95f4\u9012\u589e\uff0c\u8bbe\u5b9a\u4e00\u4e2a\u9608\u503c\uff0c\u5982\u679c\u65f6\u949f\u56de\u62e8\u8f83\u5c11\u5c31\u53ef\u4ee5\u7b49\u5f85\u65f6\u949f\u6062\u590d\u56de\u6765\uff0c\u65f6\u949f\u56de\u62e8\u8f83\u591a\u5c31\u62a5\u8b66\u5e76\u5207\u6362\u5230\u65f6\u95f4\u9012\u589e\u7684\u6a21\u5f0f \u6b63\u786e\u5206\u914dworker_id \u7f8e\u56e2Leaf\u4f7f\u7528zookeeper\u5206\u914dworker_id \u767e\u5ea6uid\u4f7f\u7528\u6570\u636e\u5e93\u5206\u914dworker_id \u8fd8\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\uff0c\u5408\u7406\u8c03\u6574\u65f6\u95f4\u6233\u7684\u5360\u4f4d\u957f\u5ea6\u3001\u65f6\u95f4\u6233\u504f\u79fb\u91cf\u3001\u673a\u5668\u6570\u7684\u5360\u4f4d\u957f\u5ea6\u3001\u6bcf\u6beb\u79d2\u53ef\u5206\u914d\u7684\u5360\u4f4d\u957f\u5ea6 \u8fd8\u53ef\u4ee5\u91c7\u7528\u53ccbuff\u7684\u65b9\u5f0f\u63d0\u524d\u751f\u6210\uff08\u767e\u5ea6uid\uff09","title":"snowflake"},{"location":"dcs/#_4","text":"\u53ef\u4ee5\u6839\u636e\u4e1a\u52a1\u5206\u6bb5\u5206tag \u4e00\u6b21\u6027\u6279\u91cf\u751f\u6210step\u4e2aid\uff0c\u8fd9\u6837\u8bbf\u95ee\u6570\u636e\u5e93\u7684\u9891\u7387\u4ece1\u964d\u4f4e\u52301/step \u5373\u4f7fDB\u5b95\u673a\uff0c\u77ed\u65f6\u95f4\u5185\u4e5f\u80fd\u6b63\u5e38\u5bf9\u5916\u63d0\u4f9b\u670d\u52a1 \u91c7\u7528\u53ccbuff\u7684\u65b9\u5f0f\u63d0\u524d\u751f\u6210 DB\u4e3b\u4ece\u5907\u4efd\u3001\u707e\u5907","title":"\u4f7f\u7528\u6570\u636e\u5e93\u751f\u6210"},{"location":"dcs/#_5","text":"","title":"\u62d3\u5c55\uff1a"},{"location":"dcs/#_6","text":"https://www.cnblogs.com/Daniel-Leung/p/fenbushishiwu20210825230930.html 1\u3001\u57fa\u4e8eXA\u534f\u8bae\u7684\u4e24\u9636\u6bb5\u63d0\u4ea4 2\u3001\u6d88\u606f\u4e8b\u52a1+\u6700\u7ec8\u4e00\u81f4\u6027\uff08\u52a0\u5165\u6d88\u606f\u4e2d\u95f4\u4ef6\uff09 3\u3001TCC \u5206\u5e03\u5f0f\u4e8b\u52a1\uff0c\u672c\u8d28\u4e0a\u662f\u5bf9\u591a\u4e2a\u6570\u636e\u5e93\u7684\u4e8b\u52a1\u8fdb\u884c\u7edf\u4e00\u63a7\u5236\uff0c\u6309\u7167\u63a7\u5236\u529b\u5ea6\u53ef\u4ee5\u5206\u4e3a\uff1a\u4e0d\u63a7\u5236\u3001\u90e8\u5206\u63a7\u5236\u548c\u5b8c\u5168\u63a7\u5236\u3002 \u4e0d\u63a7\u5236\u5c31\u662f\u4e0d\u5f15\u5165\u5206\u5e03\u5f0f\u4e8b\u52a1\uff1b \u90e8\u5206\u63a7\u5236\u5c31\u662f\u5404\u79cd\u53d8\u79cd\u7684\u4e24\u9636\u6bb5\u63d0\u4ea4\uff0c\u5305\u62ec\u4e0a\u9762\u63d0\u5230\u7684\u6d88\u606f\u4e8b\u52a1+\u6700\u7ec8\u4e00\u81f4\u6027\u3001TCC\u6a21\u5f0f\uff1b\u597d\u5904\u662f\u5e76\u53d1\u91cf\u548c\u6027\u80fd\u5f88\u597d\uff0c\u7f3a\u70b9\u662f\u6570\u636e\u4e00\u81f4\u6027\u51cf\u5f31\u4e86\uff1b \u5b8c\u5168\u63a7\u5236\u5c31\u662f\u5b8c\u5168\u5b9e\u73b0\u4e24\u9636\u6bb5\u63d0\u4ea4\u3002\u727a\u7272\u4e86\u6027\u80fd\uff0c\u4fdd\u969c\u4e86\u4e00\u81f4\u6027","title":"\u4e09\u3001\u5206\u5e03\u5f0f\u4e8b\u52a1"},{"location":"dcs/#_7","text":"","title":"\u56db\u3001\u5206\u5e03\u5f0f\u9501"},{"location":"dcs/#_8","text":"","title":"\u4e94\u3001\u5206\u5e03\u5f0f\u7684\u4e00\u81f4\u6027"},{"location":"dcs/#_9","text":"1\u3001\u8bfb\u5199\u5206\u79bb\uff08\u5206\u7ec4\uff09 \u7ebf\u6027\u63d0\u5347\u6570\u636e\u5e93\u8bfb\u6027\u80fd \u901a\u8fc7\u6d88\u9664\u8bfb\u5199\u9501\u51b2\u7a81\u63d0\u5347\u6570\u636e\u5e93\u5199\u6027\u80fd \u5927\u90e8\u5206\u4e92\u8054\u7f51\u4e1a\u52a1\u8bfb\u591a\u5199\u5c11\uff0c\u6570\u636e\u5e93\u7684\u8bfb\u5f80\u5f80\u6700\u5148\u6210\u4e3a\u6027\u80fd\u74f6\u9888 \u5206\u7ec4\u4e3b\u8981\u89e3\u51b3\u201c\u6570\u636e\u5e93\u8bfb\u6027\u80fd\u74f6\u9888\u201d\u95ee\u9898\uff0c\u5728\u6570\u636e\u5e93\u625b\u4e0d\u4f4f\u8bfb\u7684\u65f6\u5019\uff0c\u901a\u5e38\u8bfb\u5199\u5206\u79bb\uff0c\u901a\u8fc7\u589e\u52a0\u4ece\u5e93\u7ebf\u6027\u63d0\u5347\u7cfb\u7edf\u8bfb\u6027\u80fd\u3002 \u4ece\u5e93\u7684\u6210\u672c\u6bd4\u7f13\u5b58\u9ad8\uff0c\u5982\u679c\u8981\u89e3\u51b3\u201c\u8bfb\u6027\u80fd\u74f6\u9888\u201d\u95ee\u9898\uff0c\u589e\u52a0\u7f13\u5b58\u66f4\u76f4\u63a5\u66f4\u5bb9\u6613 2\u3001\u6c34\u5e73\u5207\u5206\uff08\u5206\u7247\uff0c\u540c\u4e00\u4e1a\u52a1\u7684\u6570\u636e\u901a\u8fc7\u7b97\u6cd5\u5206\u5272\uff0c\u4f8b\u5982\u53d6\u6a21\uff09 \u7ebf\u6027\u964d\u4f4e\u5355\u5e93\u6570\u636e\u5bb9\u91cf \u7ebf\u6027\u63d0\u5347\u6570\u636e\u5e93\u5199\u6027\u80fd \u5927\u90e8\u5206\u4e92\u8054\u7f51\u4e1a\u52a1\u6570\u636e\u91cf\u5f88\u5927\uff0c\u5355\u5e93\u5bb9\u91cf\u5bb9\u6613\u6210\u4e3a\u74f6\u9888 3\u3001\u5782\u76f4\u62c6\u5206\uff08\u6839\u636e\u4e1a\u52a1\u62c6\u5206\uff09","title":"\u516d\u3001\u5206\u5e03\u5f0f\u6570\u636e\u5e93"},{"location":"dcs/#_10","text":"\u540c\u2f00\u4e2a\u5b9a\u65f6\u4efb\u52a1\u7a0b\u5e8f\u90e8\u7f72\u591a\u4efd\uff0c\u53ea\u5e94\u8be5\u6709\u2f00\u4e2a\u5b9a\u65f6\u4efb\u52a1\u5728\u6267\u884c \u5b9a\u65f6\u4efb\u52a1\u548c\u6d88\u606f\u961f\u5217\u7684\u533a\u522b \u5171\u540c\u70b9\uff1a 1\u3001\u5f02\u6b65\u5904\u7406\uff1a\u2f50\u5982\u6ce8\u518c\u3001\u4e0b\u5355\u4e8b\u4ef6 2\u3001\u5e94\u2f64\u89e3\u8026\uff1a\u4e0d\u7ba1\u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u8fd8\u662fMQ\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u4e24\u4e2a\u5e94\u2f64\u4e4b\u95f4\u7684\u2eee\u8f6e\u5b9e\u73b0\u5e94\u2f64\u89e3\u8026\uff0c\u8fd9\u4e2a\u2eee\u8f6e\u53ef\u4ee5\u4e2d\u8f6c\u6570\u636e\uff0c\u5f53\u7136\u5355\u4f53\u670d\u52a1\u4e0d\u9700\u8981\u8003\u8651\u8fd9\u4e9b\uff0c\u670d\u52a1\u62c6\u5206\u7684\u65f6\u5019\u5f80\u5f80\u90fd\u4f1a\u8003\u8651\u6d41\u91cf\u524a\u5cf0\u3002\u53cc\u2f17\u2f00\u7684\u65f6\u5019\uff0c\u4efb\u52a1\u4f5c\u4e1a\u548cMQ\u90fd\u53ef\u4ee5\u2f64\u6765\u625b\u6d41\u91cf\uff0c\u540e\u7aef\u7cfb\u7edf\u6839\u636e\u670d\u52a1\u80fd\u2f12\u5b9a\u65f6\u5904\u7406\u8ba2\u5355\u6216\u8005\u4eceMQ\u6293\u53d6\u8ba2\u5355\u6293\u53d6\u5230\u2f00\u4e2a\u8ba2\u5355\u5230\u6765\u4e8b\u4ef6\u7684\u8bdd\u89e6\u53d1\u5904\u7406\uff0c\u5bf9\u4e8e\u524d\u7aef\u2f64\u6237\u6765\u8bf4\u770b\u5230\u7684\u7ed3\u679c\u662f\u5df2\u7ecf\u4e0b\u5355\u6210\u529f\u4e86\uff0c\u4e0b\u5355\u662f\u4e0d\u53d7\u4efb\u4f55\u5f71\u54cd\u7684\u3002 \u533a\u522b\uff1a 1\u3001\u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u662f\u65f6\u95f4\u9a71\u52a8\uff0c\u2f7dMQ\u662f\u4e8b\u4ef6\u9a71\u52a8\uff1b 2\u3001\u65f6\u95f4\u9a71\u52a8\u662f\u4e0d\u53ef\u4ee3\u66ff\u7684\uff0c\u2f50\u5982\u2fa6\u878d\u7cfb\u7edf\u6bcf\u2f47\u7684\u5229\u606f\u7ed3\u7b97\uff0c\u4e0d\u662f\u8bf4\u5229\u606f\u6765\u2f00\u6761\uff08\u5229\u606f\u5230\u6765\u4e8b\u4ef6\uff09\u5c31\u7b97\u2f00\u4e0b\uff0c\u2f7d\u5f80\u5f80\u662f\u901a\u8fc7\u5b9a\u65f6\u4efb\u52a1\u6279\u91cf\u8ba1\u7b97\uff1b \u6240\u4ee5\uff0c\u5b9a\u65f6\u4efb\u52a1\u4f5c\u4e1a\u66f4\u503e\u5411\u4e8e\u6279\u5904\u7406\uff0cMQ\u503e\u5411\u4e8e\u9010\u6761\u5904\u7406\uff1b Quartz Elastic-Job","title":"\u4e03\u3001\u5206\u5e03\u5f0f\u4efb\u52a1\u8c03\u5ea6"},{"location":"docker/","text":"Install \u00b6 Install Docker for Windows \u00b6 Install Docker for MacOS \u00b6 Install Docker for Linux \u00b6","title":"Install"},{"location":"docker/#install","text":"","title":"Install"},{"location":"docker/#install-docker-for-windows","text":"","title":"Install Docker for Windows"},{"location":"docker/#install-docker-for-macos","text":"","title":"Install Docker for MacOS"},{"location":"docker/#install-docker-for-linux","text":"","title":"Install Docker for Linux"},{"location":"docker_0/","text":"Docker\u5728\u5f53\u524d\u73af\u5883\u4e0b\u7684\u7b80\u5355\u4f7f\u7528 \u00b6 \u573a\u666f \u00b6 python\u5e93\u5b58\u5728\u57fa\u4e8e**ftncl**\u51fd\u6570\u7684\u6587\u4ef6\u52a0\u9501\u8c03\u7528\uff0c\u5bfc\u81f4\u5728**windows**\u4e2d\u6784\u5efa\u9879\u76ee\u5931\u8d25\uff1b \u5171\u4eab\u7684\u5f00\u53d1\u73af\u5883\u4e0d\u4fbf\u4e8e\u8fdb\u884c\u9891\u7e41\u7684\u8c03\u8bd5 \u4fdd\u8bc1\u5f00\u53d1\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u5b8c\u5168\u4e00\u81f4\uff0c\u9694\u7edd\u5e73\u53f0\u548c\u7f51\u7edc\u7684\u5dee\u5f02 Docker\u4e0e\u865a\u62df\u673a\u7684\u9009\u62e9 \u00b6 Docker\u542f\u52a8\u901f\u5ea6\u4f18\u4e8e\u865a\u62df\u673a Docker\u955c\u50cf\u5b89\u88c5\u4fbf\u4e8e\u865a\u62df\u673a\u7684\u5e94\u7528\u7a0b\u5e8f\u5b89\u88c5\uff0c\u4e0d\u9700\u8981\u7f16\u8bd1\u5b89\u88c5\u7684\u540c\u65f6\uff0c\u6446\u8131\u5e94\u7528\u7a0b\u5e8f\u4e0b\u5404\u79cd\u4f9d\u8d56\u7684\u5904\u7406,\u8d44\u6e90\u76f8\u5bf9\u4e30\u5bcc\uff0c\u5b58\u5728\u5404\u79cd\u5b8c\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u5982nginx\u3001mysql\u3001redis\u3001mongodb...\uff09 Docker\u4e2d\u5404\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u5b8c\u5168\u72ec\u7acb\uff0c\u62e5\u6709\u5404\u79cd\u7684\u8f7b\u91cf\u7ea7\u7684\u5185\u6838\u7cfb\u7edf Docker\u5b58\u5728\u7684\u90e8\u5206\u95ee\u9898 \u00b6 Docker\u5728window10\u4e2d\u4f1a\u81ea\u52a8\u9009\u62e9 Hyper-V \uff0c\u4f46\u662f\u5728\u8be5\u6a21\u5f0f\u4e0b\u865a\u62df\u673a\u7684\u4f7f\u7528\uff08\u5982\u5b89\u5353\u6a21\u62df\u5668\uff09\u4f1a\u76f4\u63a5\u9020\u6210\u7535\u8111\u84dd\u5c4f\uff0c\u9700\u8981\u5728\u5173\u95edHyper-V\u9009\u9879\u540e\uff0c**\u91cd\u542f**\u624d\u80fd\u8fd0\u884c\u865a\u62df\u673a\uff08\u5b89\u5353\u6a21\u62df\u5668\uff09 Docker\u955c\u50cf\u6e90\u5730\u5740\u5728\u6d77\u5916\uff0c\u9700\u8981\u7ffb\u5899\uff08\u53ef\u4ee5\u901a\u8fc7\u56fd\u5185\u7f51\u6613\u3001\u963f\u91cc\u3001\u7f51\u6613\u955c\u50cf\u6e90\u89e3\u51b3\uff09 Docker\u5728windows\u4e0b\u7684GUI\u4e5f\u9700\u8981\u8bbf\u95eeDocker\u6d77\u5916\u7f51\u7ad9\uff0c\u6240\u4ee5\u66f4\u591a\u7684\u662f\u901a\u8fc7\u547d\u4ee4\u53bb\u6267\u884cDocker\u64cd\u4f5c\uff0c\u5bf9\u65b0\u624b\u4e0d\u53cb\u597d Docker\u5b89\u88c5 \u00b6 windows\u5b89\u88c5\u65b9\u5f0f mac\u5b89\u88c5\u65b9\u5f0f linux\u5b89\u88c5\u65b9\u5f0f Docker\u64cd\u4f5c \u00b6 \u4e00\u3001Docker\u8fd0\u884c\u955c\u50cf \u00b6 \u5e38\u89c1\u547d\u4ee4 docker images \u663e\u793a\u672c\u673a\u7684\u955c\u50cf\u6587\u4ef6 docker search IMAGE \u4ed3\u5e93\u641c\u7d22\u955c\u50cf\u6587\u4ef6 docker pull IMAGE \u62c9\u53d6\u955c\u50cf\u6587\u4ef6 docker stop IMAGE \u505c\u6b62\u8fd0\u884c\u4e2d\u7684\u5bb9\u5668 docker rm IMAGE \u79fb\u9664\u5bb9\u5668 docker ps -a \u663e\u793a\u5f53\u524d\u52a0\u8f7d\u4e2d\u7684\u6240\u6709\u5bb9\u5668\uff08-a \u8868\u793a\u5305\u62ec\u8fd0\u884c\u4e2d\u548c\u505c\u6b62\u72b6\u6001\uff09 docker inspect \u663e\u793a\u5bb9\u5668\u8be6\u7ec6\u7684\u914d\u7f6e\u4fe1\u606f docker run -i \u5141\u8bb8\u4f60\u5bf9\u5bb9\u5668\u5185\u7684\u6807\u51c6\u8f93\u5165 (STDIN) \u8fdb\u884c\u4ea4\u4e92\u3002 -t \u5728\u65b0\u5bb9\u5668\u5185\u6307\u5b9a\u4e00\u4e2a\u4f2a\u7ec8\u7aef\u6216\u7ec8\u7aef\u3002 -p \u7aef\u53e3\u6307\u5b9a\u6620\u5c04 -d daemon\u540e\u53f0\u8fd0\u884c -v \u672c\u5730\u6302\u8f7d\u6587\u4ef6 -P \u5185\u90e8\u7aef\u53e3\u968f\u673a\u6620\u5c04\u5230\u672c\u673a -e \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf --link \u8fde\u63a5\u5916\u90e8\u5bb9\u5668\uff08\u5982mysql\u3001redis\u3001nginx\u7b49\uff09 \u4e8c\u3001\u5236\u4f5c\u9879\u76ee\u955c\u50cf \u00b6 \u8fd9\u91cc\u5c06mysql redis mongodb nginx\u5206\u5f00\uff0c\u4e0d\u91c7\u7528\u591a\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5171\u7528\u540c\u4e00\u4e2a\u5bb9\u5668\uff0c\u5bb9\u5668\u4e4b\u95f4\u901a\u8fc7--link\u547d\u4ee4\u901a\u4fe1\uff0c\u5404\u81ea\u5b8c\u5168\u72ec\u7acb \u901a\u8fc7docker pull \u547d\u4ee4\u5b89\u88c5mysql redis mongodb \u8fd9\u91cc\u4ee5pyq_web\u4e3a\u4f8b\uff0c\u521b\u5efa\u5e76\u8fd0\u884c\u8be5\u9879\u76ee docker-compose.yml version: \"3\" services: web: build: ./pyq_web # links: # - mysql # - redis #ports: # - \"8000:8000\" # volumes: # - ./pyq_web:/data command: - cd /data && python manage.py run server 8000 dockerfile #\u57fa\u7840\u955c\u50cf FROM daocloud.io/python:2.7 #app\u6240\u5728\u76ee\u5f55 WORKDIR /data #\u5c06\u76ee\u5f55\u52a0\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d ADD . /data #\u66b4\u9732\u7aef\u53e3 EXPOSE 8000 #\u5b89\u88c5app\u6240\u9700\u4f9d\u8d56 RUN pip install --no-cache-dir -r requirements.txt -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com RUN mkdir -p /data/logs \u6253\u5305 docker-compose build \u8fd0\u884c # \u542f\u52a8mysql docker run --name mysql -p 3306 :3306 -p 33060 :33060 -d -e MYSQL_ALLOW_EMPTY_PASSWORD = true mysql # \u542f\u52a8python\u7a0b\u5e8f # docker_web\u662f\u6211\u5236\u4f5c\u7684\u955c\u50cf\u540d # -p -v \u53ef\u4ee5\u5728yml\u4e2d\u56fa\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4fee\u6539 # -v\u76f8\u5f53\u4e8e\u5171\u4eab\u672c\u5730\u7684\u6e90\u7801\u6587\u4ef6\u5939 # /bin/bash \u662f\u8fd0\u884c\u7ec8\u7aef\u547d\u4ee4 docker run -it --link mysql:mysql -p 8000 :8000 -v ./pyq_web:/data docker_web /bin/bash # \u8fdb\u5165\u5bb9\u5668\u540e\u9ed8\u8ba4\u5728/data\u76ee\u5f55 python manage.py makemigrations python manage.py migrations python manage.py runserver 8000 \u8fd9\u6837\u5c31\u53ef\u4ee5\u5feb\u4e50\u7684\u5728windows\u4e0a\u4fee\u6539\u4ee3\u7801\uff0c\u5728docker\u5bb9\u5668\u4e2d\u8fd0\u884c\u9879\u76eedebug\u4e86 \u95ee\u9898 \u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25 bpymysql.err.OperationalError: (2003, \u201cCan\u2019t connect to MySQL server on \u2018127.0.0.1\u2019\u201d) \u65b9\u6848\uff1a\u6570\u636e\u5e93ip\u5730\u5740\u9519\u8bef,\u5c06settings.py\u4e2dip\u5730\u5740\u8bbe\u7f6e\u6210\u672c\u673aip # # makemigrations # # https://docs.djangoproject.com/en/1.6/ref/settings/#databases # DB_HOST = '192.168.100.22' # DB_PASSWORD = 'bigworld' # DB_PORT = '3306' # DB_USER = 'vpoker' # DB_HOST = '127.0.0.1' DB_HOST = '192.168.100.162' DB_PASSWORD = '' # DB_PASSWORD = '123456' DB_PORT = '3306' DB_USER = 'root' \u8fde\u63a5\u6570\u636e\u5e93\u62a5\u9519 File \"/usr/local/lib/python2.7/site-packages/pymysql/connections.py\", line 1233, in _get_server_information self.server_charset = charset_by_id(lang).name File \"/usr/local/lib/python2.7/site-packages/pymysql/charset.py\", line 34, in by_id return self._by_id[id] KeyError: 255 \u65b9\u6848\uff1a\u4e3b\u8981\u539f\u56e0\u662fMySQL8.0\u66f4\u65b0\u4e86\u5f88\u591a\u5b57\u7b26\u96c6\uff0c\u4f46\u662f\u8fd9\u4e9b\u5b57\u7b26\u96c6\u957f\u5ea6\u8d85\u8fc7255\u4e86\uff0c\u6240\u4ee5\u65e7\u7248\u7684PyMySQL\u4e0d\u652f\u6301\u957f\u5ea6\u8d85\u8fc7255\u7684\u5b57\u7b26 pip install --upgrade PyMySQL \u4f7f\u7528\u5236\u5b9a\u7248\u672c\u7684mysql\u5bb9\u5668 \u6570\u636e\u5e93\u4e0d\u5b58\u5728 \u65b9\u6848\uff1acreate database DATABASE","title":"Docker"},{"location":"docker_0/#docker","text":"","title":"Docker\u5728\u5f53\u524d\u73af\u5883\u4e0b\u7684\u7b80\u5355\u4f7f\u7528"},{"location":"docker_0/#_1","text":"python\u5e93\u5b58\u5728\u57fa\u4e8e**ftncl**\u51fd\u6570\u7684\u6587\u4ef6\u52a0\u9501\u8c03\u7528\uff0c\u5bfc\u81f4\u5728**windows**\u4e2d\u6784\u5efa\u9879\u76ee\u5931\u8d25\uff1b \u5171\u4eab\u7684\u5f00\u53d1\u73af\u5883\u4e0d\u4fbf\u4e8e\u8fdb\u884c\u9891\u7e41\u7684\u8c03\u8bd5 \u4fdd\u8bc1\u5f00\u53d1\u4e0e\u751f\u4ea7\u73af\u5883\u7684\u5b8c\u5168\u4e00\u81f4\uff0c\u9694\u7edd\u5e73\u53f0\u548c\u7f51\u7edc\u7684\u5dee\u5f02","title":"\u573a\u666f"},{"location":"docker_0/#docker_1","text":"Docker\u542f\u52a8\u901f\u5ea6\u4f18\u4e8e\u865a\u62df\u673a Docker\u955c\u50cf\u5b89\u88c5\u4fbf\u4e8e\u865a\u62df\u673a\u7684\u5e94\u7528\u7a0b\u5e8f\u5b89\u88c5\uff0c\u4e0d\u9700\u8981\u7f16\u8bd1\u5b89\u88c5\u7684\u540c\u65f6\uff0c\u6446\u8131\u5e94\u7528\u7a0b\u5e8f\u4e0b\u5404\u79cd\u4f9d\u8d56\u7684\u5904\u7406,\u8d44\u6e90\u76f8\u5bf9\u4e30\u5bcc\uff0c\u5b58\u5728\u5404\u79cd\u5b8c\u5907\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u5982nginx\u3001mysql\u3001redis\u3001mongodb...\uff09 Docker\u4e2d\u5404\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u5b8c\u5168\u72ec\u7acb\uff0c\u62e5\u6709\u5404\u79cd\u7684\u8f7b\u91cf\u7ea7\u7684\u5185\u6838\u7cfb\u7edf","title":"Docker\u4e0e\u865a\u62df\u673a\u7684\u9009\u62e9"},{"location":"docker_0/#docker_2","text":"Docker\u5728window10\u4e2d\u4f1a\u81ea\u52a8\u9009\u62e9 Hyper-V \uff0c\u4f46\u662f\u5728\u8be5\u6a21\u5f0f\u4e0b\u865a\u62df\u673a\u7684\u4f7f\u7528\uff08\u5982\u5b89\u5353\u6a21\u62df\u5668\uff09\u4f1a\u76f4\u63a5\u9020\u6210\u7535\u8111\u84dd\u5c4f\uff0c\u9700\u8981\u5728\u5173\u95edHyper-V\u9009\u9879\u540e\uff0c**\u91cd\u542f**\u624d\u80fd\u8fd0\u884c\u865a\u62df\u673a\uff08\u5b89\u5353\u6a21\u62df\u5668\uff09 Docker\u955c\u50cf\u6e90\u5730\u5740\u5728\u6d77\u5916\uff0c\u9700\u8981\u7ffb\u5899\uff08\u53ef\u4ee5\u901a\u8fc7\u56fd\u5185\u7f51\u6613\u3001\u963f\u91cc\u3001\u7f51\u6613\u955c\u50cf\u6e90\u89e3\u51b3\uff09 Docker\u5728windows\u4e0b\u7684GUI\u4e5f\u9700\u8981\u8bbf\u95eeDocker\u6d77\u5916\u7f51\u7ad9\uff0c\u6240\u4ee5\u66f4\u591a\u7684\u662f\u901a\u8fc7\u547d\u4ee4\u53bb\u6267\u884cDocker\u64cd\u4f5c\uff0c\u5bf9\u65b0\u624b\u4e0d\u53cb\u597d","title":"Docker\u5b58\u5728\u7684\u90e8\u5206\u95ee\u9898"},{"location":"docker_0/#docker_3","text":"windows\u5b89\u88c5\u65b9\u5f0f mac\u5b89\u88c5\u65b9\u5f0f linux\u5b89\u88c5\u65b9\u5f0f","title":"Docker\u5b89\u88c5"},{"location":"docker_0/#docker_4","text":"","title":"Docker\u64cd\u4f5c"},{"location":"docker_0/#docker_5","text":"","title":"\u4e00\u3001Docker\u8fd0\u884c\u955c\u50cf"},{"location":"docker_0/#_2","text":"\u8fd9\u91cc\u5c06mysql redis mongodb nginx\u5206\u5f00\uff0c\u4e0d\u91c7\u7528\u591a\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5171\u7528\u540c\u4e00\u4e2a\u5bb9\u5668\uff0c\u5bb9\u5668\u4e4b\u95f4\u901a\u8fc7--link\u547d\u4ee4\u901a\u4fe1\uff0c\u5404\u81ea\u5b8c\u5168\u72ec\u7acb \u901a\u8fc7docker pull \u547d\u4ee4\u5b89\u88c5mysql redis mongodb \u8fd9\u91cc\u4ee5pyq_web\u4e3a\u4f8b\uff0c\u521b\u5efa\u5e76\u8fd0\u884c\u8be5\u9879\u76ee docker-compose.yml version: \"3\" services: web: build: ./pyq_web # links: # - mysql # - redis #ports: # - \"8000:8000\" # volumes: # - ./pyq_web:/data command: - cd /data && python manage.py run server 8000 dockerfile #\u57fa\u7840\u955c\u50cf FROM daocloud.io/python:2.7 #app\u6240\u5728\u76ee\u5f55 WORKDIR /data #\u5c06\u76ee\u5f55\u52a0\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d ADD . /data #\u66b4\u9732\u7aef\u53e3 EXPOSE 8000 #\u5b89\u88c5app\u6240\u9700\u4f9d\u8d56 RUN pip install --no-cache-dir -r requirements.txt -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com RUN mkdir -p /data/logs \u6253\u5305 docker-compose build \u8fd0\u884c # \u542f\u52a8mysql docker run --name mysql -p 3306 :3306 -p 33060 :33060 -d -e MYSQL_ALLOW_EMPTY_PASSWORD = true mysql # \u542f\u52a8python\u7a0b\u5e8f # docker_web\u662f\u6211\u5236\u4f5c\u7684\u955c\u50cf\u540d # -p -v \u53ef\u4ee5\u5728yml\u4e2d\u56fa\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4fee\u6539 # -v\u76f8\u5f53\u4e8e\u5171\u4eab\u672c\u5730\u7684\u6e90\u7801\u6587\u4ef6\u5939 # /bin/bash \u662f\u8fd0\u884c\u7ec8\u7aef\u547d\u4ee4 docker run -it --link mysql:mysql -p 8000 :8000 -v ./pyq_web:/data docker_web /bin/bash # \u8fdb\u5165\u5bb9\u5668\u540e\u9ed8\u8ba4\u5728/data\u76ee\u5f55 python manage.py makemigrations python manage.py migrations python manage.py runserver 8000 \u8fd9\u6837\u5c31\u53ef\u4ee5\u5feb\u4e50\u7684\u5728windows\u4e0a\u4fee\u6539\u4ee3\u7801\uff0c\u5728docker\u5bb9\u5668\u4e2d\u8fd0\u884c\u9879\u76eedebug\u4e86 \u95ee\u9898 \u8fde\u63a5\u6570\u636e\u5e93\u5931\u8d25 bpymysql.err.OperationalError: (2003, \u201cCan\u2019t connect to MySQL server on \u2018127.0.0.1\u2019\u201d) \u65b9\u6848\uff1a\u6570\u636e\u5e93ip\u5730\u5740\u9519\u8bef,\u5c06settings.py\u4e2dip\u5730\u5740\u8bbe\u7f6e\u6210\u672c\u673aip # # makemigrations # # https://docs.djangoproject.com/en/1.6/ref/settings/#databases # DB_HOST = '192.168.100.22' # DB_PASSWORD = 'bigworld' # DB_PORT = '3306' # DB_USER = 'vpoker' # DB_HOST = '127.0.0.1' DB_HOST = '192.168.100.162' DB_PASSWORD = '' # DB_PASSWORD = '123456' DB_PORT = '3306' DB_USER = 'root' \u8fde\u63a5\u6570\u636e\u5e93\u62a5\u9519 File \"/usr/local/lib/python2.7/site-packages/pymysql/connections.py\", line 1233, in _get_server_information self.server_charset = charset_by_id(lang).name File \"/usr/local/lib/python2.7/site-packages/pymysql/charset.py\", line 34, in by_id return self._by_id[id] KeyError: 255 \u65b9\u6848\uff1a\u4e3b\u8981\u539f\u56e0\u662fMySQL8.0\u66f4\u65b0\u4e86\u5f88\u591a\u5b57\u7b26\u96c6\uff0c\u4f46\u662f\u8fd9\u4e9b\u5b57\u7b26\u96c6\u957f\u5ea6\u8d85\u8fc7255\u4e86\uff0c\u6240\u4ee5\u65e7\u7248\u7684PyMySQL\u4e0d\u652f\u6301\u957f\u5ea6\u8d85\u8fc7255\u7684\u5b57\u7b26 pip install --upgrade PyMySQL \u4f7f\u7528\u5236\u5b9a\u7248\u672c\u7684mysql\u5bb9\u5668 \u6570\u636e\u5e93\u4e0d\u5b58\u5728 \u65b9\u6848\uff1acreate database DATABASE","title":"\u4e8c\u3001\u5236\u4f5c\u9879\u76ee\u955c\u50cf"},{"location":"markdown/","text":"\u53ea\u6709\u4e00\u4e2ah1 h2\u5e76\u5217\u5173\u7cfb\uff0c\u5c3d\u91cf\u4e0d\u52a0\u5e8f\u53f7 h3~h6 \u6709\u987a\u5e8f\u7684\u53ef\u4ee5\u52a0\u5e8f\u53f7\uff0c\u6ca1\u6709\u987a\u5e8f\u5173\u7cfb\u7684\u4e5f\u5c3d\u91cf\u4e0d\u52a0\u5e8f\u53f7 h3 1. 2. 3. h4 (1) (2) (3) h5 a. b. c. h6 \u2460 \u258d\u8fd9\u4e2a\u52a0\u5728\u5206\u7ea7\u6807\u9898\u524d\u6548\u679c\u597d \u258f\u8fd9\u4e2a\u5728\u6bb5\u843d\u524d\u7b49\u4e8e\u662f\u7a7a\u683c\u5404\u79cd\u4e09\u89d2 \u25b7 \u25c1 \u25b6 \u25c0 \u25b3\u25bd\u25b2\u25bc \u27a5 \u548c \u2192 \u8fd8\u6709 \u02c9\u02c9\u21b4 \u4ee5\u53ca \u27a8 \u8d77\u5f15\u5bfc\u89c6\u7ebf\u7684\u4f5c\u7528 \u261b \u8fd9\u4e2a\u662f\u70b9\u51fb \u2611 \u548c \u2714 \u662f\u5df2\u7ecf\u9009\u62e9\uff0cOK \u2718 \u662f\u9519\u8bef\uff0c\u5220\u9664\uff0cNO \u2704 \u662f\u526a\u5207 \u2750 \u8fd9\u4e2a\u662f\u590d\u5236\u7c98\u8d34 \u271a \u662f\u6dfb\u52a0\uff0c\u8865\u5145\uff0c\u9009\u9879 \u2637 \u662f\u5217\u8868\uff0c\u8c03\u6574\u683c\u5f0f \u2460 \u2461 \u2462 \u2463 \u2464 \u2465 \u2466 \u2467 \u2468 \u2469 \u8fd9\u6837\u7684\u6570\u5b57\u662f\u4e0d\u662f\u5f88\u9177 \u7f57\u9a6c\u6570\u5b57\uff08\u2160\u00b7\u2161\u00b7\u2162\u00b7\u2163\u00b7\u2164\u00b7\u2165\u00b7\u2166\u00b7\u2167\u00b7\u2168\u00b7\u2169\u00b7\u216a\u00b7\u216b\uff09\u6bd4\u8f83\u4f18\u96c5\u590d\u53e4 \u2170 \u2171 \u2172 \u2173 \u2174 \u2175 \u2176 \u2177 \u2178 \u2179 \u217a \u217b","title":"Markdown"},{"location":"misc/","text":"\u9009\u4e3b\u673a\u5236 \u00b6 1\u3001Zab\uff08zookeeper\u4f7f\u7528\uff09 2\u3001Raft\u534f\u8bae \u4e24\u79cd\u9009\u62e9\u7b97\u6cd5\u7684\u533a\u522b\u8054\u7cfb \uff081\uff09\u4ed6\u4eec\u90fd\u662fPaxos\u7b97\u6cd5\u7684\u53d8\u79cd\u3002 \uff082\uff09\u4e0ezab\u534f\u8bae\u4e0d\u540c\u7684\u662f\uff0czab\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u6709\u88ab\u9009\u4e3aleader\u7684\u534f\u8bae\uff0craft\u534f\u8bae\u5fc5\u987b\u4ece\u5019\u9009\u4eba\u4e2d\u9009\u62e9\u4e3aleader\u3002 \u8be5\u65b9\u5f0f\u6709\u5982\u4e0b\u7f3a\u70b9\uff1a\u2028a\u3001\u8111\u88c2\uff08split-brain\uff09 \u8fd9\u662f\u7531\u4e8ezookeeper\u7684\u7279\u6027\u5f15\u8d77\u7684\uff0c\u867d\u7136zookeeper\u80fd\u4fdd\u8bc1\u6240\u6709\u7684watch\u6309\u987a\u5e8f\u89e6\u53d1\uff0c\u4f46\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u540c\u4e00\u65f6\u523b\u6240\u6709\u7684replica\u770b\u5230\u7684\u72b6\u6001\u662f\u4e00\u6837\u7684\uff0c\u8fd9\u5c31\u53ef\u80fd\u9020\u6210\u4e0d\u540c\u7684replica\u7684\u54cd\u5e94\u4e0d\u4e00\u81f4\uff1b\uff08\u5982\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\u90e8\u5206\u9009\u62e9\u7684leader\u5df2\u7ecf\u66f4\u65b0\uff0c\u4f46\u662f\u5176\u4ed6follower\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\u6ca1\u6709\u770b\u5230\uff0c\u90e8\u5206\u53c8\u9009\u4e3e\u51fa\u4e00\u4e2aleader\uff0c\u5bfc\u81f4\u4e00\u4e2a\u96c6\u7fa4\u51fa\u73b0\u4e24\u4e2aleader\uff09 b\u3001\u7f8a\uff08\u60ca\uff09\u7fa4\u6548\u5e94\uff08herd effect\uff09 \u5982\u679c\u5b95\u673a\u7684\u54ea\u4e2abroker\u4e0a\u7684partition\u6bd4\u8f83\u591a\uff0c\u4f1a\u9020\u6210\u591a\u4e2awatch\u88ab\u89e6\u53d1\uff0c\u9020\u6210\u96c6\u7fa4\u7c7b\u5927\u91cf\u7684\u8c03\u6574\uff08\u5411\u7f8a\u7fa4\u5f00\u4e00\u67aa\u6240\u6709\u7f8a\u7fa4\u56db\u5904\u5954\u6563\uff0c\u9020\u6210\u7f51\u8def\u8d44\u6e90\u548c\u8d1f\u8f7d\uff09\u3002\u2028c\u3001zookeeper\u8d1f\u8f7d\u8fc7\u91cd\uff1a\u6bcf\u4e00\u4e2areplica\u90fd\u8981\u4e3a\u6b64\u5728zookeeper\u4e0a\u6ce8\u518c\u4e00\u4e2awatch\uff0c\u5f53\u96c6\u7fa4\u89c4\u6a21\u589e\u52a0\u5230\u51e0\u5343\u4e2apartition\u65f6\uff0czookeeper\u8d1f\u8f7d\u4f1a\u8fc7\u91cd\u3002 zookeeper \u00b6 1\u3001\u6570\u636e\u53d1\u5e03/\u8ba2\u9605\uff08\u63a8\u62c9\u7ed3\u5408\uff09 2\u3001\u8d1f\u8f7d\u5747\u8861 3\u3001\u547d\u540d\u670d\u52a1 3-1\u3001\u63d0\u4f9b\u7c7b JNDI \u529f\u80fd\uff0c\u53ef\u4ee5\u628a\u7cfb\u7edf\u4e2d\u5404\u79cd\u670d\u52a1\u7684\u540d\u79f0\u3001\u5730\u5740\u4ee5\u53ca\u76ee\u5f55\u4fe1\u606f\u5b58\u653e\u5728 ZooKeeper\uff0c\u9700\u8981\u7684\u65f6\u5019\u53bb ZooKeeper \u4e2d\u8bfb\u53d6 3-2\u3001\u5236\u4f5c\u5206\u5e03\u5f0f\u7684\u5e8f\u5217\u53f7\u751f\u6210\u5668\uff08\u987a\u5e8f\u8282\u70b9\uff09 4\u3001\u5206\u5e03\u5f0f\u534f\u8c03/\u901a\u77e5\uff08\u4e34\u65f6\u8282\u70b9\uff09 \u51cf\u5c11\u7cfb\u7edf\u7684\u8026\u5408 5\u3001\u96c6\u7fa4\u7ba1\u7406 6\u3001Master \u9009\u4e3e 7\u3001\u5206\u5e03\u5f0f\u9501 8\u3001\u5206\u5e03\u5f0f\u961f\u5217 8-1\u3001FIFO\uff08\u6709\u5e8f\u8282\u70b9\uff09","title":"\u672a\u5206\u7c7b"},{"location":"misc/#_1","text":"1\u3001Zab\uff08zookeeper\u4f7f\u7528\uff09 2\u3001Raft\u534f\u8bae \u4e24\u79cd\u9009\u62e9\u7b97\u6cd5\u7684\u533a\u522b\u8054\u7cfb \uff081\uff09\u4ed6\u4eec\u90fd\u662fPaxos\u7b97\u6cd5\u7684\u53d8\u79cd\u3002 \uff082\uff09\u4e0ezab\u534f\u8bae\u4e0d\u540c\u7684\u662f\uff0czab\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u90fd\u6709\u88ab\u9009\u4e3aleader\u7684\u534f\u8bae\uff0craft\u534f\u8bae\u5fc5\u987b\u4ece\u5019\u9009\u4eba\u4e2d\u9009\u62e9\u4e3aleader\u3002 \u8be5\u65b9\u5f0f\u6709\u5982\u4e0b\u7f3a\u70b9\uff1a\u2028a\u3001\u8111\u88c2\uff08split-brain\uff09 \u8fd9\u662f\u7531\u4e8ezookeeper\u7684\u7279\u6027\u5f15\u8d77\u7684\uff0c\u867d\u7136zookeeper\u80fd\u4fdd\u8bc1\u6240\u6709\u7684watch\u6309\u987a\u5e8f\u89e6\u53d1\uff0c\u4f46\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u540c\u4e00\u65f6\u523b\u6240\u6709\u7684replica\u770b\u5230\u7684\u72b6\u6001\u662f\u4e00\u6837\u7684\uff0c\u8fd9\u5c31\u53ef\u80fd\u9020\u6210\u4e0d\u540c\u7684replica\u7684\u54cd\u5e94\u4e0d\u4e00\u81f4\uff1b\uff08\u5982\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\u90e8\u5206\u9009\u62e9\u7684leader\u5df2\u7ecf\u66f4\u65b0\uff0c\u4f46\u662f\u5176\u4ed6follower\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\u6ca1\u6709\u770b\u5230\uff0c\u90e8\u5206\u53c8\u9009\u4e3e\u51fa\u4e00\u4e2aleader\uff0c\u5bfc\u81f4\u4e00\u4e2a\u96c6\u7fa4\u51fa\u73b0\u4e24\u4e2aleader\uff09 b\u3001\u7f8a\uff08\u60ca\uff09\u7fa4\u6548\u5e94\uff08herd effect\uff09 \u5982\u679c\u5b95\u673a\u7684\u54ea\u4e2abroker\u4e0a\u7684partition\u6bd4\u8f83\u591a\uff0c\u4f1a\u9020\u6210\u591a\u4e2awatch\u88ab\u89e6\u53d1\uff0c\u9020\u6210\u96c6\u7fa4\u7c7b\u5927\u91cf\u7684\u8c03\u6574\uff08\u5411\u7f8a\u7fa4\u5f00\u4e00\u67aa\u6240\u6709\u7f8a\u7fa4\u56db\u5904\u5954\u6563\uff0c\u9020\u6210\u7f51\u8def\u8d44\u6e90\u548c\u8d1f\u8f7d\uff09\u3002\u2028c\u3001zookeeper\u8d1f\u8f7d\u8fc7\u91cd\uff1a\u6bcf\u4e00\u4e2areplica\u90fd\u8981\u4e3a\u6b64\u5728zookeeper\u4e0a\u6ce8\u518c\u4e00\u4e2awatch\uff0c\u5f53\u96c6\u7fa4\u89c4\u6a21\u589e\u52a0\u5230\u51e0\u5343\u4e2apartition\u65f6\uff0czookeeper\u8d1f\u8f7d\u4f1a\u8fc7\u91cd\u3002","title":"\u9009\u4e3b\u673a\u5236"},{"location":"misc/#zookeeper","text":"1\u3001\u6570\u636e\u53d1\u5e03/\u8ba2\u9605\uff08\u63a8\u62c9\u7ed3\u5408\uff09 2\u3001\u8d1f\u8f7d\u5747\u8861 3\u3001\u547d\u540d\u670d\u52a1 3-1\u3001\u63d0\u4f9b\u7c7b JNDI \u529f\u80fd\uff0c\u53ef\u4ee5\u628a\u7cfb\u7edf\u4e2d\u5404\u79cd\u670d\u52a1\u7684\u540d\u79f0\u3001\u5730\u5740\u4ee5\u53ca\u76ee\u5f55\u4fe1\u606f\u5b58\u653e\u5728 ZooKeeper\uff0c\u9700\u8981\u7684\u65f6\u5019\u53bb ZooKeeper \u4e2d\u8bfb\u53d6 3-2\u3001\u5236\u4f5c\u5206\u5e03\u5f0f\u7684\u5e8f\u5217\u53f7\u751f\u6210\u5668\uff08\u987a\u5e8f\u8282\u70b9\uff09 4\u3001\u5206\u5e03\u5f0f\u534f\u8c03/\u901a\u77e5\uff08\u4e34\u65f6\u8282\u70b9\uff09 \u51cf\u5c11\u7cfb\u7edf\u7684\u8026\u5408 5\u3001\u96c6\u7fa4\u7ba1\u7406 6\u3001Master \u9009\u4e3e 7\u3001\u5206\u5e03\u5f0f\u9501 8\u3001\u5206\u5e03\u5f0f\u961f\u5217 8-1\u3001FIFO\uff08\u6709\u5e8f\u8282\u70b9\uff09","title":"zookeeper"},{"location":"msgpack/","text":"\u4e8c\u8fdb\u5236\u7f16\u7801\uff08\u5e94\u7528\u5c42\u534f\u8bae\uff09 \u00b6 \u5927\u7aef\u6a21\u5f0f\uff1a\u9ad8\u5730\u5740\u653e\u4f4e\u5b57\u8282\uff0c\u4f4e\u5730\u5740\u653e\u9ad8\u5b57\u8282\uff0c\u8ddf\u6b63\u5e38\u7684\u9605\u8bfb\u4e60\u60ef\u4e00\u81f4\u3002 \u5c0f\u7aef\u6a21\u5f0f\uff1a\u9ad8\u5730\u5740\u653e\u9ad8\u5b57\u8282\uff0c\u4f4e\u5730\u5740\u653e\u4f4e\u5b57\u8282\u3002 int32 x = 0x12345678 \u5927\u7aef\u6a21\u5f0f\u4e0b\uff1a\\x12\\x34\\x56\\x78 \u5c0f\u7aef\u6a21\u5f0f\u4e0b\uff1a\\x78\\x56\\x34\\x12 Protocol Buffer \u00b6 proto2\u548cproto3\u6709\u4ec0\u4e48\u533a\u522b\uff1f \u538b\u7f29 varint\u7f16\u7801+zigzag\u7f16\u7801 optional\u7c7b\u578b\uff0c\u8be5\u53d8\u91cf\u4e0d\u5b58\u5728\u65f6\u76f4\u63a5\u4e0d\u5360\u4efb\u4f55\u5b57\u8282\uff0c\u8fdeTAG\u90fd\u4e0d\u9700\u8981 packed\uff0c\u5bf9\u4e8erepeated\u7c7b\u578b\uff0c\u628a\u4f20\u7edf\u7684TAG-VALUE1-TAG-VALUE2 \u53d8\u4e3a TAG-LENGTH-VALUE1-VALUE2\uff0c\u907f\u514d\u91cd\u590d\u4f20TAG \u6ca1\u6709\u5bf9float\u548cdouble\u8fdb\u884c\u538b\u7f29\uff0c\u6240\u4ee5\u8bf4protobuf\u6ca1\u6709\u538b\u7f29\u5230\u6781\u81f4 varint \u6bcf\u4e2a\u5b57\u8282\u7684\u6700\u9ad8\u4f4d\u8868\u793a\u662f\u5426\u9700\u8981\u62d3\u5c55\u5230\u4e0b\u4e00\u5b57\u8282\uff0c0\u8868\u793a\u53ea\u9700\u8981\u8bfb\u5f53\u524d\u5b57\u8282\uff0c1\u8868\u793a\u8fd8\u9700\u8981\u62d3\u5c55\u5230\u4e0b\u4e00\u5b57\u8282 \u4f7f\u7528\u5c0f\u7aef\u6a21\u5f0f \u4f18\u70b9\uff1a varint\u7406\u8bba\u4e0a\u53ef\u4ee5\u65e0\u9650\u957f\uff0c\u4f5c\u4e3a\u5f00\u6e90\u4ee3\u7801\uff0c\u5f88\u7075\u6d3b\u5f88\u901a\u7528 \u7f3a\u70b9\uff1a \u6bcf\u4e2a\u5b57\u8282\u90fd\u4f1a\u6d6a\u8d391bit\uff0c\u53ea\u67097bit\u53ef\u7528\uff08\u5229\u7528\u7387\u53ea\u670987.5%\uff09 \u8d1f\u6570\u7684\u9ad8\u4f4d\u90fd\u662f1\uff0c\u7406\u8bba\u4e0a\u53ef\u4ee5\u6709\u65e0\u6570\u4e2a1\uff0c\u5728varint\u4e0b\u53ef\u4ee5\u5360\u7528\u65e0\u6570\u4e2a\u5b57\u8282\uff08\u4f8b\u5982\u572832\u4f4d\u7684int\u4e0b\uff0c-1\u8868\u793a\u4e3a 0xff ff ff ff\uff09 \u9996\u5148\u662f\u5229\u7528\u7387\uff1a \u5f53\u4e00\u4e2aint32\u7684\u53d8\u91cf\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f20\u8f93\u7684\u6570\u5b57\u90fd\u6bd4\u8f83\u5c0f\uff08\u4f8b\u5982\u73a9\u5bb6\u80cc\u5305\u91cc\u7684\u94bb\u77f3\u6570\u91cf\uff09\uff0c\u4f7f\u7528varint\u53ef\u4ee5\u6709\u6548\u7684\u8f83\u5c11\u6570\u636e\u5927\u5c0f\u3002 \u4f8b\u5982\uff0c\u6709100\u4e2aint32\u7684\u53d8\u91cf\uff0c\u4f46\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e2a\u53d8\u91cf\u7684\u6570\u503c\u90fd\u57281000\u5de6\u53f3 \u5982\u679c\u4e0d\u4f7f\u7528varint\uff0c\u5219\u6570\u636e\u5927\u5c0f\u662f 8\u5b57\u8282 * 100 = 800\u5b57\u8282 \u5982\u679c\u4f7f\u7528varint\uff0c\u5219\u8868\u793a\u6570\u503c1000\u53ea\u9700\u89811\u5b57\u8282\uff0c\u6240\u6709\u6570\u636e\u53ea\u6709 1\u5b57\u8282 * 100 = 100\u5b57\u8282 \u5f53\u4e00\u4e2aint32\u7684\u53d8\u91cf\u5728\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u4f20\u8f93\u7684\u6570\u5b57\u90fd\u6bd4\u8f83\u5927\uff08\u4f8b\u5982\uff1a\u65f6\u95f4\u6233\uff09\uff0c\u5219\u4e0d\u8981\u4f7f\u7528varint\u7f16\u7801\uff0c\u6539\u7528fixed32/fixed64\u3002 protobuf\u7684\u5b98\u65b9\u6587\u6863\u4e0a\u4e5f\u6709\u6807\u660e\uff1a fixd32 : Always four bytes . More efficient than uint32 if values are often greater than 2 ^ 28 . zigzag\u7f16\u7801 \u8ba1\u7b97\u65b9\u6cd5\uff1a 32\u4f4d\uff1a (n << 1) ^ (n >> 31) 64\u4f4d\uff1a (n << 1) ^ (n >> 63) \u672c\u8d28\uff1a \u628a\u7b26\u53f7\u4f4d\u4ece\u6700\u9ad8\u4f4d\u79fb\u5230\u6700\u4f4e\u4f4d \u5176\u4ed6\u4f4d\u5411\u5de6\u987a\u5ef6\u4e00\u4f4d\uff0c\u540c\u65f6\uff0c\u5982\u679c\u662f\u8d1f\u6570\uff0c\u5176\u4ed6\u4f4d\u9700\u8981\u6309\u4f4d\u53d6\u53cd \u4ee532\u4f4d\u4e3e\u4f8b\uff1a 0 : 0x 00 00 00 00 ==> 0x 00 00 00 00 -1 : 0x ff ff ff ff ==> 0x 00 00 00 01 1 : 0x 00 00 00 01 ==> 0x 00 00 00 02 -2 : 0x ff ff ff fe ==> 0x 00 00 00 03 2 : 0x 00 00 00 02 ==> 0x 00 00 00 04 \u7279\u70b9\uff1a zigzag\u7f16\u7801\u8865\u5145\u4e86varint\u7f16\u7801\u5728\u8868\u793a\u8d1f\u6570\u65f6\u7684\u4e0d\u8db3\u3002 \u7edd\u5bf9\u503c\u6bd4\u8f83\u5c0f\u7684\u6570\u5b57\uff0c\u7ecf\u8fc7zigzag\u7f16\u7801\u4e4b\u540e\u4f1a\u53d8\u4e3a\u4e00\u4e2a\u5c0f\u6574\u6570\uff0c\u914d\u5408varint\u7f16\u7801\u4e00\u8d77\u4f7f\u7528\uff0c\u53ef\u4ee5\u6709\u6548\u538b\u7f29\u6570\u636e\u3002 \u5b98\u65b9\u6587\u6863\uff1a int32 : Uses variable - length encoding . Inefficient for encoding negative numbers - if your field is likely to have negative values , use sint32 instead . sint32 : Uses variable - length encoding . Signed int value . These more efficiently encode negative numbers than regular int32s . TAG TAG\u4f7f\u7528varint\u7f16\u7801 TAG\u7531 \u5b57\u6bb5\u7f16\u53f7 + \u6570\u636e\u7c7b\u578b \u7ec4\u6210 TAG\u7684\u6700\u540e3bit\u8868\u793a\u6570\u636e\u7c7b\u578b\uff0c\u524d\u9762\u7684\u4f4d\u8868\u793a\u5b57\u6bb5\u7f16\u53f7 (field_number << 3) | wire_type \u5b57\u6bb5\u7f16\u53f7 \u7531\u4e0a\u8ff0\u7684TAG\u7684\u7ec4\u6210\u65b9\u5f0f\u53ef\u77e5\uff0c\u5f53TAG\u4ec5\u4f7f\u75281\u5b57\u8282\u65f6\uff1a \u7b2c1\u4e2abit\u88abvarint\u7f16\u7801\u5360\u7528\uff0c\u6700\u540e3bit\u8868\u793a\u6570\u636e\u7c7b\u578b\uff0c\u53ea\u6709\u4e2d\u95f44bit\u53ef\u4ee5\u7528\u6765\u8868\u793a\u5b57\u6bb5\u7f16\u53f7\uff0c4bit\u7684\u53ef\u4ee5\u8868\u793a\u7684\u6570\u503c\u8303\u56f4\u662f 0\u523015\uff08\u4f46\u5b57\u6bb5\u7f16\u53f7\u901a\u5e38\u4e0d\u4f7f\u75280\uff09 \u56e0\u6b64\uff0c \u5b57\u6bb5\u7f16\u53f7\u5c3d\u91cf\u591a\u7528 1-15 \uff08\u6216\u662f\uff0c\u5c3d\u91cf\u4fdd\u75591-15\u7ed9\u5e38\u7528\u5b57\u6bb5\u4f7f\u7528\uff0c\u975e\u5e38\u7528\u5b57\u6bb5\u53ef\u4ee5\u8003\u8651\u4ece16\u5f00\u59cb\u4f7f\u7528\uff09 \u6570\u636e\u7c7b\u578b \u5206\u7c7b\uff1a \u3010Tag - Value\u3011varint\u7f16\u7801\u7684\u6570\u5b57 \u3010Tag - Value\u3011\u5b9a\u957f\u7c7b\u578b\uff08float/double/fixed32/fixed64\uff09 \u3010Tag - Length - Value\u3011\u53d8\u957f\u7c7b\u578b\uff08string/bytes/\u5d4c\u5957\u7684message\uff09 \u9700\u8981\u989d\u5916\u4f7f\u7528\u4e00\u4e2avarint\u8868\u793a\u540e\u7eedValue\u7684\u957f\u5ea6 int/float/varint \u7b49\u7c7b\u578b\u90fd\u7528\u7684\u662f\u5c0f\u7aef\u6a21\u5f0f string/bytes \u7b49\u7c7b\u578b\u7528\u7684\u662f\u5927\u7aef\u6a21\u5f0f \u57fa\u4e8eProtobuf\u5e8f\u5217\u5316\u539f\u7406\u5206\u6790\uff0c\u4e3a\u4e86\u6709\u6548\u964d\u4f4e\u5e8f\u5217\u5316\u540e\u6570\u636e\u91cf\u7684\u5927\u5c0f\uff0c\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u63aa\u65bd\uff1a \u591a\u7528 optional\u6216 repeated\u4fee\u9970\u7b26 \u82e5optional \u6216 repeated \u5b57\u6bb5\u6ca1\u6709\u88ab\u8bbe\u7f6e\u5b57\u6bb5\u503c\uff0c\u90a3\u4e48\u8be5\u5b57\u6bb5\u5728\u5e8f\u5217\u5316\u65f6\u7684\u6570\u636e\u4e2d\u662f\u5b8c\u5168\u4e0d\u5b58\u5728\u7684\uff0c\u5373\u4e0d\u9700\u8981\u8fdb\u884c\u7f16\u7801\uff0c\u4f46\u76f8\u5e94\u7684\u5b57\u6bb5\u5728\u89e3\u7801\u65f6\u4f1a\u88ab\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\u3002 \u5b57\u6bb5\u6807\u8bc6\u53f7(Field_Number)\u5c3d\u91cf\u53ea\u4f7f\u75281-15\uff0c\u4e14\u4e0d\u8981\u8df3\u52a8\u4f7f\u7528 Tag\u662f\u9700\u8981\u5360\u5b57\u8282\u7a7a\u95f4\u7684\u3002\u5982\u679cField_Number>=16\u65f6\uff0cField_Number\u7684\u7f16\u7801\u5c31\u4f1a\u5360\u75282\u4e2a\u5b57\u8282\uff0c\u90a3\u4e48Tag\u5728\u7f16\u7801\u65f6\u5c31\u4f1a\u5360\u7528\u66f4\u591a\u7684\u5b57\u8282\uff1b\u5982\u679c\u5c06\u5b57\u6bb5\u6807\u8bc6\u53f7\u5b9a\u4e49\u4e3a\u8fde\u7eed\u9012\u589e\u7684\u6570\u503c\uff0c\u5c06\u83b7\u5f97\u66f4\u597d\u7684\u7f16\u7801\u548c\u89e3\u7801\u6027\u80fd\u3002 \u82e5\u9700\u8981\u4f7f\u7528\u7684\u5b57\u6bb5\u503c\u51fa\u73b0\u8d1f\u6570\uff0c\u8bf7\u4f7f\u7528sint32/sint64\uff0c\u4e0d\u8981\u4f7f\u7528int32/int64\u3002 \u91c7\u7528sint32/sint64\u6570\u636e\u7c7b\u578b\u8868\u793a\u8d1f\u6570\u65f6\uff0c\u4f1a\u5148\u91c7\u7528Zigzag\u7f16\u7801\u518d\u91c7\u7528Varint\u7f16\u7801\uff0c\u4ece\u800c\u66f4\u52a0\u6709\u6548\u538b\u7f29\u6570\u636e\u3002 \u82e5\u9700\u8981\u4f7f\u7528\u7684\u5b57\u6bb5\u503c\u5927\u591a\u6570\u65f6\u5019\u6bd4\u8f83\u5927\uff08\u5982\uff1a\u65f6\u95f4\u6233\uff09\uff0c\u8003\u8651\u4f7f\u7528fixed32/fixed64\u3002 varint\u7f16\u7801\u4e2d\uff0c\u6bcf\u4e2a\u5b57\u8282\u90fd\u67091bit\u88ab\u5360\u7528\uff0c\u53ea\u67097bit\u7528\u4e8e\u8bb0\u5f55\u6570\u636e\u3002\u5f53\u6570\u503c\u8f83\u5927\u65f6\uff0cvarint\u65e0\u6cd5\u8d77\u5230\u538b\u7f29\u6570\u636e\u7684\u4f5c\u7528\uff0c\u53cd\u800c\u6d6a\u8d39\u6bcf\u4e2a\u5b57\u8282\u7684\u5229\u7528\u7387\u3002 \u5bf9\u4e8erepeated\u5b57\u6bb5\uff0c\u5c3d\u91cf\u589e\u52a0packed=true\u4fee\u9970 \u589e\u52a0packed=true\u4fee\u9970\uff0crepeated\u5b57\u6bb5\u4f1a\u91c7\u7528\u8fde\u7eed\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\uff0c\u5373 T - L - V - V - V \u65b9\u5f0f\u3002 \u9879\u76ee\u7ec4\u534f\u8bae \u00b6 \u7b2c1-4\u4e2a\u5b57\u8282\u8bb0\u5f55\u534f\u8bae\u603b\u957f\u5ea6\uff0c\u6700\u5927\u503c2^32-1\uff0c\u7406\u8bba\u4e0a\u80fd\u7f16\u51fa\u6765\u7684\u6700\u5927\u7684\u534f\u8bae\u5927\u5c0f\u4e3a4GB\uff08\u7c7b\u4f3chttp\uff0c\u534f\u8bae\u5934\u4e2d\u8bb0\u5f55\u603b\u957f\u5ea6\uff09 \u7b2c5-6\u4e2a\u5b57\u8282\u8bb0\u5f55\u4e3b\u534f\u8bae\u53f7\uff08\u4e3b\u534f\u8bae\u53f70-65535\uff09 \u7b2c7\u4e2a\u5b57\u8282\u8bb0\u5f55\u5b50\u534f\u8bae\u53f7\uff08\u5b50\u534f\u8bae\u53f70-255\uff09 \u7b2c8\u4e2a\u5b57\u8282\u5f00\u59cb\u8bb0\u5f55\u6570\u636e \u5b9a\u957f\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7ed3\u6784\u662f Tag + Value \u53d8\u957f\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7ed3\u6784\u662f TAG + Length + Value Length\u662f\u4e00\u4e2a\u5b9a\u957f\u7684int32 TAG\u7531\u6570\u636e\u7c7b\u578b+\u5b57\u6bb5\u7f16\u53f7\u7ec4\u6210 \u6570\u636e\u7c7b\u578b\u5360\u7b2c1-3\u4f4d \u7b2c4\u4f4d\u8ddfprotobuf\u7684\u6700\u9ad8\u4f4d\u7c7b\u4f3c\uff0c\u7528\u4e8e\u8868\u793a\u662f\u5426\u9700\u8981\u62d3\u5c55\u5230\u4e0b\u4e00\u5b57\u8282 \u7b2c4\u4f4d\u662f0\uff0c\u5219\u8868\u793a\u5b57\u6bb5\u7f16\u53f7\u5360\u7b2c5-8\u4f4d\uff0c\u51714bit\uff0c\u6700\u5927\u503c15\uff0c\u6b64\u65f6TAG\u603b\u5171\u53601\u4e2a\u5b57\u8282 \u7b2c4\u4f4d\u662f1\uff0c\u5219\u8868\u793a\u5b57\u6bb5\u7f16\u53f7\u5360\u7b2c5-16\u4f4d\uff0c\u517112bit\uff0c\u6700\u5927\u503c4095\uff0c\u6b64\u65f6TAG\u603b\u5171\u53602\u4e2a\u5b57\u8282 TAG\u3001\u5b57\u7b26\u4e32\u7528\u7684\u662f\u5927\u7aef\u6a21\u5f0f int8/int16/int32/int64 \u7b49\u7c7b\u578b\u7528\u7684\u90fd\u662f\u5c0f\u7aef\u6a21\u5f0f\uff08\u5305\u62ec\u534f\u8bae\u5934\u90e8\u7684 \u603b\u957f\u5ea6\u3001\u4e3b\u534f\u8bae\u53f7\u3001\u5b50\u534f\u8bae\u53f7\u3001\u53d8\u957f\u7c7b\u578b\u7684\u6570\u636e\u957f\u5ea6\u3001\u5b9a\u957f\u7c7b\u578b\u7684int\u6570\u636e\uff09","title":"\u4e8c\u8fdb\u5236\u7f16\u7801"},{"location":"msgpack/#_1","text":"\u5927\u7aef\u6a21\u5f0f\uff1a\u9ad8\u5730\u5740\u653e\u4f4e\u5b57\u8282\uff0c\u4f4e\u5730\u5740\u653e\u9ad8\u5b57\u8282\uff0c\u8ddf\u6b63\u5e38\u7684\u9605\u8bfb\u4e60\u60ef\u4e00\u81f4\u3002 \u5c0f\u7aef\u6a21\u5f0f\uff1a\u9ad8\u5730\u5740\u653e\u9ad8\u5b57\u8282\uff0c\u4f4e\u5730\u5740\u653e\u4f4e\u5b57\u8282\u3002 int32 x = 0x12345678 \u5927\u7aef\u6a21\u5f0f\u4e0b\uff1a\\x12\\x34\\x56\\x78 \u5c0f\u7aef\u6a21\u5f0f\u4e0b\uff1a\\x78\\x56\\x34\\x12","title":"\u4e8c\u8fdb\u5236\u7f16\u7801\uff08\u5e94\u7528\u5c42\u534f\u8bae\uff09"},{"location":"msgpack/#protocol-buffer","text":"","title":"Protocol Buffer"},{"location":"msgpack/#_2","text":"\u7b2c1-4\u4e2a\u5b57\u8282\u8bb0\u5f55\u534f\u8bae\u603b\u957f\u5ea6\uff0c\u6700\u5927\u503c2^32-1\uff0c\u7406\u8bba\u4e0a\u80fd\u7f16\u51fa\u6765\u7684\u6700\u5927\u7684\u534f\u8bae\u5927\u5c0f\u4e3a4GB\uff08\u7c7b\u4f3chttp\uff0c\u534f\u8bae\u5934\u4e2d\u8bb0\u5f55\u603b\u957f\u5ea6\uff09 \u7b2c5-6\u4e2a\u5b57\u8282\u8bb0\u5f55\u4e3b\u534f\u8bae\u53f7\uff08\u4e3b\u534f\u8bae\u53f70-65535\uff09 \u7b2c7\u4e2a\u5b57\u8282\u8bb0\u5f55\u5b50\u534f\u8bae\u53f7\uff08\u5b50\u534f\u8bae\u53f70-255\uff09 \u7b2c8\u4e2a\u5b57\u8282\u5f00\u59cb\u8bb0\u5f55\u6570\u636e \u5b9a\u957f\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7ed3\u6784\u662f Tag + Value \u53d8\u957f\u7684\u6570\u636e\u7c7b\u578b\uff0c\u7ed3\u6784\u662f TAG + Length + Value Length\u662f\u4e00\u4e2a\u5b9a\u957f\u7684int32 TAG\u7531\u6570\u636e\u7c7b\u578b+\u5b57\u6bb5\u7f16\u53f7\u7ec4\u6210 \u6570\u636e\u7c7b\u578b\u5360\u7b2c1-3\u4f4d \u7b2c4\u4f4d\u8ddfprotobuf\u7684\u6700\u9ad8\u4f4d\u7c7b\u4f3c\uff0c\u7528\u4e8e\u8868\u793a\u662f\u5426\u9700\u8981\u62d3\u5c55\u5230\u4e0b\u4e00\u5b57\u8282 \u7b2c4\u4f4d\u662f0\uff0c\u5219\u8868\u793a\u5b57\u6bb5\u7f16\u53f7\u5360\u7b2c5-8\u4f4d\uff0c\u51714bit\uff0c\u6700\u5927\u503c15\uff0c\u6b64\u65f6TAG\u603b\u5171\u53601\u4e2a\u5b57\u8282 \u7b2c4\u4f4d\u662f1\uff0c\u5219\u8868\u793a\u5b57\u6bb5\u7f16\u53f7\u5360\u7b2c5-16\u4f4d\uff0c\u517112bit\uff0c\u6700\u5927\u503c4095\uff0c\u6b64\u65f6TAG\u603b\u5171\u53602\u4e2a\u5b57\u8282 TAG\u3001\u5b57\u7b26\u4e32\u7528\u7684\u662f\u5927\u7aef\u6a21\u5f0f int8/int16/int32/int64 \u7b49\u7c7b\u578b\u7528\u7684\u90fd\u662f\u5c0f\u7aef\u6a21\u5f0f\uff08\u5305\u62ec\u534f\u8bae\u5934\u90e8\u7684 \u603b\u957f\u5ea6\u3001\u4e3b\u534f\u8bae\u53f7\u3001\u5b50\u534f\u8bae\u53f7\u3001\u53d8\u957f\u7c7b\u578b\u7684\u6570\u636e\u957f\u5ea6\u3001\u5b9a\u957f\u7c7b\u578b\u7684int\u6570\u636e\uff09","title":"\u9879\u76ee\u7ec4\u534f\u8bae"},{"location":"mysql/","text":"MySQL \u00b6 \u4e00\u3001\u7d22\u5f15 \u00b6 1\u3001\u7d22\u5f15\u7c7b\u578b \u4ece\u7d22\u5f15\u5b58\u50a8\u7ed3\u6784\u5212\u5206\uff1aB Tree\u7d22\u5f15\u3001Hash\u7d22\u5f15\u3001FULLTEXT\u5168\u6587\u7d22\u5f15\u3001R Tree\u7d22\u5f15\u2028 \u4ece\u5e94\u7528\u5c42\u6b21\u5212\u5206\uff1a\u666e\u901a\u7d22\u5f15\u3001\u552f\u4e00\u7d22\u5f15\u3001\u4e3b\u952e\u7d22\u5f15\u3001\u590d\u5408\u7d22\u5f15\u2028 \u4ece\u7d22\u5f15\u952e\u503c\u7c7b\u578b\u5212\u5206\uff1a\u4e3b\u952e\u7d22\u5f15\u3001\u8f85\u52a9\u7d22\u5f15\uff08\u4e8c\u7ea7\u7d22\u5f15\uff09\u2028 \u4ece\u6570\u636e\u5b58\u50a8\u548c\u7d22\u5f15\u952e\u503c\u903b\u8f91\u5173\u7cfb\u5212\u5206\uff1a\u805a\u96c6\u7d22\u5f15\uff08\u805a\u7c07\u7d22\u5f15\uff09\u3001\u975e\u805a\u96c6\u7d22\u5f15\uff08\u975e\u805a\u7c07\u7d22\u5f15\uff09 \u666e\u901a\u7d22\u5f15 \u552f\u4e00\u7d22\u5f15\uff08unique_key\uff09\uff1a\u5217\u503c\u552f\u4e00\uff0c\u4f46\u5141\u8bb8\u4e3a\u7a7a \u4e3b\u952e\u7d22\u5f15\uff08primary_key\uff09\uff1a\u7279\u6b8a\u7684\u552f\u4e00\u7d22\u5f15\uff0c\u4e0d\u5141\u8bb8\u4e3a\u7a7a \u8054\u5408\u7d22\u5f15\uff08\u7ec4\u5408\u7d22\u5f15\uff09 2\u3001\u4f7f\u7528\u7d22\u5f15\u7684\u6ce8\u610f\u4e8b\u9879 \u6570\u636e\u552f\u4e00\u6027\u5dee\u7684\u5b57\u6bb5\uff0c\u4e8c\u53c9\u6811\u7ea7\u522b\u5c11\uff0c\u65e0\u5f02\u4e8e\u5168\u8868\u626b\u63cf\uff08\u4f8b\u5982\uff0c\u6027\u522b\uff0c\u53ea\u67092\u79cd\u9009\u62e9\uff09\uff1b \u9891\u7e41\u66f4\u65b0\u7684\u5b57\u6bb5\uff0c\u9700\u8981\u7ef4\u62a4\u7d22\u5f15\uff0c\u964d\u4f4e\u6570\u636e\u5e93\u7684\u6548\u7387\uff08\u4f8b\u5982\uff0c\u767b\u5f55\u6b21\u6570\uff09\uff1b\u4f7f\u7528or\u6761\u4ef6\u4f1a\u4f7f\u90e8\u5206\u7d22\u5f15\u65e0\u6548\uff1b \u8054\u5408\u7d22\u5f15\uff0c\u5982\u679c\u4e0d\u662f\u4f7f\u7528\u5f00\u5934\u7684\u90e8\u5206\uff0c\u7d22\u5f15\u65e0\u6548\uff1b \u53ea\u6709\u5728where\u8bed\u53e5\u51fa\u73b0\u7684\u5b57\u6bb5\uff0c\u624d\u4f1a\u4f7f\u7528\u7d22\u5f15\uff0c\u5176\u4ed6\u5b57\u6bb5\u4e0d\u8981\u52a0\u7d22\u5f15\uff1b like\u67e5\u8be2\uff0c\u5982\u679c\u662f%\u5f00\u5934\uff0c\u7d22\u5f15\u65e0\u6548\uff1b \u7d22\u5f15\u5217\u7684\u6570\u636e\u7c7b\u578b\u9690\u5f62\u8f6c\u6362\uff0c\u7d22\u5f15\u65e0\u6548\uff1b where\u5b50\u53e5\u4e2d\u5bf9\u7d22\u5f15\u5217\u6709\u6570\u5b66\u8fd0\u7b97\uff0c\u7d22\u5f15\u65e0\u6548\uff1b where\u5b50\u53e5\u4e2d\u5bf9\u7d22\u5f15\u5217\u4f7f\u7528\u51fd\u6570\uff0c\u7d22\u5f15\u65e0\u6548\uff1b where\u5b50\u53e5\u4e2d\u5bf9\u7d22\u5f15\u5217\u4f7f\u7528\u4e0d\u7b49\u4e8e<>\uff0c\u6548\u679c\u4e00\u822c\uff1b where\u5b50\u53e5\u4e2d\u5305\u542bis null / is not null \u7b49\u6761\u4ef6\uff0c\u4e0d\u5efa\u8bae\u4f7f\u7528\u7d22\u5f15\uff1b MySQL\u4f30\u8ba1\u4f7f\u7528\u5168\u8868\u626b\u63cf\u6bd4\u7528\u7d22\u5f15\u5feb\uff0c\u5219\u4e0d\u4f7f\u7528\u7d22\u5f15\uff08\u4f8b\u5982\u6570\u636e\u91cf\u6781\u5c11\u7684\u8868\uff09\uff1b 3\u3001\u7d22\u5f15\u5206\u6790\u4e0e\u4f18\u5316 \u4f7f\u7528EXPLAIN \u8986\u76d6\u7d22\u5f15 \u53ea\u9700\u8981\u5728\u4e00\u68f5\u7d22\u5f15\u6811\u4e0a\u5c31\u80fd\u83b7\u53d6SQL\u6240\u9700\u7684\u6240\u6709\u5217\u6570\u636e\uff0c\u65e0\u9700\u56de\u8868\uff0c\u901f\u5ea6\u66f4\u5feb\uff0c\u8fd9\u5c31\u53eb\u505a\u7d22\u5f15\u8986\u76d6\u3002 \u5b9e\u73b0\u7d22\u5f15\u8986\u76d6\u6700\u5e38\u89c1\u7684\u65b9\u6cd5\u5c31\u662f\uff1a\u5c06\u88ab\u67e5\u8be2\u7684\u5b57\u6bb5\uff0c\u5efa\u7acb\u5230\u7ec4\u5408\u7d22\u5f15\u3002 \u8054\u5408\u7d22\u5f15\u7684\u6700\u5de6\u524d\u7f00\u539f\u5219 \u67e5\u8be2\u4e2d\u4f7f\u7528\u5230\u6700\u5de6\u8fb9\u7684\u5217\uff0c\u90a3\u4e48\u67e5\u8be2\u5c31\u4f1a\u4f7f\u7528\u5230\u7d22\u5f15\uff0c\u5982\u679c\u4ece\u7d22\u5f15\u7684\u7b2c\u4e8c\u5217\u5f00\u59cb\u67e5\u627e\uff0c\u7d22\u5f15\u5c06\u5931\u6548\u3002 LIKE \u67e5\u8be2 MySQL\u5728\u4f7f\u7528Like\u6a21\u7cca\u67e5\u8be2\u65f6\uff0c\u7d22\u5f15\u662f\u53ef\u4ee5\u88ab\u4f7f\u7528\u7684\uff0c\u53ea\u6709\u628a%\u5b57\u7b26\u5199\u5728\u540e\u9762\u624d\u4f1a\u4f7f\u7528\u5230\u7d22\u5f15\u3002 NULL \u503c\u67e5\u8be2 NULL\u503c\u53cd\u6620\u5728\u7d22\u5f15\u4e2d\u7684\u6392\u5217\u89c4\u5219\u662f\uff1a NULL\u503c\u4f1a\u88ab\u5f52\u5230\u4e00\u5757\u3002 \u5982\u679c\u662f\u5347\u5e8f\u7684\u8bdd\uff0cNULL\u503c\u88ab\u5f52\u5230\u6570\u636e\u9875\u7684\u524d\u7aef\uff0c\u5982\u679c\u662f\u964d\u5e8f\u7684\u8bdd\uff0cNULL\u503c\u88ab\u5f52\u5230\u6570\u636e\u9875\u7684\u5c3e\u7aef\u3002 \u5982\u679c\u6709\u591a\u6761NULL\u503c\u6570\u636e\uff0c\u5219\u6309\u5148\u6765\u540e\u5230\u7684\u987a\u5e8f\u4f9d\u6b21\u6392\u5217\u3002 \u5bf9MySQL\u6765\u8bf4\uff0cNULL\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u503c\uff0c\u4ece\u6982\u5ff5\u4e0a\u8bb2\uff0cNULL\u610f\u5473\u7740\u201c\u4e00\u4e2a\u672a\u77e5\u503c\u201d\uff0c\u5b83\u7684\u5904\u7406\u65b9\u5f0f\u4e0e\u5176\u4ed6\u503c\u6709\u4e9b\u4e0d\u540c\u3002 \u6bd4\u5982\uff1a\u4e0d\u80fd\u4f7f\u7528=\uff0c<\uff0c>\u8fd9\u6837\u7684\u8fd0\u7b97\u7b26\uff0c\u5bf9NULL\u505a\u7b97\u672f\u8fd0\u7b97\u7684\u7ed3\u679c\u90fd\u662fNULL\uff0ccount\u65f6\u4e0d\u4f1a\u5305\u62ecNULL\u884c\u7b49\uff0cNULL\u6bd4\u7a7a\u5b57\u7b26\u4e32\u9700\u8981\u66f4\u591a\u7684\u5b58\u50a8\u7a7a\u95f4\u7b49\u3002 \u867d\u7136MySQL\u53ef\u4ee5\u5728\u542b\u6709NULL\u7684\u5217\u4e0a\u4f7f\u7528\u7d22\u5f15\uff0c\u4f46\u4e0d\u4ee3\u8868NULL\u548c\u5176\u4ed6\u6570\u636e\u5728\u7d22\u5f15\u4e2d\u662f\u4e00\u6837\u7684\u3002 \u4e0d\u5efa\u8bae\u5217\u4e0a\u5141\u8bb8\u4e3a\u7a7a\u3002\u6700\u597d\u9650\u5236NOT NULL\uff0c\u5e76\u8bbe\u7f6e\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u6bd4\u59820\u548c''\u7a7a\u5b57\u7b26\u4e32\u7b49\uff0c\u5982\u679c\u662fdatetime\u7c7b\u578b\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u6210'1970-01-01 00:00:00'\u8fd9\u6837\u7684\u7279\u6b8a\u503c\u3002 \u7d22\u5f15\u548c\u6392\u5e8f MySQL\u67e5\u8be2\u652f\u6301filesort\u548cindex\u4e24\u79cd\u65b9\u5f0f\u7684\u6392\u5e8f filesort\u662f\u5148\u628a\u7ed3\u679c\u67e5\u51fa\uff0c\u7136\u540e\u5728\u7f13\u5b58\u6216\u78c1\u76d8\u8fdb\u884c\u6392\u5e8f\u64cd\u4f5c\uff0c\u6548\u7387\u8f83\u4f4e\u3002 \u4f7f\u7528index\u662f\u6307\u5229\u7528\u7d22\u5f15\u81ea\u52a8\u5b9e\u73b0\u6392\u5e8f\uff0c\u4e0d\u9700\u53e6\u505a\u6392\u5e8f\u64cd\u4f5c\uff0c\u6548\u7387\u4f1a\u6bd4\u8f83\u9ad8\u3002 filesort\u6709\u4e24\u79cd\u6392\u5e8f\u7b97\u6cd5\uff1a\u53cc\u8def\u6392\u5e8f\u548c\u5355\u8def\u6392\u5e8f\u3002 \u53cc\u8def\u6392\u5e8f\uff1a\u9700\u8981\u4e24\u6b21\u78c1\u76d8\u626b\u63cf\u8bfb\u53d6\uff0c\u6700\u7ec8\u5f97\u5230\u7528\u6237\u6570\u636e\u3002\u7b2c\u4e00\u6b21\u5c06\u6392\u5e8f\u5b57\u6bb5\u8bfb\u53d6\u51fa\u6765\uff0c\u7136\u540e\u6392\u5e8f\uff1b\u7b2c\u4e8c\u6b21\u53bb\u8bfb\u53d6\u5176\u4ed6\u5b57\u6bb5\u6570\u636e\u3002 \u5355\u8def\u6392\u5e8f\uff1a\u4ece\u78c1\u76d8\u67e5\u8be2\u6240\u9700\u7684\u6240\u6709\u5217\u6570\u636e\uff0c\u7136\u540e\u5728\u5185\u5b58\u6392\u5e8f\u5c06\u7ed3\u679c\u8fd4\u56de\u3002\u5982\u679c\u67e5\u8be2\u6570\u636e\u8d85\u51fa\u7f13\u5b58 sort_buffer\uff0c\u4f1a\u5bfc\u81f4\u591a\u6b21\u78c1\u76d8\u8bfb\u53d6\u64cd\u4f5c\uff0c\u5e76\u521b\u5efa\u4e34\u65f6\u8868\uff0c\u6700\u540e\u4ea7\u751f\u4e86\u591a\u6b21IO\uff0c\u53cd\u800c\u4f1a\u589e\u52a0\u8d1f\u62c5\u3002 \u89e3\u51b3\u65b9\u6848\uff1a \u5c11\u4f7f\u7528select *\uff1b \u589e\u52a0sort_buffer_size\u5bb9\u91cf\u548cmax_length_for_sort_data\u5bb9\u91cf\u3002 4\u3001\u67e5\u8be2\u4f18\u5316 \uff081\uff09\u6162\u67e5\u8be2\u5b9a\u4f4d\uff08slow_query_log\uff09 \uff082\uff09\u6162\u67e5\u8be2\u4f18\u5316 \u9700\u8981\u4f7f\u7528\u7d22\u5f15\u7684\u5feb\u901f\u641c\u7d22\u529f\u80fd\uff0c\u5e76\u4e14\u6709\u6548\u5730\u51cf\u5c11\u626b\u63cf\u884c\u6570\u3002 \u662f\u5426\u4f7f\u7528\u4e86\u7d22\u5f15\u548c\u662f\u5426\u662f\u6162\u67e5\u8be2\u4e24\u8005\u4e4b\u95f4\u6ca1\u6709\u5fc5\u7136\u7684\u8054\u7cfb\u3002 \u5728\u4f7f\u7528\u7d22\u5f15\u65f6\uff0c\u4e0d\u8981\u53ea\u5173\u6ce8\u662f\u5426\u8d77\u4f5c\u7528\uff0c\u5e94\u8be5\u5173\u5fc3\u7d22\u5f15\u662f\u5426\u51cf\u5c11\u4e86\u67e5\u8be2\u626b\u63cf\u7684\u6570\u636e\u884c\u6570\uff0c\u5982\u679c\u626b\u63cf\u884c\u6570\u51cf\u5c11\u4e86\uff0c\u6548\u7387\u624d\u4f1a\u5f97\u5230\u63d0\u5347\u3002 \u5bf9\u4e8e\u4e00\u4e2a\u5927\u8868\uff0c\u4e0d\u6b62\u8981\u521b\u5efa\u7d22\u5f15\uff0c\u8fd8\u8981\u8003\u8651\u7d22\u5f15\u8fc7\u6ee4\u6027\uff0c\u8fc7\u6ee4\u6027\u597d\uff0c\u6267\u884c\u901f\u5ea6\u624d\u4f1a\u5feb\u3002 \uff083\uff09\u5206\u9875\u67e5\u8be2\u4f18\u5316 \u504f\u79fb\u91cf\u56fa\u5b9a\uff0c\u67e5\u8be2\u8bb0\u5f55\u6570\u8d8a\u591a\uff0c\u67e5\u8be2\u65f6\u95f4\u8d8a\u957f\uff1b \u67e5\u8be2\u8bb0\u5f55\u6570\u56fa\u5b9a\uff0c\u504f\u79fb\u91cf\u8d8a\u5927\uff0c\u67e5\u8be2\u65f6\u95f4\u8d8a\u957f\uff1b \u5229\u7528\u8986\u76d6\u7d22\u5f15+\u5b50\u67e5\u8be2\u4f18\u5316 select * from user limit 10000,100; select * from user where id>= (select id from user limit 10000,1) limit 100; \u4f7f\u7528\u4e86id\u505a\u4e3b\u952e\u6bd4\u8f83(id>=)\uff0c\u5e76\u4e14\u5b50\u67e5\u8be2\u4f7f\u7528\u4e86\u8986\u76d6\u7d22\u5f15\u8fdb\u884c\u4f18\u5316\u3002 \u4e8c\u3001InnoDB\u548cMyISAM\u7684\u533a\u522b \u00b6 \u4e09\u3001\u4e3b\u4ece\u590d\u5236 \u00b6 \u4e09\u79cd\u65b9\u5f0f\uff1a \u57fa\u4e8e\u8bed\u53e5\u7684\u590d\u5236\uff08\u903b\u8f91\u590d\u5236\uff09 \u57fa\u4e8e\u884c\u7684\u590d\u5236 \u6df7\u5408\u590d\u5236 \u5f02\u6b65\u590d\u5236 \u534a\u540c\u6b65\u590d\u5236 GTID\u590d\u5236 \u56db\u3001\u707e\u5907 \u00b6 1 MHA 2 MMM 3 PXC 4 M-S 5 M-M 6 mysql Cluster \u5176\u4ed6 \u00b6 MySQL 5.7 \u5f15\u5165\u4e86\u865a\u62df\u5217\uff0c\u53ef\u4ee5\u4f7f\u7528\u865a\u62df\u5217\u5efa\u7acb\u8054\u5408\u7d22\u5f15","title":"MySQL"},{"location":"mysql/#mysql","text":"","title":"MySQL"},{"location":"mysql/#_1","text":"","title":"\u4e00\u3001\u7d22\u5f15"},{"location":"mysql/#innodbmyisam","text":"","title":"\u4e8c\u3001InnoDB\u548cMyISAM\u7684\u533a\u522b"},{"location":"mysql/#_2","text":"\u4e09\u79cd\u65b9\u5f0f\uff1a \u57fa\u4e8e\u8bed\u53e5\u7684\u590d\u5236\uff08\u903b\u8f91\u590d\u5236\uff09 \u57fa\u4e8e\u884c\u7684\u590d\u5236 \u6df7\u5408\u590d\u5236 \u5f02\u6b65\u590d\u5236 \u534a\u540c\u6b65\u590d\u5236 GTID\u590d\u5236","title":"\u4e09\u3001\u4e3b\u4ece\u590d\u5236"},{"location":"mysql/#_3","text":"1 MHA 2 MMM 3 PXC 4 M-S 5 M-M 6 mysql Cluster","title":"\u56db\u3001\u707e\u5907"},{"location":"mysql/#_4","text":"MySQL 5.7 \u5f15\u5165\u4e86\u865a\u62df\u5217\uff0c\u53ef\u4ee5\u4f7f\u7528\u865a\u62df\u5217\u5efa\u7acb\u8054\u5408\u7d22\u5f15","title":"\u5176\u4ed6"},{"location":"redis/","text":"Redis \u00b6 zhuanlan.zhihu.com/p/462619821 \u707e\u5907\uff1aRDB\u548cAOF\u3001\u591a\u526f\u672c\uff08\u4e3b\u4ece\u3001\u4e3b\u5907\u3001\u54e8\u5175\uff09 \u600e\u4e48\u4fdd\u8bc1\u7f13\u5b58\u548c\u6570\u636e\u5e93\u7684\u4e00\u81f4\u6027\uff1f Redis\u7684\u54c8\u5e0c\u51b2\u7a81\u3001\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff1f\u6e10\u8fdb\u5f0frehash Redis\u7684\u7ebf\u7a0b\u6a21\u578b \u4e3a\u4ec0\u4e48redis\u662f\u5355\u7ebf\u7a0b\u8fd8\u9700\u8981\u4e8b\u52a1\uff08redis\u662f\u6709\u7ade\u6001\u95ee\u9898\u7684\uff09 \u4e3a\u4ec0\u4e48pipeline\u4e0d\u80fd\u4ee3\u66ff\u4e8b\u7269\uff1f Redis\u4e8b\u52a1\u5c31\u662f\u4e00\u6b21\u6027\u3001\u987a\u5e8f\u6027\u3001\u6392\u4ed6\u6027\u7684\u6267\u884c\u4e00\u4e2a\u961f\u5217\u4e2d\u7684\u4e00\u7cfb\u5217\u547d\u4ee4 Redis\u4e8b\u52a1\u4e0d\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u4e14\u6ca1\u6709\u56de\u6eda\u3002\u4e8b\u52a1\u4e2d\u4efb\u610f\u6307\u4ee4\u6267\u884c\u5931\u8d25\uff0c\u5176\u4f59\u7684\u547d\u4ee4\u4ecd\u4f1a\u88ab\u6267\u884c\u3002 \u7f13\u5b58\u7a7f\u900f\uff1a\u653b\u51fb\u8005\u6076\u610f\u67e5\u8be2\u4e0d\u5b58\u5728\u7684\u6570\u636e \u5e03\u9686\u8fc7\u6ee4\u5668\uff08\u65e0\u6cd5\u5220\u9664\u6570\u636e\uff09 \u53ef\u4ee5\u628akey-null\u5199\u5165\u7f13\u5b58\uff0c\u6709\u6548\u65f6\u95f4\u8bbe\u7f6e\u77ed\u4e00\u70b9\uff08\u4f8b\u598230s\uff09 \u63a5\u53e3\u5c42\u589e\u52a0\u6821\u9a8c \u7f13\u5b58\u51fb\u7a7f\uff1a\u7f13\u5b58\u8fc7\u671f\uff0c\u9ad8\u5e76\u53d1\u3001\u540c\u65f6\u67e5\u8be2\u540c\u4e00\u4e2akey\uff0c\u5bfc\u81f4\u6570\u636e\u5e93\u538b\u529b\u8fc7\u5927 \u70ed\u70b9\u6570\u636e\u6c38\u4e0d\u8fc7\u671f\uff08\u6570\u636e\u91cf\u592a\u5927\uff0c\u8fd9\u4e2a\u65b9\u6848\u4e0d\u73b0\u5b9e\uff09 \u52a0\u9501\uff08redis\u7528setnx\u52a0\u9501\uff09 \u7f13\u5b58\u96ea\u5d29\uff1a\u5927\u91cf\u6570\u636e\u8fc7\u671f\uff0c\u5bfc\u81f4\u5927\u91cf\u67e5\u8be2\u6570\u636e\u5e93 \u70ed\u70b9\u6570\u636e\u6c38\u4e0d\u8fc7\u671f\uff08\u6570\u636e\u91cf\u592a\u5927\uff0c\u8fd9\u4e2a\u65b9\u6848\u4e0d\u73b0\u5b9e\uff09 \u8fc7\u671f\u65f6\u95f4\u968f\u673a\uff0c\u9632\u6b62\u540c\u4e00\u65f6\u95f4\u5927\u91cf\u6570\u636e\u8fc7\u671f\uff08\u6709\u7684\u4e1a\u52a1\u5fc5\u987b\u51c6\u70b9\u6e05\u7a7a\u65e7\u6570\u636e\uff0c\u5219\u9700\u8981\u5728\u4e1a\u52a1\u5c42\u628a\u65f6\u95f4\u5206\u6563\uff09 \u4e1a\u52a1\u5c42\u8bbe\u7f6e\u4e00\u4e2a\u77ed\u6682\u7684\u968f\u673a\u5ef6\u8fdf\uff0c\u628a\u65f6\u95f4\u5206\u6563 \uff08\u5206\u5e03\u5f0f\u7684\u7f13\u5b58\u6570\u636e\u5e93\uff09\u70ed\u70b9\u6570\u636e\u5206\u5e03\u5728\u4e0d\u540c\u7684\u7f13\u5b58\u6570\u636e\u5e93 AOF \u8fdb\u7a0b\u5185\u5df2\u8d85\u65f6\u7684\u6570\u636e\u4e0d\u518d\u5199\u5165\u6587\u4ef6 \u5ffd\u7565\u65e0\u6548\u6307\u4ee4\uff0c\u91cd\u5199\u65f6\u4f7f\u7528\u8fdb\u7a0b\u5185\u6570\u636e\u76f4\u63a5\u751f\u6210 \u5bf9\u540c\u4e00\u6570\u636e\u7684\u591a\u6761\u5199\u547d\u4ee4\u5408\u5e76\u4e3a\u4e00\u6761\u547d\u4ee4 \u8fc7\u671f\u952e\u7684\u5220\u9664\u7b56\u7565 \u5b9a\u65f6\u5220\u9664\uff1a\u5b9a\u65f6\u5668\uff0c\u65f6\u95f4\u5230\u4e86\u5c31\u5220\u9664 \u8282\u7ea6\u5185\u5b58\uff0c\u5360\u7528CPU\uff0c\u5f71\u54cdredis\u670d\u52a1\u5668\u54cd\u5e94\u65f6\u95f4\u548c\u6307\u4ee4\u541e\u5410\u91cf\uff08\u65f6\u95f4\u6362\u7a7a\u95f4\uff09 \u60f0\u6027\u5220\u9664\uff1a\u4e0b\u6b21\u8bbf\u95ee\u518d\u5904\u7406 \u8282\u7ea6CPU\uff0c\u4f46\u5185\u5b58\u538b\u529b\u5927\uff0c\u53ef\u80fd\u957f\u671f\u5360\u7528\u5185\u5b58\uff08\u7a7a\u95f4\u6362\u65f6\u95f4\uff09 \u5b9a\u671f\u5220\u9664\uff1a\u5b9a\u671f\u8fdb\u884c\u968f\u673a\u626b\u63cf\u3001\u9047\u5230\u8fc7\u671f\u7684\u5c31\u5220\u9664\uff0c\u5982\u679c\u5220\u9664\u7684\u6570\u636e\u91cf\u5927\u4e8e\u9608\u503c\uff0c\u5219\u518d\u6267\u884c\u4e00\u6b21 CPU\u6709\u5cf0\u503c\uff0c\u5185\u5b58\u538b\u529b\u4e5f\u4e0d\u5927\uff0c Redis\u4f7f\u7528\u60f0\u6027\u5220\u9664+\u5b9a\u671f\u5220\u9664 redis\u5185\u5b58\u4f18\u5316 \u63a7\u5236key\u7684\u6570\u91cf \u7f29\u51cf\u952e\u503c\u5bf9\u8c61 \u5728\u5b8c\u6574\u63cf\u8ff0\u4e1a\u52a1\u7684\u60c5\u51b5\u4e0b\uff0ckey\u8d8a\u77ed\u8d8a\u597d Value\u53ef\u4ee5\u5e8f\u5217\u5316\u6210\u4e8c\u8fdb\u5236\u6570\u7ec4\uff08\u9700\u8981\u9ad8\u6548\u7684\u5e8f\u5217\u5316\u5de5\u5177\uff09 3\u3001\u7f16\u7801\u4f18\u5316 Redis\u5bf9\u5916\u63d0\u4f9b\u4e86string, list, hash, set, zet\u7b49\u7c7b\u578b\uff0c\u4f46\u662fredis\u5185\u90e8\u9488\u5bf9\u4e0d\u540c\u7c7b\u578b\u5b58\u5728\u7f16\u7801\u7684\u6982\u5ff5\uff0c\u6240\u8c13\u7f16\u7801\u5c31\u662f\u5177\u4f53\u4f7f\u7528\u54ea\u79cd\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u6765\u5b9e\u73b0 redis\u7528setnx\u52a0\u9501 \u52a0\u9501\u8fdb\u7a0b\u6b7b\u4ea1\uff0c\u9501\u65e0\u6cd5\u88ab\u91ca\u653e\uff0c\u6b7b\u9501\uff08\u52a0\u8fc7\u671f\u65f6\u95f4\uff09 \u52a0\u9501\u8fdb\u7a0b\u6ca1\u6765\u5f97\u53ca\u52a0\u8fc7\u671f\u65f6\u95f4\u5c31\u6b7b\u4ea1\u4e86\uff08\u4f7f\u7528redis\u4e8b\u52a1\uff09 \u52a0\u9501\u6210\u529f\u540e\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u7167\u5e38\u6267\u884c\u4e1a\u52a1\uff0c\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u76d1\u7ba1\u9501\u7684\u65f6\u95f4\uff0c\u4fdd\u8bc1\u4e1a\u52a1\u6267\u884c\u5b8c\u6210\u4e4b\u524d\uff0c\u9501\u4e0d\u4f1a\u88ab\u91ca\u653e\u6389 \u5206\u5e03\u5f0fredis\u52a0\u9501","title":"Redis"},{"location":"redis/#redis","text":"zhuanlan.zhihu.com/p/462619821 \u707e\u5907\uff1aRDB\u548cAOF\u3001\u591a\u526f\u672c\uff08\u4e3b\u4ece\u3001\u4e3b\u5907\u3001\u54e8\u5175\uff09 \u600e\u4e48\u4fdd\u8bc1\u7f13\u5b58\u548c\u6570\u636e\u5e93\u7684\u4e00\u81f4\u6027\uff1f Redis\u7684\u54c8\u5e0c\u51b2\u7a81\u3001\u5185\u5b58\u6dd8\u6c70\u7b56\u7565\uff1f\u6e10\u8fdb\u5f0frehash Redis\u7684\u7ebf\u7a0b\u6a21\u578b \u4e3a\u4ec0\u4e48redis\u662f\u5355\u7ebf\u7a0b\u8fd8\u9700\u8981\u4e8b\u52a1\uff08redis\u662f\u6709\u7ade\u6001\u95ee\u9898\u7684\uff09 \u4e3a\u4ec0\u4e48pipeline\u4e0d\u80fd\u4ee3\u66ff\u4e8b\u7269\uff1f Redis\u4e8b\u52a1\u5c31\u662f\u4e00\u6b21\u6027\u3001\u987a\u5e8f\u6027\u3001\u6392\u4ed6\u6027\u7684\u6267\u884c\u4e00\u4e2a\u961f\u5217\u4e2d\u7684\u4e00\u7cfb\u5217\u547d\u4ee4 Redis\u4e8b\u52a1\u4e0d\u4fdd\u8bc1\u539f\u5b50\u6027\uff0c\u4e14\u6ca1\u6709\u56de\u6eda\u3002\u4e8b\u52a1\u4e2d\u4efb\u610f\u6307\u4ee4\u6267\u884c\u5931\u8d25\uff0c\u5176\u4f59\u7684\u547d\u4ee4\u4ecd\u4f1a\u88ab\u6267\u884c\u3002","title":"Redis"},{"location":"tcp/","text":"tcp/kcp/udp \u00b6 tcp\u548cudp\u7684\u533a\u522b \u00b6 tcp\u9762\u5411\u5168\u53cc\u5de5\u8fde\u63a5\uff0cudp\u65e0\u8fde\u63a5\uff08\u4e09\u6b21\u63e1\u624b \u5efa\u7acb\u8fde\u63a5\uff09 tcp\u53ef\u9760\uff0cudp\u4e0d\u53ef\u9760\uff08\u5e94\u7b54\u548c\u91cd\u4f20\u673a\u5236 \u4fdd\u8bc1\u53ef\u9760\u6027\uff09 tcp\u4fdd\u8bc1\u987a\u5e8f\uff0cudp\u4e0d\u4fdd\u8bc1 tcp\u9762\u5411\u5b57\u8282\u6d41\uff0cudp\u9762\u5411\u62a5\u6587\uff08tcp\u65e0\u4fdd\u62a4\u6d88\u606f\u8fb9\u754c\uff0c\u4f1a\u7c98\u5305\uff09 tcp\u53ea\u80fd\u4e00\u5bf9\u4e00\uff0cudp\u53ef\u4ee5\u4e00\u5bf9\u4e00\u3001\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u591a\uff08tcp\u9700\u8981\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u6240\u4ee5\u4e0d\u80fd\u5bf9\u591a\uff09 tcp\u5934\u90e8\u5f00\u9500\u5927\uff0cudp\u5934\u90e8\u5f00\u9500\u5c0f tcp\u6162\uff0cudp\u5feb KCP\u534f\u8bae\u5c31\u662f\u5728\u4fdd\u7559UDP\u5feb\u7684\u57fa\u7840\u4e0a\uff0c\u63d0\u4f9b\u53ef\u9760\u7684\u4f20\u8f93\uff0c\u5e94\u7528\u5c42\u4f7f\u7528\u66f4\u52a0\u7b80\u5355\u2014\u2014TCP\u53ef\u9760\u7b80\u5355\uff0c\u4f46\u662f\u590d\u6742\u65e0\u79c1\uff0c\u6240\u4ee5\u901f\u5ea6\u6162\u3002KCP\u5c3d\u53ef\u80fd\u4fdd\u7559UDP\u5feb\u7684\u7279\u70b9\u4e0b\uff0c\u4fdd\u8bc1\u53ef\u9760\u3002 * TCP\u662f\u4e3a\u6d41\u91cf\u8bbe\u8ba1\u7684\uff08\u6bcf\u79d2\u5185\u53ef\u4ee5\u4f20\u8f93\u591a\u5c11KB\u7684\u6570\u636e\uff09\uff0c\u8bb2\u7a76\u7684\u662f\u5145\u5206\u5229\u7528\u5e26\u5bbd\u3002 * KCP\u662f\u4e3a\u6d41\u901f\u8bbe\u8ba1\u7684\uff08\u5355\u4e2a\u6570\u636e\u5305\u4ece\u4e00\u7aef\u53d1\u9001\u5230\u4e00\u7aef\u9700\u8981\u591a\u5c11\u65f6\u95f4\uff09\uff0c\u4ee510%-20%\u5e26\u5bbd\u6d6a\u8d39\u7684\u4ee3\u4ef7\u6362\u53d6\u4e86\u6bd4 TCP\u5feb30%-40%\u7684\u4f20\u8f93\u901f\u5ea6\u3002 tcp\u548ckcp\u7684\u533a\u522b \u00b6 tcp\u7684\u8d85\u65f6\u65f6\u95f4\u662fRTO*2\uff0ckcp\u662fRTO*1.5 tcp\u91cd\u4f20\u6240\u6709\u6570\u636e\uff0ckcp\u53ea\u91cd\u4f20\u4e22\u5931\u7684\u6570\u636e kcp\u7684\u5feb\u901f\u91cd\u4f20\uff1a2\u6b21ack\u8de8\u8d8a\u4f1a\u76f4\u63a5\u91cd\u4f20 tcp\u5ef6\u8fdfACK\uff0ckcp\u975e\u5ef6\u8fdfACK tcp\u4f7f\u7528UNA\uff0ckcp\u4f7f\u7528UNA+ACK kcp\u6b63\u5e38\u6a21\u5f0f\u548ctcp\u4e00\u6837\u4f7f\u7528\u516c\u5e73\u9000\u8ba9\u6cd5\u5219\uff0ckcp\u5feb\u901f\u6a21\u5f0f\u53ef\u4ee5\u5173\u95ed\u6d41\u63a7\uff08\u975e\u9000\u8ba9\uff09 \u7c98\u5305\uff1a \u4e3e\u4e2a\u4f8b\u5b50\uff1a\u6709\u4e09\u4e2a\u6570\u636e\u5305\uff0c\u5927\u5c0f\u5206\u522b\u4e3a2k\u30014k\u30016k\uff0c\u5982\u679c\u91c7\u7528UDP\u53d1\u9001\u7684\u8bdd\uff0c\u4e0d\u7ba1\u63a5\u53d7\u65b9\u7684\u63a5\u6536\u7f13\u5b58\u6709\u591a\u5927\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u8fdb\u884c\u81f3\u5c11\u4e09\u6b21\u4ee5\u4e0a\u7684\u53d1\u9001\u624d\u80fd\u628a\u6570\u636e\u5305\u53d1\u9001\u5b8c\uff0c\u4f46\u662f\u4f7f\u7528TCP\u534f\u8bae\u53d1\u9001\u7684\u8bdd\uff0c\u6211\u4eec\u53ea\u9700\u8981\u63a5\u53d7\u65b9\u7684\u63a5\u6536\u7f13\u5b58\u670912k\u7684\u5927\u5c0f\uff0c\u5c31\u53ef\u4ee5\u4e00\u6b21\u628a\u8fd93\u4e2a\u6570\u636e\u5305\u5168\u90e8\u53d1\u9001\u5b8c\u6bd5\uff0c\u90a3\u4e48\u5c31\u4f1a\u9020\u6210\u63a5\u6536\u65b9\u4e00\u6b21\u4f1a\u63a5\u6536\u4e0d\u6b62\u4e00\u6761\u6d88\u606f\uff0c\u8fd9\u5c31\u662f\u7c98\u5305\u3002 UNA\uff08\u6b64\u7f16\u53f7\u524d\u6240\u6709\u5305\u5df2\u6536\u5230\uff0c\u5982TCP\uff09\u548cACK\uff08\u8be5\u7f16\u53f7\u5305\u5df2\u6536\u5230\uff09 \u6d41\u91cf\u63a7\u5236 \u6ed1\u52a8\u7a97\u53e3 \u505c\u6b62\u7b49\u5f85\u534f\u8bae\uff08\u76f8\u5f53\u4e8e\u53d1\u9001\u7a97\u53e3\u548c\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u4e3a1\uff09 \u540e\u9000N\u5e27\u534f\u8bae\uff08GBN\u534f\u8bae\uff09 \u9009\u62e9\u91cd\u4f20\u534f\u8bae(SR) \u6d88\u606f\u4fdd\u62a4\u8fb9\u754c (1)\u53d1\u9001\u56fa\u5b9a\u957f\u5ea6\u7684\u6d88\u606f (2)\u628a\u6d88\u606f\u7684\u5c3a\u5bf8\u4e0e\u6d88\u606f\u4e00\u5757\u53d1\u9001 (3)\u4f7f\u7528\u7279\u6b8a\u6807\u8bb0\u6765\u533a\u5206\u6d88\u606f\u95f4\u9694","title":"tcp/udp/kcp"},{"location":"tcp/#tcpkcpudp","text":"","title":"tcp/kcp/udp"},{"location":"tcp/#tcpudp","text":"tcp\u9762\u5411\u5168\u53cc\u5de5\u8fde\u63a5\uff0cudp\u65e0\u8fde\u63a5\uff08\u4e09\u6b21\u63e1\u624b \u5efa\u7acb\u8fde\u63a5\uff09 tcp\u53ef\u9760\uff0cudp\u4e0d\u53ef\u9760\uff08\u5e94\u7b54\u548c\u91cd\u4f20\u673a\u5236 \u4fdd\u8bc1\u53ef\u9760\u6027\uff09 tcp\u4fdd\u8bc1\u987a\u5e8f\uff0cudp\u4e0d\u4fdd\u8bc1 tcp\u9762\u5411\u5b57\u8282\u6d41\uff0cudp\u9762\u5411\u62a5\u6587\uff08tcp\u65e0\u4fdd\u62a4\u6d88\u606f\u8fb9\u754c\uff0c\u4f1a\u7c98\u5305\uff09 tcp\u53ea\u80fd\u4e00\u5bf9\u4e00\uff0cudp\u53ef\u4ee5\u4e00\u5bf9\u4e00\u3001\u4e00\u5bf9\u591a\u3001\u591a\u5bf9\u591a\uff08tcp\u9700\u8981\u4e09\u6b21\u63e1\u624b\u5efa\u7acb\u8fde\u63a5\uff0c\u6240\u4ee5\u4e0d\u80fd\u5bf9\u591a\uff09 tcp\u5934\u90e8\u5f00\u9500\u5927\uff0cudp\u5934\u90e8\u5f00\u9500\u5c0f tcp\u6162\uff0cudp\u5feb KCP\u534f\u8bae\u5c31\u662f\u5728\u4fdd\u7559UDP\u5feb\u7684\u57fa\u7840\u4e0a\uff0c\u63d0\u4f9b\u53ef\u9760\u7684\u4f20\u8f93\uff0c\u5e94\u7528\u5c42\u4f7f\u7528\u66f4\u52a0\u7b80\u5355\u2014\u2014TCP\u53ef\u9760\u7b80\u5355\uff0c\u4f46\u662f\u590d\u6742\u65e0\u79c1\uff0c\u6240\u4ee5\u901f\u5ea6\u6162\u3002KCP\u5c3d\u53ef\u80fd\u4fdd\u7559UDP\u5feb\u7684\u7279\u70b9\u4e0b\uff0c\u4fdd\u8bc1\u53ef\u9760\u3002 * TCP\u662f\u4e3a\u6d41\u91cf\u8bbe\u8ba1\u7684\uff08\u6bcf\u79d2\u5185\u53ef\u4ee5\u4f20\u8f93\u591a\u5c11KB\u7684\u6570\u636e\uff09\uff0c\u8bb2\u7a76\u7684\u662f\u5145\u5206\u5229\u7528\u5e26\u5bbd\u3002 * KCP\u662f\u4e3a\u6d41\u901f\u8bbe\u8ba1\u7684\uff08\u5355\u4e2a\u6570\u636e\u5305\u4ece\u4e00\u7aef\u53d1\u9001\u5230\u4e00\u7aef\u9700\u8981\u591a\u5c11\u65f6\u95f4\uff09\uff0c\u4ee510%-20%\u5e26\u5bbd\u6d6a\u8d39\u7684\u4ee3\u4ef7\u6362\u53d6\u4e86\u6bd4 TCP\u5feb30%-40%\u7684\u4f20\u8f93\u901f\u5ea6\u3002","title":"tcp\u548cudp\u7684\u533a\u522b"},{"location":"tcp/#tcpkcp","text":"tcp\u7684\u8d85\u65f6\u65f6\u95f4\u662fRTO*2\uff0ckcp\u662fRTO*1.5 tcp\u91cd\u4f20\u6240\u6709\u6570\u636e\uff0ckcp\u53ea\u91cd\u4f20\u4e22\u5931\u7684\u6570\u636e kcp\u7684\u5feb\u901f\u91cd\u4f20\uff1a2\u6b21ack\u8de8\u8d8a\u4f1a\u76f4\u63a5\u91cd\u4f20 tcp\u5ef6\u8fdfACK\uff0ckcp\u975e\u5ef6\u8fdfACK tcp\u4f7f\u7528UNA\uff0ckcp\u4f7f\u7528UNA+ACK kcp\u6b63\u5e38\u6a21\u5f0f\u548ctcp\u4e00\u6837\u4f7f\u7528\u516c\u5e73\u9000\u8ba9\u6cd5\u5219\uff0ckcp\u5feb\u901f\u6a21\u5f0f\u53ef\u4ee5\u5173\u95ed\u6d41\u63a7\uff08\u975e\u9000\u8ba9\uff09 \u7c98\u5305\uff1a \u4e3e\u4e2a\u4f8b\u5b50\uff1a\u6709\u4e09\u4e2a\u6570\u636e\u5305\uff0c\u5927\u5c0f\u5206\u522b\u4e3a2k\u30014k\u30016k\uff0c\u5982\u679c\u91c7\u7528UDP\u53d1\u9001\u7684\u8bdd\uff0c\u4e0d\u7ba1\u63a5\u53d7\u65b9\u7684\u63a5\u6536\u7f13\u5b58\u6709\u591a\u5927\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u8fdb\u884c\u81f3\u5c11\u4e09\u6b21\u4ee5\u4e0a\u7684\u53d1\u9001\u624d\u80fd\u628a\u6570\u636e\u5305\u53d1\u9001\u5b8c\uff0c\u4f46\u662f\u4f7f\u7528TCP\u534f\u8bae\u53d1\u9001\u7684\u8bdd\uff0c\u6211\u4eec\u53ea\u9700\u8981\u63a5\u53d7\u65b9\u7684\u63a5\u6536\u7f13\u5b58\u670912k\u7684\u5927\u5c0f\uff0c\u5c31\u53ef\u4ee5\u4e00\u6b21\u628a\u8fd93\u4e2a\u6570\u636e\u5305\u5168\u90e8\u53d1\u9001\u5b8c\u6bd5\uff0c\u90a3\u4e48\u5c31\u4f1a\u9020\u6210\u63a5\u6536\u65b9\u4e00\u6b21\u4f1a\u63a5\u6536\u4e0d\u6b62\u4e00\u6761\u6d88\u606f\uff0c\u8fd9\u5c31\u662f\u7c98\u5305\u3002 UNA\uff08\u6b64\u7f16\u53f7\u524d\u6240\u6709\u5305\u5df2\u6536\u5230\uff0c\u5982TCP\uff09\u548cACK\uff08\u8be5\u7f16\u53f7\u5305\u5df2\u6536\u5230\uff09 \u6d41\u91cf\u63a7\u5236 \u6ed1\u52a8\u7a97\u53e3 \u505c\u6b62\u7b49\u5f85\u534f\u8bae\uff08\u76f8\u5f53\u4e8e\u53d1\u9001\u7a97\u53e3\u548c\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u4e3a1\uff09 \u540e\u9000N\u5e27\u534f\u8bae\uff08GBN\u534f\u8bae\uff09 \u9009\u62e9\u91cd\u4f20\u534f\u8bae(SR) \u6d88\u606f\u4fdd\u62a4\u8fb9\u754c (1)\u53d1\u9001\u56fa\u5b9a\u957f\u5ea6\u7684\u6d88\u606f (2)\u628a\u6d88\u606f\u7684\u5c3a\u5bf8\u4e0e\u6d88\u606f\u4e00\u5757\u53d1\u9001 (3)\u4f7f\u7528\u7279\u6b8a\u6807\u8bb0\u6765\u533a\u5206\u6d88\u606f\u95f4\u9694","title":"tcp\u548ckcp\u7684\u533a\u522b"},{"location":"tmux/","text":"Tmux \u00b6 \u7b80\u4ecb \u00b6 Tmux \u662f\u4e00\u4e2a\u7ec8\u7aef\u590d\u7528\u5de5\u5177\u3002\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ec8\u7aef\u7a97\u53e3\u4e0a\u521b\u5efa\u3001\u8bbf\u95ee\u3001\u63a7\u5236\u591a\u4e2a\u7ec8\u7aef\u4f1a\u8bdd\u3002 Tmux \u53ef\u4ee5\u521b\u5efa\u591a\u4e2a \u4f1a\u8bdd(session) \uff0c\u6bcf\u4e2a\u4f1a\u8bdd\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a \u7a97\u53e3(window) \uff0c\u6bcf\u4e2a\u7a97\u53e3\u53ef\u4ee5\u5206\u5272\u6210\u4e00\u4e2a\u6216\u591a\u4e2a \u9762\u677f(pane) \u3002 \u6240\u6709\u4f1a\u8bdd\u90fd\u4f1a\u4fdd\u5b58\u5728 Tmux \u670d\u52a1\u5668\u4e2d\uff0c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230\u4efb\u610f\u4e00\u4e2a\u4f1a\u8bdd\u5e76\u5728\u5c4f\u5e55\u4e0a\u5c55\u793a\u3002 \u670d\u52a1\u5668\u548c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u90fd\u662f\u5355\u72ec\u7684\u8fdb\u7a0b\uff0c\u5b83\u4eec\u901a\u8fc7 /tmp \u76ee\u5f55\u4e0b\u7684\u5957\u63a5\u5b57\u6587\u4ef6\u8fdb\u884c\u901a\u4fe1\u3002 \u5728\u64cd\u4f5c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u65e0\u8bba\u5ba2\u6237\u7aef\u7531\u4e8e\u4efb\u4f55\u539f\u56e0\u800c\u65ad\u5f00\u4e86\u8fde\u63a5\uff0c\u53ea\u8981\u670d\u52a1\u5668\u548c\u4f1a\u8bdd\u6ca1\u6709\u5173\u95ed\uff0c\u90fd\u53ef\u4ee5\u91cd\u65b0\u8fde\u63a5\u5230\u4e4b\u524d\u7684\u4f1a\u8bdd\uff0c\u7ee7\u7eed\u8fdb\u884c\u672a\u5b8c\u6210\u7684\u64cd\u4f5c\u3002 \u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u540c\u65f6\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4f1a\u8bdd\u4e0a\uff0c\u5b9e\u73b0\u5b9e\u65f6\u5730\u5171\u4eab\u5c4f\u5e55\u3002 \u5b89\u88c5 \u00b6 Mac OS brew install tmux Ubuntu sudo apt-get install tmux \u258d\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u7b80\u5355\u7684\u4f7f\u7528\u4e00\u4e0b \u5728\u7ec8\u7aef\u8f93\u5165\u547d\u4ee4 tmux \u5c31\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4f1a\u8bdd\u5e76\u8fde\u63a5\u5230\u8fd9\u4e2a\u4f1a\u8bdd \u6309\u4e0b Ctrl+b \uff0c\u518d\u6309\u4e0b % \uff0c\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u9762\u677f\u88ab\u5e73\u5206\u6210\u5de6\u53f3\u4e24\u5757 \u6309\u4e0b Ctrl+b \uff0c\u518d\u6309\u4e0b\u65b9\u5411\u952e\uff0c\u53ef\u4ee5\u5728\u4e24\u4e2a\u9762\u677f\u4e4b\u95f4\u6765\u56de\u5207\u6362 \u6309\u4e0b Ctrl+b \uff0c\u518d\u6309\u4e0b d \uff0c\u5c31\u4f1a\u8131\u79bb\u5f53\u524d\u4f1a\u8bdd\uff0c\u56de\u5230\u7ec8\u7aef \u5728\u7ec8\u7aef\u5185\u8f93\u5165 tmux ls \uff0c\u53ef\u4ee5\u67e5\u770b\u5f53\u524d Tmux \u670d\u52a1\u5668\u4e0b\u7684\u6240\u6709\u4f1a\u8bdd \u5728\u7ec8\u7aef\u5185\u8f93\u5165 tmux a \uff0c\u53ef\u4ee5\u91cd\u65b0\u8fde\u63a5\u5230\u521a\u624d\u8131\u79bb\u7684\u4f1a\u8bdd\u4e2d \u6309\u952e\u7ed1\u5b9a \u00b6 \u5728\u4e00\u4e2a\u5df2\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u5185\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ec4\u5408\u952e\u6765\u63a7\u5236 Tmux\u3002\u7ec4\u5408\u952e\u7531\u4e00\u4e2a\u524d\u7f00\u952e\u548c\u4e00\u4e2a\u547d\u4ee4\u952e\u7ec4\u6210\uff0c\u524d\u7f00\u952e\u9ed8\u8ba4\u662f C-b (Ctrl-b) \u4ee5\u4e0b\u662f\u5e38\u7528\u7684 Tmux \u7684\u9ed8\u8ba4\u547d\u4ee4\u952e Ctrl + b \u6fc0\u6d3b\u63a7\u5236\u53f0\uff1b\u6b64\u65f6\u4ee5\u4e0b\u6309\u952e\u751f\u6548 \u7cfb\u7edf\u64cd\u4f5c ? \u5217\u51fa\u6240\u6709\u5feb\u6377\u952e\uff1b\u6309q\u8fd4\u56de d \u8131\u79bb\u5f53\u524d\u4f1a\u8bdd\uff1b\u8fd9\u6837\u53ef\u4ee5\u6682\u65f6\u8fd4\u56deShell\u754c\u9762\uff0c\u8f93\u5165tmux attach\u80fd\u591f\u91cd\u65b0\u8fdb\u5165\u4e4b\u524d\u7684\u4f1a\u8bdd D \u9009\u62e9\u8981\u8131\u79bb\u7684\u4f1a\u8bdd\uff1b\u5728\u540c\u65f6\u5f00\u542f\u4e86\u591a\u4e2a\u4f1a\u8bdd\u65f6\u4f7f\u7528 Ctrl+z \u6302\u8d77\u5f53\u524d\u4f1a\u8bdd r \u5f3a\u5236\u91cd\u7ed8\u672a\u8131\u79bb\u7684\u4f1a\u8bdd s \u9009\u62e9\u5e76\u5207\u6362\u4f1a\u8bdd\uff1b\u5728\u540c\u65f6\u5f00\u542f\u4e86\u591a\u4e2a\u4f1a\u8bdd\u65f6\u4f7f\u7528 : \u8fdb\u5165\u547d\u4ee4\u884c\u6a21\u5f0f\uff1b\u6b64\u65f6\u53ef\u4ee5\u8f93\u5165\u652f\u6301\u7684\u547d\u4ee4\uff0c\u4f8b\u5982kill-server\u53ef\u4ee5\u5173\u95ed\u670d\u52a1\u5668 [ \u8fdb\u5165\u590d\u5236\u6a21\u5f0f\uff1b\u6b64\u65f6\u7684\u64cd\u4f5c\u4e0evi/emacs\u76f8\u540c\uff0c\u6309q/Esc\u9000\u51fa ~ \u5217\u51fa\u63d0\u793a\u4fe1\u606f\u7f13\u5b58\uff1b\u5176\u4e2d\u5305\u542b\u4e86\u4e4b\u524dtmux\u8fd4\u56de\u7684\u5404\u79cd\u63d0\u793a\u4fe1\u606f \u7a97\u53e3\u64cd\u4f5c c \u521b\u5efa\u65b0\u7a97\u53e3 & \u5173\u95ed\u5f53\u524d\u7a97\u53e3 \u6570\u5b57\u952e \u5207\u6362\u81f3\u6307\u5b9a\u7a97\u53e3 p \u5207\u6362\u81f3\u4e0a\u4e00\u7a97\u53e3 n \u5207\u6362\u81f3\u4e0b\u4e00\u7a97\u53e3 l \u5728\u524d\u540e\u4e24\u4e2a\u7a97\u53e3\u95f4\u4e92\u76f8\u5207\u6362 w \u901a\u8fc7\u7a97\u53e3\u5217\u8868\u5207\u6362\u7a97\u53e3 , \u91cd\u547d\u540d\u5f53\u524d\u7a97\u53e3\uff1b\u8fd9\u6837\u4fbf\u4e8e\u8bc6\u522b . \u4fee\u6539\u5f53\u524d\u7a97\u53e3\u7f16\u53f7\uff1b\u76f8\u5f53\u4e8e\u7a97\u53e3\u91cd\u65b0\u6392\u5e8f f \u5728\u6240\u6709\u7a97\u53e3\u4e2d\u67e5\u627e\u6307\u5b9a\u6587\u672c \u9762\u677f\u64cd\u4f5c \u201d \u5c06\u5f53\u524d\u9762\u677f\u5e73\u5206\u4e3a\u4e0a\u4e0b\u4e24\u5757 % \u5c06\u5f53\u524d\u9762\u677f\u5e73\u5206\u4e3a\u5de6\u53f3\u4e24\u5757 x \u5173\u95ed\u5f53\u524d\u9762\u677f ! \u5c06\u5f53\u524d\u9762\u677f\u7f6e\u4e8e\u65b0\u7a97\u53e3\uff1b\u5373\u65b0\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u5176\u4e2d\u4ec5\u5305\u542b\u5f53\u524d\u9762\u677f Ctrl+\u65b9\u5411\u952e \u4ee51\u4e2a\u5355\u5143\u683c\u4e3a\u5355\u4f4d\u79fb\u52a8\u8fb9\u7f18\u4ee5\u8c03\u6574\u5f53\u524d\u9762\u677f\u5927\u5c0f Alt+\u65b9\u5411\u952e \u4ee55\u4e2a\u5355\u5143\u683c\u4e3a\u5355\u4f4d\u79fb\u52a8\u8fb9\u7f18\u4ee5\u8c03\u6574\u5f53\u524d\u9762\u677f\u5927\u5c0f Space \u5728\u9884\u7f6e\u7684\u9762\u677f\u5e03\u5c40\u4e2d\u5faa\u73af\u5207\u6362\uff1b\u4f9d\u6b21\u5305\u62eceven-horizontal\u3001even-vertical\u3001main-horizontal\u3001main-vertical\u3001tiled q \u663e\u793a\u9762\u677f\u7f16\u53f7 o \u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u9009\u62e9\u4e0b\u4e00\u9762\u677f \u65b9\u5411\u952e \u79fb\u52a8\u5149\u6807\u4ee5\u9009\u62e9\u9762\u677f { \u5411\u524d\u7f6e\u6362\u5f53\u524d\u9762\u677f } \u5411\u540e\u7f6e\u6362\u5f53\u524d\u9762\u677f Alt+o \u9006\u65f6\u9488\u65cb\u8f6c\u5f53\u524d\u7a97\u53e3\u7684\u9762\u677f Ctrl+o \u987a\u65f6\u9488\u65cb\u8f6c\u5f53\u524d\u7a97\u53e3\u7684\u9762\u677f \u6309\u952e\u7ed1\u5b9a\u53ef\u4ee5\u901a\u8fc7 bind-key \u548c unbind-key \u547d\u4ee4\u6765\u4fee\u6539\uff08\u524d\u7f00\u952e\u548c\u547d\u4ee4\u952e\u90fd\u53ef\u4ee5\u4fee\u6539\uff09 \u547d\u4ee4 \u00b6 \u5e38\u7528\u547d\u4ee4\uff1a Command alias function attach-session attach \u8fde\u63a5\u4f1a\u8bdd source-file source \u6267\u884c\u6307\u5b9a\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u547d\u4ee4 list-commands lscm \u5217\u51fa\u6240\u6709\u7684\u547d\u4ee4 list-sessions ls \u5217\u51fa\u6240\u6709\u7684\u4f1a\u8bdd detach-client detach \u5ba2\u6237\u7aef\u8131\u79bb\u4f1a\u8bdd\uff08\u9ed8\u8ba4\u662f\u5f53\u524d\u5ba2\u6237\u7aef\u8131\u79bb\uff09 bind-key bind \u6309\u952e\u7ed1\u5b9a list-keys lsk \u5217\u51fa\u6240\u6709\u5df2\u7ecf\u7ed1\u5b9a\u7684\u6309\u952e send-keys send \u53d1\u9001\u6309\u952e unbind-key unbind \u89e3\u9664\u6309\u952e\u7ed1\u5b9a set-option set \u8bbe\u7f6e\u4f1a\u8bdd\u9009\u9879 set-window-option setw \u8bbe\u7f6e\u7a97\u53e3\u9009\u9879 show-options show \u5c55\u793a\u4f1a\u8bdd\u9009\u9879 show-window-options showw \u5c55\u793a\u7a97\u53e3\u9009\u9879 \u914d\u7f6e\u6587\u4ef6 \u00b6 \u901a\u5e38\uff0cTmux \u670d\u52a1\u5668\u4f1a\u5728\u7b2c\u4e00\u4e2a\u4f1a\u8bdd\u521b\u5efa\u7684\u65f6\u5019\u81ea\u52a8\u542f\u52a8\uff0c\u5728\u6700\u540e\u4e00\u4e2a\u4f1a\u8bdd\u7ed3\u675f\u65f6\u81ea\u52a8\u5173\u95ed\u3002 \u5f53 Tmux \u670d\u52a1\u5668\u542f\u52a8\u65f6\uff0c\u4f1a\u6267\u884c ~/.tmux.conf \u4e2d\u7684\u547d\u4ee4\u3002 \u628a\u914d\u7f6e\u5199\u5165 ~/.tmux.conf \u6587\u4ef6\u4e2d\uff0cTmux \u670d\u52a1\u5668\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u6587\u4ef6\u4e2d\u7684\u547d\u4ee4\uff0c\u5b8c\u6210\u914d\u7f6e\u3002 \u4ee5\u4e0b\u662f\u6211\u7684\u914d\u7f6e\uff1a set-option -g default-terminal \"screen\" set-option -g display-time 3000 set-option -g history-limit 65535 # copy-mode \u5c06\u5feb\u6377\u952e\u8bbe\u7f6e\u4e3a vi \u6a21\u5f0f set-window-option -g mode-keys vi # \u7a97\u53e3\u7684\u521d\u59cb\u5e8f\u53f7\uff1b\u9ed8\u8ba4\u4e3a0\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a1 set-option -g base-index 1 # \u63d0\u793a\u4fe1\u606f\u7684\u6301\u7eed\u65f6\u95f4\uff1b\u8bbe\u7f6e\u8db3\u591f\u7684\u65f6\u95f4\u4ee5\u907f\u514d\u770b\u4e0d\u6e05\u63d0\u793a\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2 set-option -g display-time 5000 # \u63a7\u5236\u53f0\u6fc0\u6d3b\u540e\u7684\u6301\u7eed\u65f6\u95f4\uff1b\u8bbe\u7f6e\u5408\u9002\u7684\u65f6\u95f4\u4ee5\u907f\u514d\u6bcf\u6b21\u64cd\u4f5c\u90fd\u8981\u5148\u6fc0\u6d3b\u63a7\u5236\u53f0\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2 set-option -g repeat-time 1000 # \u64cd\u4f5c\u72b6\u6001\u680f\u65f6\u7684\u9ed8\u8ba4\u952e\u76d8\u5e03\u5c40\uff1b\u53ef\u4ee5\u8bbe\u7f6e\u4e3avi\u6216emacs set-option -g status-keys vi # \u5982\u679c\u4f60\u5f00\u4e86\u591a\u4e2a\u7a97\u53e3\uff0c\u53ef\u80fd\u60f3\u5f53\u522b\u7684\u7a97\u53e3\u53d1\u751f\u4ec0\u4e48\u7684\u65f6\u5019\u4f60\u80fd\u6536\u5230\u901a\u77e5 set-window-option -g monitor-activity on set-option -g visual-activity on # \u72b6\u6001\u680f # \u989c\u8272 set-option -g status-style bg=black # \u5bf9\u9f50\u65b9\u5f0f set-option -g status-justify centre # \u5de6\u4e0b\u89d2 set-option -g status-left '#[bg=black,fg=green][#[fg=cyan]#S#[fg=green]]' set-option -g status-left-length 20 # \u7a97\u53e3\u5217\u8868 set-window-option -g automatic-rename on set-window-option -g window-status-format '#[dim]#I:#[default]#W#[fg=grey,dim]' set-window-option -g window-status-current-format '#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]' # \u53f3\u4e0b\u89d2 set-option -g status-right '#[fg=green]#[fg=cyan]%H:%M %Y-%b-%d %a#[fg=green]' # \u652f\u6301\u9f20\u6807 set-option -g mouse on # \u66f4\u6539prefix\u952e set-option -g prefix C-x unbind-key C-b bind-key C-x send-prefix # \u652f\u6301vi\u6a21\u5f0f\u6765\u5207\u6362pane # up bind-key k select-pane -U # down bind-key j select-pane -D # left bind-key h select-pane -L # right bind-key l select-pane -R","title":"Tmux"},{"location":"tmux/#tmux","text":"","title":"Tmux"},{"location":"tmux/#_1","text":"Tmux \u662f\u4e00\u4e2a\u7ec8\u7aef\u590d\u7528\u5de5\u5177\u3002\u53ef\u4ee5\u5728\u4e00\u4e2a\u7ec8\u7aef\u7a97\u53e3\u4e0a\u521b\u5efa\u3001\u8bbf\u95ee\u3001\u63a7\u5236\u591a\u4e2a\u7ec8\u7aef\u4f1a\u8bdd\u3002 Tmux \u53ef\u4ee5\u521b\u5efa\u591a\u4e2a \u4f1a\u8bdd(session) \uff0c\u6bcf\u4e2a\u4f1a\u8bdd\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a \u7a97\u53e3(window) \uff0c\u6bcf\u4e2a\u7a97\u53e3\u53ef\u4ee5\u5206\u5272\u6210\u4e00\u4e2a\u6216\u591a\u4e2a \u9762\u677f(pane) \u3002 \u6240\u6709\u4f1a\u8bdd\u90fd\u4f1a\u4fdd\u5b58\u5728 Tmux \u670d\u52a1\u5668\u4e2d\uff0c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230\u4efb\u610f\u4e00\u4e2a\u4f1a\u8bdd\u5e76\u5728\u5c4f\u5e55\u4e0a\u5c55\u793a\u3002 \u670d\u52a1\u5668\u548c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u90fd\u662f\u5355\u72ec\u7684\u8fdb\u7a0b\uff0c\u5b83\u4eec\u901a\u8fc7 /tmp \u76ee\u5f55\u4e0b\u7684\u5957\u63a5\u5b57\u6587\u4ef6\u8fdb\u884c\u901a\u4fe1\u3002 \u5728\u64cd\u4f5c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u65e0\u8bba\u5ba2\u6237\u7aef\u7531\u4e8e\u4efb\u4f55\u539f\u56e0\u800c\u65ad\u5f00\u4e86\u8fde\u63a5\uff0c\u53ea\u8981\u670d\u52a1\u5668\u548c\u4f1a\u8bdd\u6ca1\u6709\u5173\u95ed\uff0c\u90fd\u53ef\u4ee5\u91cd\u65b0\u8fde\u63a5\u5230\u4e4b\u524d\u7684\u4f1a\u8bdd\uff0c\u7ee7\u7eed\u8fdb\u884c\u672a\u5b8c\u6210\u7684\u64cd\u4f5c\u3002 \u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u540c\u65f6\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u4f1a\u8bdd\u4e0a\uff0c\u5b9e\u73b0\u5b9e\u65f6\u5730\u5171\u4eab\u5c4f\u5e55\u3002","title":"\u7b80\u4ecb"},{"location":"tmux/#_2","text":"","title":"\u5b89\u88c5"},{"location":"tmux/#_3","text":"\u5728\u4e00\u4e2a\u5df2\u8fde\u63a5\u7684\u5ba2\u6237\u7aef\u5185\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ec4\u5408\u952e\u6765\u63a7\u5236 Tmux\u3002\u7ec4\u5408\u952e\u7531\u4e00\u4e2a\u524d\u7f00\u952e\u548c\u4e00\u4e2a\u547d\u4ee4\u952e\u7ec4\u6210\uff0c\u524d\u7f00\u952e\u9ed8\u8ba4\u662f C-b (Ctrl-b) \u4ee5\u4e0b\u662f\u5e38\u7528\u7684 Tmux \u7684\u9ed8\u8ba4\u547d\u4ee4\u952e Ctrl + b \u6fc0\u6d3b\u63a7\u5236\u53f0\uff1b\u6b64\u65f6\u4ee5\u4e0b\u6309\u952e\u751f\u6548 \u7cfb\u7edf\u64cd\u4f5c ? \u5217\u51fa\u6240\u6709\u5feb\u6377\u952e\uff1b\u6309q\u8fd4\u56de d \u8131\u79bb\u5f53\u524d\u4f1a\u8bdd\uff1b\u8fd9\u6837\u53ef\u4ee5\u6682\u65f6\u8fd4\u56deShell\u754c\u9762\uff0c\u8f93\u5165tmux attach\u80fd\u591f\u91cd\u65b0\u8fdb\u5165\u4e4b\u524d\u7684\u4f1a\u8bdd D \u9009\u62e9\u8981\u8131\u79bb\u7684\u4f1a\u8bdd\uff1b\u5728\u540c\u65f6\u5f00\u542f\u4e86\u591a\u4e2a\u4f1a\u8bdd\u65f6\u4f7f\u7528 Ctrl+z \u6302\u8d77\u5f53\u524d\u4f1a\u8bdd r \u5f3a\u5236\u91cd\u7ed8\u672a\u8131\u79bb\u7684\u4f1a\u8bdd s \u9009\u62e9\u5e76\u5207\u6362\u4f1a\u8bdd\uff1b\u5728\u540c\u65f6\u5f00\u542f\u4e86\u591a\u4e2a\u4f1a\u8bdd\u65f6\u4f7f\u7528 : \u8fdb\u5165\u547d\u4ee4\u884c\u6a21\u5f0f\uff1b\u6b64\u65f6\u53ef\u4ee5\u8f93\u5165\u652f\u6301\u7684\u547d\u4ee4\uff0c\u4f8b\u5982kill-server\u53ef\u4ee5\u5173\u95ed\u670d\u52a1\u5668 [ \u8fdb\u5165\u590d\u5236\u6a21\u5f0f\uff1b\u6b64\u65f6\u7684\u64cd\u4f5c\u4e0evi/emacs\u76f8\u540c\uff0c\u6309q/Esc\u9000\u51fa ~ \u5217\u51fa\u63d0\u793a\u4fe1\u606f\u7f13\u5b58\uff1b\u5176\u4e2d\u5305\u542b\u4e86\u4e4b\u524dtmux\u8fd4\u56de\u7684\u5404\u79cd\u63d0\u793a\u4fe1\u606f \u7a97\u53e3\u64cd\u4f5c c \u521b\u5efa\u65b0\u7a97\u53e3 & \u5173\u95ed\u5f53\u524d\u7a97\u53e3 \u6570\u5b57\u952e \u5207\u6362\u81f3\u6307\u5b9a\u7a97\u53e3 p \u5207\u6362\u81f3\u4e0a\u4e00\u7a97\u53e3 n \u5207\u6362\u81f3\u4e0b\u4e00\u7a97\u53e3 l \u5728\u524d\u540e\u4e24\u4e2a\u7a97\u53e3\u95f4\u4e92\u76f8\u5207\u6362 w \u901a\u8fc7\u7a97\u53e3\u5217\u8868\u5207\u6362\u7a97\u53e3 , \u91cd\u547d\u540d\u5f53\u524d\u7a97\u53e3\uff1b\u8fd9\u6837\u4fbf\u4e8e\u8bc6\u522b . \u4fee\u6539\u5f53\u524d\u7a97\u53e3\u7f16\u53f7\uff1b\u76f8\u5f53\u4e8e\u7a97\u53e3\u91cd\u65b0\u6392\u5e8f f \u5728\u6240\u6709\u7a97\u53e3\u4e2d\u67e5\u627e\u6307\u5b9a\u6587\u672c \u9762\u677f\u64cd\u4f5c \u201d \u5c06\u5f53\u524d\u9762\u677f\u5e73\u5206\u4e3a\u4e0a\u4e0b\u4e24\u5757 % \u5c06\u5f53\u524d\u9762\u677f\u5e73\u5206\u4e3a\u5de6\u53f3\u4e24\u5757 x \u5173\u95ed\u5f53\u524d\u9762\u677f ! \u5c06\u5f53\u524d\u9762\u677f\u7f6e\u4e8e\u65b0\u7a97\u53e3\uff1b\u5373\u65b0\u5efa\u4e00\u4e2a\u7a97\u53e3\uff0c\u5176\u4e2d\u4ec5\u5305\u542b\u5f53\u524d\u9762\u677f Ctrl+\u65b9\u5411\u952e \u4ee51\u4e2a\u5355\u5143\u683c\u4e3a\u5355\u4f4d\u79fb\u52a8\u8fb9\u7f18\u4ee5\u8c03\u6574\u5f53\u524d\u9762\u677f\u5927\u5c0f Alt+\u65b9\u5411\u952e \u4ee55\u4e2a\u5355\u5143\u683c\u4e3a\u5355\u4f4d\u79fb\u52a8\u8fb9\u7f18\u4ee5\u8c03\u6574\u5f53\u524d\u9762\u677f\u5927\u5c0f Space \u5728\u9884\u7f6e\u7684\u9762\u677f\u5e03\u5c40\u4e2d\u5faa\u73af\u5207\u6362\uff1b\u4f9d\u6b21\u5305\u62eceven-horizontal\u3001even-vertical\u3001main-horizontal\u3001main-vertical\u3001tiled q \u663e\u793a\u9762\u677f\u7f16\u53f7 o \u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u9009\u62e9\u4e0b\u4e00\u9762\u677f \u65b9\u5411\u952e \u79fb\u52a8\u5149\u6807\u4ee5\u9009\u62e9\u9762\u677f { \u5411\u524d\u7f6e\u6362\u5f53\u524d\u9762\u677f } \u5411\u540e\u7f6e\u6362\u5f53\u524d\u9762\u677f Alt+o \u9006\u65f6\u9488\u65cb\u8f6c\u5f53\u524d\u7a97\u53e3\u7684\u9762\u677f Ctrl+o \u987a\u65f6\u9488\u65cb\u8f6c\u5f53\u524d\u7a97\u53e3\u7684\u9762\u677f \u6309\u952e\u7ed1\u5b9a\u53ef\u4ee5\u901a\u8fc7 bind-key \u548c unbind-key \u547d\u4ee4\u6765\u4fee\u6539\uff08\u524d\u7f00\u952e\u548c\u547d\u4ee4\u952e\u90fd\u53ef\u4ee5\u4fee\u6539\uff09","title":"\u6309\u952e\u7ed1\u5b9a"},{"location":"tmux/#_4","text":"\u5e38\u7528\u547d\u4ee4\uff1a Command alias function attach-session attach \u8fde\u63a5\u4f1a\u8bdd source-file source \u6267\u884c\u6307\u5b9a\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u547d\u4ee4 list-commands lscm \u5217\u51fa\u6240\u6709\u7684\u547d\u4ee4 list-sessions ls \u5217\u51fa\u6240\u6709\u7684\u4f1a\u8bdd detach-client detach \u5ba2\u6237\u7aef\u8131\u79bb\u4f1a\u8bdd\uff08\u9ed8\u8ba4\u662f\u5f53\u524d\u5ba2\u6237\u7aef\u8131\u79bb\uff09 bind-key bind \u6309\u952e\u7ed1\u5b9a list-keys lsk \u5217\u51fa\u6240\u6709\u5df2\u7ecf\u7ed1\u5b9a\u7684\u6309\u952e send-keys send \u53d1\u9001\u6309\u952e unbind-key unbind \u89e3\u9664\u6309\u952e\u7ed1\u5b9a set-option set \u8bbe\u7f6e\u4f1a\u8bdd\u9009\u9879 set-window-option setw \u8bbe\u7f6e\u7a97\u53e3\u9009\u9879 show-options show \u5c55\u793a\u4f1a\u8bdd\u9009\u9879 show-window-options showw \u5c55\u793a\u7a97\u53e3\u9009\u9879","title":"\u547d\u4ee4"},{"location":"tmux/#_5","text":"\u901a\u5e38\uff0cTmux \u670d\u52a1\u5668\u4f1a\u5728\u7b2c\u4e00\u4e2a\u4f1a\u8bdd\u521b\u5efa\u7684\u65f6\u5019\u81ea\u52a8\u542f\u52a8\uff0c\u5728\u6700\u540e\u4e00\u4e2a\u4f1a\u8bdd\u7ed3\u675f\u65f6\u81ea\u52a8\u5173\u95ed\u3002 \u5f53 Tmux \u670d\u52a1\u5668\u542f\u52a8\u65f6\uff0c\u4f1a\u6267\u884c ~/.tmux.conf \u4e2d\u7684\u547d\u4ee4\u3002 \u628a\u914d\u7f6e\u5199\u5165 ~/.tmux.conf \u6587\u4ef6\u4e2d\uff0cTmux \u670d\u52a1\u5668\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u6587\u4ef6\u4e2d\u7684\u547d\u4ee4\uff0c\u5b8c\u6210\u914d\u7f6e\u3002 \u4ee5\u4e0b\u662f\u6211\u7684\u914d\u7f6e\uff1a set-option -g default-terminal \"screen\" set-option -g display-time 3000 set-option -g history-limit 65535 # copy-mode \u5c06\u5feb\u6377\u952e\u8bbe\u7f6e\u4e3a vi \u6a21\u5f0f set-window-option -g mode-keys vi # \u7a97\u53e3\u7684\u521d\u59cb\u5e8f\u53f7\uff1b\u9ed8\u8ba4\u4e3a0\uff0c\u8fd9\u91cc\u8bbe\u7f6e\u4e3a1 set-option -g base-index 1 # \u63d0\u793a\u4fe1\u606f\u7684\u6301\u7eed\u65f6\u95f4\uff1b\u8bbe\u7f6e\u8db3\u591f\u7684\u65f6\u95f4\u4ee5\u907f\u514d\u770b\u4e0d\u6e05\u63d0\u793a\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2 set-option -g display-time 5000 # \u63a7\u5236\u53f0\u6fc0\u6d3b\u540e\u7684\u6301\u7eed\u65f6\u95f4\uff1b\u8bbe\u7f6e\u5408\u9002\u7684\u65f6\u95f4\u4ee5\u907f\u514d\u6bcf\u6b21\u64cd\u4f5c\u90fd\u8981\u5148\u6fc0\u6d3b\u63a7\u5236\u53f0\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2 set-option -g repeat-time 1000 # \u64cd\u4f5c\u72b6\u6001\u680f\u65f6\u7684\u9ed8\u8ba4\u952e\u76d8\u5e03\u5c40\uff1b\u53ef\u4ee5\u8bbe\u7f6e\u4e3avi\u6216emacs set-option -g status-keys vi # \u5982\u679c\u4f60\u5f00\u4e86\u591a\u4e2a\u7a97\u53e3\uff0c\u53ef\u80fd\u60f3\u5f53\u522b\u7684\u7a97\u53e3\u53d1\u751f\u4ec0\u4e48\u7684\u65f6\u5019\u4f60\u80fd\u6536\u5230\u901a\u77e5 set-window-option -g monitor-activity on set-option -g visual-activity on # \u72b6\u6001\u680f # \u989c\u8272 set-option -g status-style bg=black # \u5bf9\u9f50\u65b9\u5f0f set-option -g status-justify centre # \u5de6\u4e0b\u89d2 set-option -g status-left '#[bg=black,fg=green][#[fg=cyan]#S#[fg=green]]' set-option -g status-left-length 20 # \u7a97\u53e3\u5217\u8868 set-window-option -g automatic-rename on set-window-option -g window-status-format '#[dim]#I:#[default]#W#[fg=grey,dim]' set-window-option -g window-status-current-format '#[fg=cyan,bold]#I#[fg=blue]:#[fg=cyan]#W#[fg=dim]' # \u53f3\u4e0b\u89d2 set-option -g status-right '#[fg=green]#[fg=cyan]%H:%M %Y-%b-%d %a#[fg=green]' # \u652f\u6301\u9f20\u6807 set-option -g mouse on # \u66f4\u6539prefix\u952e set-option -g prefix C-x unbind-key C-b bind-key C-x send-prefix # \u652f\u6301vi\u6a21\u5f0f\u6765\u5207\u6362pane # up bind-key k select-pane -U # down bind-key j select-pane -D # left bind-key h select-pane -L # right bind-key l select-pane -R","title":"\u914d\u7f6e\u6587\u4ef6"},{"location":"bash/prompt/","text":"\u7ec8\u7aef\u53ef\u4ee5\u8bf4\u662f\u5728Linux\u7684\u4f7f\u7528\u4e2d\u6700\u5e38\u7528\u5230\u7684\u5de5\u5177\u4e86\uff0c\u901a\u8fc7\u8bbe\u7f6ePS1,PS2,PS3,PS4\u8fd9\u56db\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4e2a\u6027\u5316\u5b9a\u5236\u7ec8\u7aef\u7684\u63d0\u793a\u7b26\u3002 \u4e00\u3001PS1\uff1a\u9ed8\u8ba4\u7684\u4ea4\u4e92\u63d0\u793a\u7b26 \u00b6 1. \u4e86\u89e3PS1 \u00b6 PS1\u662fLinux\u7ec8\u7aef\u7528\u6237\u7684\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u7528\u6765\u5b9a\u4e49\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u7684\u53c2\u6570\u3002 \u5728\u7ec8\u7aef\u8f93\u5165\u547d\u4ee4 echo $PS1 \uff0c\u53ef\u5f97\u5230\u5f53\u524dPS1\u7684\u5b9a\u4e49\u503c\uff1a $ echo $PS1 \\e [ 36 ; 1m \\u\\e [ 0m@ \\e [ 33 ; 1m \\h\\e [ 0m \\e [ 35 ; 1m \\t\\e [ 0m: \\e [ 31 ; 1m \\w\\e [ 0m \\n $ PS1\u7684\u5e38\u7528\u53c2\u6570\u4ee5\u53ca\u542b\u4e49: \u53c2\u6570 | \u542b\u4e49 :---:|:---| \\d | \u4ee3\u8868\u65e5\u671f\uff0c\u683c\u5f0f\u4e3aweekday month date\uff0c\u4f8b\u5982\uff1a\"Mon Aug 1\" \\H | \u5b8c\u6574\u7684\u4e3b\u673a\u540d\u79f0 \\h | \u4ec5\u53d6\u4e3b\u673a\u540d\u4e2d\u7684\u7b2c\u4e00\u4e2a\u540d\u5b57 \\t | \u663e\u793a\u65f6\u95f4\u4e3a24\u5c0f\u65f6\u683c\u5f0f\uff0c\u5982\uff1aHH\uff1aMM\uff1aSS \\T | \u663e\u793a\u65f6\u95f4\u4e3a12\u5c0f\u65f6\u683c\u5f0f \\A | \u663e\u793a\u65f6\u95f4\u4e3a24\u5c0f\u65f6\u683c\u5f0f\uff1aHH\uff1aMM \\u | \u5f53\u524d\u7528\u6237\u7684\u8d26\u53f7\u540d\u79f0 \\v | BASH\u7684\u7248\u672c\u4fe1\u606f \\w | \u5b8c\u6574\u7684\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0 \\W | \u5229\u7528basename\u53d6\u5f97\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0\uff0c\u53ea\u663e\u793a\u6700\u540e\u4e00\u4e2a\u76ee\u5f55\u540d \\# | \u4e0b\u8fbe\u7684\u7b2c\u51e0\u4e2a\u547d\u4ee4 \\$ | \u63d0\u793a\u5b57\u7b26\uff0c\u5982\u679c\u662froot\u7528\u6237\uff0c\u63d0\u793a\u7b26\u4e3a # \uff0c\u666e\u901a\u7528\u6237\u5219\u4e3a $ PS1='\\u@\\h \\t:\\w\\n$ ' \u7684\u610f\u601d\u5c31\u662f\uff1a # [\u5f53\u524d\u7528\u6237\u7684\u8d26\u53f7\u540d\u79f0]@[\u4e3b\u673a\u540d\u7684\u7b2c\u4e00\u4e2a\u540d\u5b57] [24\u5c0f\u65f6\u683c\u5f0f\u7684\u65f6\u95f4]:[\u5b8c\u6574\u7684\u5de5\u4f5c\u76ee\u5f55\u540d\u79f0][\u6362\u884c][$] milo@AppledeMacBook-Pro 14 :36:54:~ $ 2. \u989c\u8272\u8bbe\u7f6e\u53c2\u6570 \u00b6 \u5728PS1\u4e2d\u8bbe\u7f6e\u5b57\u7b26\u989c\u8272\u7684\u683c\u5f0f\u4e3a\uff1a \\e[F;Bm \uff1b \u5176\u4e2d\"F\"\u4e3a\u5b57\u4f53\u989c\u8272\uff0c\u7f16\u53f7\u4e3a30-37\uff0c\"B\"\u4e3a\u80cc\u666f\u989c\u8272\uff0c\u7f16\u53f7\u4e3a40-47\uff1b \u5f53\"B\"\u7f16\u53f7\u4e3a0-8\u65f6\u6709\u7279\u6b8a\u542b\u4e49\uff1b \\e\u4e5f\u53ef\u4ee5\u7528\\033\u4ee3\u66ff\uff1b \u989c\u8272\u5bf9\u7167\u8868\uff1a F B \u989c\u8272 30 40 \u9ed1\u8272 31 41 \u7ea2\u8272 32 42 \u7eff\u8272 33 43 \u9ec4\u8272 34 44 \u84dd\u8272 35 45 \u7d2b\u7ea2\u8272 36 46 \u9752\u84dd\u8272 37 47 \u767d\u8272 / 0 OFF / 1 \u9ad8\u4eae\u663e\u793a / 4 underline / 5 \u95ea\u70c1 / 7 \u53cd\u767d\u663e\u793a / 8 \u4e0d\u53ef\u89c1 \u4ee5\u4e0b\u662f\u6211\u4e2a\u4eba\u7684\u683c\u5f0f PS1 = \"\\ e [ 36 ; 1 m \\ u \\ e [ 0 m @ \\ e [ 33 ; 1 m \\ h \\ e [ 0 m \\ e [ 35 ; 1 m \\ t \\ e [ 0 m : \\ e [ 31 ; 1 m \\ w \\ e [ 0 m \\ n $ \" 3. \u4fee\u6539.bashrc\u6587\u4ef6\uff0c\u6c38\u4e45\u4fdd\u5b58\u547d\u4ee4\u884c\u6837\u5f0f \u00b6 \u7f16\u8f91.bashrc\uff1a vim ~/.bashrc \u5728\u6587\u4ef6\u672b\u5c3e\u52a0\u5165\uff1a export PS1 = \"\\ e [ 36 ; 1 m \\ u \\ e [ 0 m @ \\ e [ 33 ; 1 m \\ h \\ e [ 0 m \\ e [ 35 ; 1 m \\ t \\ e [ 0 m : \\ e [ 31 ; 1 m \\ w \\ e [ 0 m \\ n $ \" \u4fdd\u5b58\u9000\u51fa \u91cd\u65b0\u52a0\u8f7dbash\u914d\u7f6e\u6587\u4ef6: source ~/.bashrc \u5c31\u53ef\u4ee5\u6c38\u4e45\u751f\u6548 \u4e8c\u3001PS2\uff1a\u591a\u884c\u4ea4\u4e92\u63d0\u793a\u7b26 \u00b6 \u524d\u9762\u6211\u4eec\u8bb2\u4e86\u5f88\u591a\u5173\u4e8ePS1\u53d8\u91cf\u7684\u5c5e\u6027\uff0c\u6211\u4eec\u5728\u5927\u90e8\u5206\u7684\u65f6\u95f4\u90fd\u662f\u548c\u9ed8\u8ba4\u7684\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u6253\u4ea4\u9053\u7684\u3002\u73b0\u5728\u8bb2\u8bb2\u4f7f\u7528\u8f83\u5c11\u7684PS2\u53d8\u91cf\u3002 \u5f53\u6211\u4eec\u7684\u8f93\u5165\u4e00\u4e2a\u8d85\u8fc7\u4e00\u884c\u7684\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201c\\\u201d\u7b26\u53f7\u5c06\u547d\u4ee4\u5206\u5272\u6210\u51e0\u884c\u6765\u6267\u884c\uff0c\u5f53\u4f7f\u7528\u4e86\u2018\\\u2019\u4e4b\u540e\u5728\u7b2c\u4e8c\u884c\u4f1a\u51fa\u73b0\u4e00\u4e2a\u65b0\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ > libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ > libtiff4-dev cmake libswscale-dev libjasper-dev ; \u7b2c\u4e8c\u884c\u5f00\u5934\u7684\u2019>\u2019\u5c31\u662f\u591a\u884c\u63d0\u793a\u7b26\uff08Continuation Interactive Prompt\uff09\uff0c\u8fd9\u4e2a\u63d0\u793a\u7b26\u5c31\u662f\u7531PS2\u53d8\u91cf\u8bbe\u7f6e\u7684\u3002 sunshine@0101 ~ 11 :09 $ export PS2 = \"continue-> \" sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ continue -> libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ continue -> libtiff4-dev cmake libswscale-dev libjasper-dev ; ==PS2\u53d8\u91cf\u4e5f\u652f\u6301PS1\u4e2d\u7684\u5c5e\u6027\uff08\\h,\\t\u7b49\uff09\u4ee5\u53ca\u5404\u79cd\u989c\u8272\u8bbe\u7f6e\u3002== \u4e09\u3001PS3\uff1aselect\u547d\u4ee4\u4f7f\u7528\u7684\u63d0\u793a\u7b26 \u00b6 # select\u547d\u4ee4\u662fbash shell\u63d0\u4f9b\u7684\u4e00\u79cd\u5faa\u73af,\u8bed\u6cd5\u5982\u4e0b\uff1a select varName in list do command1 command2 .... ...... commandN done # \u540c\u65f6\u4e5f\u53ef\u4ee5\u7ed3\u5408case\u547d\u4ee4\uff1a select varName in list do case $varName in pattern1 ) command1 ;; pattern2 ) command2 ;; pattern1 ) command3 ;; * ) echo \"Error select option 1..3\" ;; esac done \u6709\u5173select\u8be6\u7ec6\u7684\u8bed\u6cd5\u89e3\u91ca\u8bf7\u89c1 select loop \u5148\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff1a #!/bin/bash select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\uff0c\u8fd0\u884c\u4e00\u4e0b: sunshine@0101 ~ 14 :44 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit #? 1 Monday \u53ef\u4ee5\u770b\u5230\u63d0\u793a\u6211\u4eec\u9009\u62e9\u7684\u63d0\u793a\u7b26\u53f7\u662f#?\uff0c\u800c\u8fd9\u4e2a\u63d0\u793a\u7b26\u6b63\u662f\u901a\u8fc7PS3(\u9ed8\u8ba4\u4e3a#?)\u8fd9\u4e2a\u53d8\u91cf\u6765\u8bbe\u7f6e\u7684: #!/bin/bash PS3 = \"Select a day (1-4): \" select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\u4e2d\uff0c\u8fd0\u884c sunshine@0101 ~ 14 :44:34 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit select a day ( 1 -4 ) : 1 Monday ==PS3\u4e0d\u652f\u6301PS1\u53d8\u91cf\u4e2d\u7684\u5404\u79cd\u5c5e\u6027\u4ee5\u53ca\u989c\u8272\u7684\u8bbe\u7f6e\u3002== \u56db\u3001PS4\uff1a\u8c03\u8bd5\u8f93\u51fa\u8ffd\u8e2a \u00b6 PS4\u53d8\u91cf\u5b9a\u4e49\u7684\u662f\u5728\u8c03\u8bd5\u72b6\u6001\u4e0b\u6267\u884cshell\u811a\u672c\u65f6\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 14 :44:34 $ cat >ps4.sh set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ++ echo 'Demo script' Demo script ++ ls -l /etc/ ++ wc -l 244 ++ df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 499G 300G 199G 60 % /home/sunhine [ \u5f53\u4f7f\u7528set -x\u8ffd\u8e2a\u8f93\u51fa\u65f6\uff0c\u8fd9\u91cc\u663e\u793a\u7684\u662f\u9ed8\u8ba4\u7684 \"++\" ] \u901a\u8fc7\u8bbe\u7f6ePS4\u53d8\u91cf\u5c31\u53ef\u4ee5\u6539\u53d8\u9ed8\u8ba4\u7684\u201d++\u201d,\u8f93\u51fa\u4e00\u4e9b\u5bf9\u811a\u672c\u8c03\u8bd5\u6709\u7528\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u7684shell\u811a\u672c\u4e2d\u7684\u53d8\u91cf\uff1a $0:\u811a\u672c\u7684\u540d\u5b57 $LINENO:\u663e\u793a\u5f53\u524d\u547d\u4ee4\u5728\u811a\u672c\u4e2d\u7684\u884c\u6570 unshine@0101 ~ 14 :44:34 $ cat >ps4.sh export PS4 = \" $0 $LINENO +: \" set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ../02.ps4.sh 3 +: echo 'Demo script' Demo script ../02.ps4.sh 4 +: ls -l /etc/ ../02.ps4.sh 4 +: wc -l 244 ../02.ps4.sh 5 +: df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 811G 490G 279G 64 % /home/sunshine [ \u53ef\u4ee5\u770b\u5230\u4e4b\u524d\u7684 \"++\" \u5df2\u7ecf\u53d8\u6210\u4e86 \"../02.ps4.sh 5+:\" ,\u5373 { \u811a\u672c\u540d } . { \u884c\u6570 }] \u53c2\u8003 \u00b6 https://blog.csdn.net/echo42/article/details/29654939","title":"Prompt"},{"location":"bash/prompt/#ps1","text":"","title":"\u4e00\u3001PS1\uff1a\u9ed8\u8ba4\u7684\u4ea4\u4e92\u63d0\u793a\u7b26"},{"location":"bash/prompt/#1-ps1","text":"PS1\u662fLinux\u7ec8\u7aef\u7528\u6237\u7684\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u7528\u6765\u5b9a\u4e49\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u7684\u53c2\u6570\u3002 \u5728\u7ec8\u7aef\u8f93\u5165\u547d\u4ee4 echo $PS1 \uff0c\u53ef\u5f97\u5230\u5f53\u524dPS1\u7684\u5b9a\u4e49\u503c\uff1a $ echo $PS1 \\e [ 36 ; 1m \\u\\e [ 0m@ \\e [ 33 ; 1m \\h\\e [ 0m \\e [ 35 ; 1m \\t\\e [ 0m: \\e [ 31 ; 1m \\w\\e [ 0m \\n $","title":"1. \u4e86\u89e3PS1"},{"location":"bash/prompt/#2","text":"\u5728PS1\u4e2d\u8bbe\u7f6e\u5b57\u7b26\u989c\u8272\u7684\u683c\u5f0f\u4e3a\uff1a \\e[F;Bm \uff1b \u5176\u4e2d\"F\"\u4e3a\u5b57\u4f53\u989c\u8272\uff0c\u7f16\u53f7\u4e3a30-37\uff0c\"B\"\u4e3a\u80cc\u666f\u989c\u8272\uff0c\u7f16\u53f7\u4e3a40-47\uff1b \u5f53\"B\"\u7f16\u53f7\u4e3a0-8\u65f6\u6709\u7279\u6b8a\u542b\u4e49\uff1b \\e\u4e5f\u53ef\u4ee5\u7528\\033\u4ee3\u66ff\uff1b","title":"2. \u989c\u8272\u8bbe\u7f6e\u53c2\u6570"},{"location":"bash/prompt/#3-bashrc","text":"\u7f16\u8f91.bashrc\uff1a vim ~/.bashrc \u5728\u6587\u4ef6\u672b\u5c3e\u52a0\u5165\uff1a export PS1 = \"\\ e [ 36 ; 1 m \\ u \\ e [ 0 m @ \\ e [ 33 ; 1 m \\ h \\ e [ 0 m \\ e [ 35 ; 1 m \\ t \\ e [ 0 m : \\ e [ 31 ; 1 m \\ w \\ e [ 0 m \\ n $ \" \u4fdd\u5b58\u9000\u51fa \u91cd\u65b0\u52a0\u8f7dbash\u914d\u7f6e\u6587\u4ef6: source ~/.bashrc \u5c31\u53ef\u4ee5\u6c38\u4e45\u751f\u6548","title":"3. \u4fee\u6539.bashrc\u6587\u4ef6\uff0c\u6c38\u4e45\u4fdd\u5b58\u547d\u4ee4\u884c\u6837\u5f0f"},{"location":"bash/prompt/#ps2","text":"\u524d\u9762\u6211\u4eec\u8bb2\u4e86\u5f88\u591a\u5173\u4e8ePS1\u53d8\u91cf\u7684\u5c5e\u6027\uff0c\u6211\u4eec\u5728\u5927\u90e8\u5206\u7684\u65f6\u95f4\u90fd\u662f\u548c\u9ed8\u8ba4\u7684\u547d\u4ee4\u884c\u63d0\u793a\u7b26\u6253\u4ea4\u9053\u7684\u3002\u73b0\u5728\u8bb2\u8bb2\u4f7f\u7528\u8f83\u5c11\u7684PS2\u53d8\u91cf\u3002 \u5f53\u6211\u4eec\u7684\u8f93\u5165\u4e00\u4e2a\u8d85\u8fc7\u4e00\u884c\u7684\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u201c\\\u201d\u7b26\u53f7\u5c06\u547d\u4ee4\u5206\u5272\u6210\u51e0\u884c\u6765\u6267\u884c\uff0c\u5f53\u4f7f\u7528\u4e86\u2018\\\u2019\u4e4b\u540e\u5728\u7b2c\u4e8c\u884c\u4f1a\u51fa\u73b0\u4e00\u4e2a\u65b0\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ > libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ > libtiff4-dev cmake libswscale-dev libjasper-dev ; \u7b2c\u4e8c\u884c\u5f00\u5934\u7684\u2019>\u2019\u5c31\u662f\u591a\u884c\u63d0\u793a\u7b26\uff08Continuation Interactive Prompt\uff09\uff0c\u8fd9\u4e2a\u63d0\u793a\u7b26\u5c31\u662f\u7531PS2\u53d8\u91cf\u8bbe\u7f6e\u7684\u3002 sunshine@0101 ~ 11 :09 $ export PS2 = \"continue-> \" sunshine@0101 ~ 11 :09 $ sudo apt-get install build-essential \\ continue -> libgtk2.0-dev libavcodec-dev libavformat-dev libjpeg62-dev \\ continue -> libtiff4-dev cmake libswscale-dev libjasper-dev ; ==PS2\u53d8\u91cf\u4e5f\u652f\u6301PS1\u4e2d\u7684\u5c5e\u6027\uff08\\h,\\t\u7b49\uff09\u4ee5\u53ca\u5404\u79cd\u989c\u8272\u8bbe\u7f6e\u3002==","title":"\u4e8c\u3001PS2\uff1a\u591a\u884c\u4ea4\u4e92\u63d0\u793a\u7b26"},{"location":"bash/prompt/#ps3select","text":"# select\u547d\u4ee4\u662fbash shell\u63d0\u4f9b\u7684\u4e00\u79cd\u5faa\u73af,\u8bed\u6cd5\u5982\u4e0b\uff1a select varName in list do command1 command2 .... ...... commandN done # \u540c\u65f6\u4e5f\u53ef\u4ee5\u7ed3\u5408case\u547d\u4ee4\uff1a select varName in list do case $varName in pattern1 ) command1 ;; pattern2 ) command2 ;; pattern1 ) command3 ;; * ) echo \"Error select option 1..3\" ;; esac done \u6709\u5173select\u8be6\u7ec6\u7684\u8bed\u6cd5\u89e3\u91ca\u8bf7\u89c1 select loop \u5148\u6765\u770b\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff1a #!/bin/bash select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\uff0c\u8fd0\u884c\u4e00\u4e0b: sunshine@0101 ~ 14 :44 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit #? 1 Monday \u53ef\u4ee5\u770b\u5230\u63d0\u793a\u6211\u4eec\u9009\u62e9\u7684\u63d0\u793a\u7b26\u53f7\u662f#?\uff0c\u800c\u8fd9\u4e2a\u63d0\u793a\u7b26\u6b63\u662f\u901a\u8fc7PS3(\u9ed8\u8ba4\u4e3a#?)\u8fd9\u4e2a\u53d8\u91cf\u6765\u8bbe\u7f6e\u7684: #!/bin/bash PS3 = \"Select a day (1-4): \" select i in mon tue wed exit do case $i in mon ) echo \"Monday\" ;; tue ) echo \"Tuesday\" ;; wed ) echo \"Wednesday\" ;; exit ) exit ;; esac done \u4fdd\u5b58\u5230ps3.sh\u4e2d\uff0c\u8fd0\u884c sunshine@0101 ~ 14 :44:34 $ ./ps3.sh 1 ) mon 2 ) tue 3 ) wed 4 ) exit select a day ( 1 -4 ) : 1 Monday ==PS3\u4e0d\u652f\u6301PS1\u53d8\u91cf\u4e2d\u7684\u5404\u79cd\u5c5e\u6027\u4ee5\u53ca\u989c\u8272\u7684\u8bbe\u7f6e\u3002==","title":"\u4e09\u3001PS3\uff1aselect\u547d\u4ee4\u4f7f\u7528\u7684\u63d0\u793a\u7b26"},{"location":"bash/prompt/#ps4","text":"PS4\u53d8\u91cf\u5b9a\u4e49\u7684\u662f\u5728\u8c03\u8bd5\u72b6\u6001\u4e0b\u6267\u884cshell\u811a\u672c\u65f6\u7684\u63d0\u793a\u7b26\uff0c\u5982\u4e0b sunshine@0101 ~ 14 :44:34 $ cat >ps4.sh set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ++ echo 'Demo script' Demo script ++ ls -l /etc/ ++ wc -l 244 ++ df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 499G 300G 199G 60 % /home/sunhine [ \u5f53\u4f7f\u7528set -x\u8ffd\u8e2a\u8f93\u51fa\u65f6\uff0c\u8fd9\u91cc\u663e\u793a\u7684\u662f\u9ed8\u8ba4\u7684 \"++\" ] \u901a\u8fc7\u8bbe\u7f6ePS4\u53d8\u91cf\u5c31\u53ef\u4ee5\u6539\u53d8\u9ed8\u8ba4\u7684\u201d++\u201d,\u8f93\u51fa\u4e00\u4e9b\u5bf9\u811a\u672c\u8c03\u8bd5\u6709\u7528\u7684\u4fe1\u606f\u3002\u4e0b\u9762\u7684shell\u811a\u672c\u4e2d\u7684\u53d8\u91cf\uff1a $0:\u811a\u672c\u7684\u540d\u5b57 $LINENO:\u663e\u793a\u5f53\u524d\u547d\u4ee4\u5728\u811a\u672c\u4e2d\u7684\u884c\u6570 unshine@0101 ~ 14 :44:34 $ cat >ps4.sh export PS4 = \" $0 $LINENO +: \" set -x echo \"Demo script\" ls -l | wc -l df -h ./ sunshine@0101 ~ 14 :44:34 $ ./ps4.sh ../02.ps4.sh 3 +: echo 'Demo script' Demo script ../02.ps4.sh 4 +: ls -l /etc/ ../02.ps4.sh 4 +: wc -l 244 ../02.ps4.sh 5 +: df -h ./ Filesystem Size Used Avail Use% Mounted on 10 .0.0.3:/export/home/sunshine 811G 490G 279G 64 % /home/sunshine [ \u53ef\u4ee5\u770b\u5230\u4e4b\u524d\u7684 \"++\" \u5df2\u7ecf\u53d8\u6210\u4e86 \"../02.ps4.sh 5+:\" ,\u5373 { \u811a\u672c\u540d } . { \u884c\u6570 }]","title":"\u56db\u3001PS4\uff1a\u8c03\u8bd5\u8f93\u51fa\u8ffd\u8e2a"},{"location":"bash/prompt/#_1","text":"https://blog.csdn.net/echo42/article/details/29654939","title":"\u53c2\u8003"},{"location":"mkdocs/","text":"MkDocs Summary \u00b6 Document \u6587\u6863 \u00b6 \u672c\u6587\u53c2\u8003\u6765\u6e90 mkdocs mkdocs-material python markdown pymdownx Introduction \u7b80\u4ecb \u00b6 \u7b26\u5408google material ui\u89c4\u8303\u7684\u9759\u6001\u6587\u6863\u7f51\u7ad9\u751f\u6210\u5668\uff0c\u4f7f\u7528 markdown \u8fdb\u884c\u6587\u6863\u4e66\u5199\u3002 mkdocs Python \u7f16\u5199\u7684 markdown \u89e3\u91ca\u5668\u3001\u7f16\u8bd1\u5668\uff0c\u5e26\u6709\u672c\u5730 cli \u5de5\u5177 \u81ea\u5e26\u57fa\u4e8e Tornado \u7684\u5c0f\u578b http \u670d\u52a1\uff0c\u7528\u4e8e\u672c\u5730\u8c03\u8bd5 \u5185\u7f6e\u4e00\u952e\u5f0f\u53d1\u5e03\u81f3 GitHub Pages \u5185\u7f6e mkdocs \u98ce\u683c\u3001readthedocs \u98ce\u683c\u7684\u4e3b\u9898\uff0c\u5e76\u652f\u6301\u81ea\u5b9a\u4e49\u4e3b\u9898 \u652f\u6301\u8c03\u7528 Python \u6a21\u5757\u5b9e\u73b0\u8bed\u6cd5\u53ca\u6e32\u67d3\u7684\u6269\u5c55 mkdocs-material Python \u6a21\u5757\uff0c\u7b26\u5408 google material ui \u89c4\u8303\u7684 mkdocs \u81ea\u5b9a\u4e49\u4e3b\u9898 \u9488\u5bf9\u7279\u5b9a\u8bed\u6cd5\u3001\u529f\u80fd\u505a\u4e86\u6e32\u67d3\u4f18\u5316 \u6839\u636e\u5ba2\u6237\u7aef\u6d4f\u89c8\u5668\u9875\u9762\u5c3a\u5bf8\u81ea\u52a8\u7f29\u653e\uff0c\u5bf9 PC\u3001\u79fb\u52a8\u8bbe\u5907\u90fd\u53cb\u597d \u4e30\u5bcc\u7684\u9875\u9762\u914d\u8272\uff0c\u591a\u8fbe19\u79cd\u4e3b\u4f53\u914d\u8272\u548c16\u79cd\u60ac\u505c\u94fe\u63a5\u6587\u5b57\u914d\u8272 Install \u5b89\u88c5 \u00b6 \u4e2a\u4eba\u5b89\u88c5\u7684\u73af\u5883\uff1a Python 3.7.2 pip3 \u4f9d\u8d56\u7684Python\u5305\uff1a Package Module Version mkdocs mkdocs 1.0.4 mkdocs-material material 4.0.1 Markdown markdown 3.0.1 pymdown-extensions pymdownx 6.0 \u4f7f\u7528pip\u5b89\u88c5Python\u5305 \u4f7f\u7528 pip \u5b89\u88c5\uff1a pip install mkdocs==1.0.4 mkdocs-material==4.0.1 Markdown=3.0.1 pymdown-extensions==6.0 \u5982\u679c\u4e0b\u8f7d\u6162\uff0c\u53ef\u4ee5\u66f4\u6362\u5b89\u88c5\u6e90 pip install --trusted-host pypi.douban.com -i http://pypi.douban.com/simple/ mkdocs==1.0.4 mkdocs-material==4.0.1 Markdown=3.0.1 pymdown-extensions==6.0 Usage \u7528\u6cd5 \u00b6 mkdocs \u67094\u4e2a\u547d\u4ee4\uff1anew, serve, build, gh-deploy \u258dmkdocs new \u00b6 \u65b0\u5efa\u4e00\u4e2a MkDocs \u9879\u76ee \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 MkDocs \u9879\u76ee\uff1a mkdocs new my_project \u9879\u76ee\u7684\u6587\u4ef6\u7ed3\u6784\uff1a - my_project/ - mkdocks.yml - docs/ - index.md mkdocs.yml \u662f\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c docs/ \u6587\u4ef6\u5939\u7528\u6765\u5b58\u653e\u4f60\u7684\u6587\u6863\u6e90\u6587\u4ef6\u3002 \u258dmkdocs serve \u00b6 \u8fd0\u884c\u5185\u7f6e\u5f00\u53d1\u670d\u52a1\u5668 \u8fdb\u5165 my_project \u76ee\u5f55\u542f\u52a8 MkDocs \u670d\u52a1\uff1a cd my_project mkdocs serve Attention \u5982\u679c\u4e0d\u5728 my_project \u76ee\u5f55\u4e2d\uff0c\u4f1a\u63d0\u793a Config file 'mkdocs.yml' does not exist. \u8fd9\u65f6\uff0cmkdocs\u5185\u7f6e\u7684\u670d\u52a1\u5668\u5df2\u7ecf\u542f\u52a8\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00 http://127.0.0.1:8000/ \u53ef\u4ee5\u67e5\u770b\u6548\u679c\u3002 \u258dmkdocs build \u00b6 \u751f\u6210 MkDocs \u6587\u6863 \u901a\u8fc7 mkdocs build \u7f16\u8bd1\u51fa html \u5e76\u624b\u52a8\u540c\u6b65\u81f3 http server \u7684\u6839\u76ee\u5f55 \u5728 git \u6839\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4\uff1a mkdocs build \u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\u53ef\u4ee5\u770b\u5230 site/ \u76ee\u5f55\u3002 \u5c06 site/ \u76ee\u5f55\u91cc\u7684\u6240\u6709\u4e1c\u897f\u624b\u52a8\u540c\u6b65\u81f3\u81ea\u5df1\u7684 http server \u7684\u6839\u76ee\u5f55\u3002 \u258dmkdocs gh-deploy \u00b6 \u628a\u6587\u6863\u53d1\u5e03\u5230 GitHub Pages \u2170. \u5728 GitHub \u521b\u5efa\u4e00\u4e2a repo \u2171. \u5c06 repo \u540c\u6b65\u5230\u672c\u5730 \u2172. \u5c06 my_project \u6839\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u4e1c\u897f\u79fb\u5230\u672c\u5730 git \u76ee\u5f55\u4e0b \u2173. \u5728\u672c\u5730 git \u76ee\u5f55\u4e0b\u6267\u884c mkdocs gh-deploy \u53d1\u5e03\u5230 GitHub Pages Configuration \u914d\u7f6e \u00b6 \u5728\u4e3b\u914d\u7f6e\u6587\u4ef6 mkdocs.yml \u91cc\u4fee\u6539 MkDocs \u914d\u7f6e\u3002 \u67e5\u770b\u5b8c\u6574\u7684 mkdocs.yml \u914d\u7f6e Theme \u4e3b\u9898 \u00b6 theme : name : material Navigation \u5bfc\u822a \u00b6 nav : - Home : index.md # - Menu: # - SubMenu1: menu/sub_menu_1.md # - SubMenu2: # - SubMenu3: menu/sub_menu_3.md Extensions \u6269\u5c55 \u00b6 markdown_extensions : - admonition - codehilite : guess_lang : false linenums : false - toc : permalink : true - footnotes - meta - def_list - pymdownx.arithmatex - pymdownx.betterem : smart_enable : all - pymdownx.caret - pymdownx.critic - pymdownx.details - pymdownx.emoji : emoji_generator : !!python/name:pymdownx.emoji.to_png - pymdownx.inlinehilite - pymdownx.magiclink - pymdownx.mark - pymdownx.smartsymbols - pymdownx.superfences - pymdownx.tasklist - pymdownx.tilde","title":"MkDocs"},{"location":"mkdocs/#","text":"","title":"MkDocs Summary"},{"location":"mkdocs/#document","text":"\u672c\u6587\u53c2\u8003\u6765\u6e90 mkdocs mkdocs-material python markdown pymdownx","title":"Document \u6587\u6863"},{"location":"mkdocs/#introduction","text":"\u7b26\u5408google material ui\u89c4\u8303\u7684\u9759\u6001\u6587\u6863\u7f51\u7ad9\u751f\u6210\u5668\uff0c\u4f7f\u7528 markdown \u8fdb\u884c\u6587\u6863\u4e66\u5199\u3002","title":"Introduction \u7b80\u4ecb"},{"location":"mkdocs/#install","text":"\u4e2a\u4eba\u5b89\u88c5\u7684\u73af\u5883\uff1a Python 3.7.2 pip3 \u4f9d\u8d56\u7684Python\u5305\uff1a Package Module Version mkdocs mkdocs 1.0.4 mkdocs-material material 4.0.1 Markdown markdown 3.0.1 pymdown-extensions pymdownx 6.0 \u4f7f\u7528pip\u5b89\u88c5Python\u5305 \u4f7f\u7528 pip \u5b89\u88c5\uff1a pip install mkdocs==1.0.4 mkdocs-material==4.0.1 Markdown=3.0.1 pymdown-extensions==6.0 \u5982\u679c\u4e0b\u8f7d\u6162\uff0c\u53ef\u4ee5\u66f4\u6362\u5b89\u88c5\u6e90 pip install --trusted-host pypi.douban.com -i http://pypi.douban.com/simple/ mkdocs==1.0.4 mkdocs-material==4.0.1 Markdown=3.0.1 pymdown-extensions==6.0","title":"Install \u5b89\u88c5"},{"location":"mkdocs/#usage","text":"mkdocs \u67094\u4e2a\u547d\u4ee4\uff1anew, serve, build, gh-deploy","title":"Usage \u7528\u6cd5"},{"location":"mkdocs/#mkdocs-new","text":"\u65b0\u5efa\u4e00\u4e2a MkDocs \u9879\u76ee \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 MkDocs \u9879\u76ee\uff1a mkdocs new my_project \u9879\u76ee\u7684\u6587\u4ef6\u7ed3\u6784\uff1a - my_project/ - mkdocks.yml - docs/ - index.md mkdocs.yml \u662f\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c docs/ \u6587\u4ef6\u5939\u7528\u6765\u5b58\u653e\u4f60\u7684\u6587\u6863\u6e90\u6587\u4ef6\u3002","title":"mkdocs new"},{"location":"mkdocs/#mkdocs-serve","text":"\u8fd0\u884c\u5185\u7f6e\u5f00\u53d1\u670d\u52a1\u5668 \u8fdb\u5165 my_project \u76ee\u5f55\u542f\u52a8 MkDocs \u670d\u52a1\uff1a cd my_project mkdocs serve Attention \u5982\u679c\u4e0d\u5728 my_project \u76ee\u5f55\u4e2d\uff0c\u4f1a\u63d0\u793a Config file 'mkdocs.yml' does not exist. \u8fd9\u65f6\uff0cmkdocs\u5185\u7f6e\u7684\u670d\u52a1\u5668\u5df2\u7ecf\u542f\u52a8\uff0c\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00 http://127.0.0.1:8000/ \u53ef\u4ee5\u67e5\u770b\u6548\u679c\u3002","title":"mkdocs serve"},{"location":"mkdocs/#mkdocs-build","text":"\u751f\u6210 MkDocs \u6587\u6863 \u901a\u8fc7 mkdocs build \u7f16\u8bd1\u51fa html \u5e76\u624b\u52a8\u540c\u6b65\u81f3 http server \u7684\u6839\u76ee\u5f55 \u5728 git \u6839\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4\uff1a mkdocs build \u547d\u4ee4\u6267\u884c\u5b8c\u6bd5\u540e\u53ef\u4ee5\u770b\u5230 site/ \u76ee\u5f55\u3002 \u5c06 site/ \u76ee\u5f55\u91cc\u7684\u6240\u6709\u4e1c\u897f\u624b\u52a8\u540c\u6b65\u81f3\u81ea\u5df1\u7684 http server \u7684\u6839\u76ee\u5f55\u3002","title":"mkdocs build"},{"location":"mkdocs/#mkdocs-gh-deploy","text":"\u628a\u6587\u6863\u53d1\u5e03\u5230 GitHub Pages \u2170. \u5728 GitHub \u521b\u5efa\u4e00\u4e2a repo \u2171. \u5c06 repo \u540c\u6b65\u5230\u672c\u5730 \u2172. \u5c06 my_project \u6839\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u4e1c\u897f\u79fb\u5230\u672c\u5730 git \u76ee\u5f55\u4e0b \u2173. \u5728\u672c\u5730 git \u76ee\u5f55\u4e0b\u6267\u884c mkdocs gh-deploy \u53d1\u5e03\u5230 GitHub Pages","title":"mkdocs gh-deploy"},{"location":"mkdocs/#configuration","text":"\u5728\u4e3b\u914d\u7f6e\u6587\u4ef6 mkdocs.yml \u91cc\u4fee\u6539 MkDocs \u914d\u7f6e\u3002 \u67e5\u770b\u5b8c\u6574\u7684 mkdocs.yml \u914d\u7f6e","title":"Configuration \u914d\u7f6e"},{"location":"mkdocs/#theme","text":"theme : name : material","title":"Theme \u4e3b\u9898"},{"location":"mkdocs/#navigation","text":"nav : - Home : index.md # - Menu: # - SubMenu1: menu/sub_menu_1.md # - SubMenu2: # - SubMenu3: menu/sub_menu_3.md","title":"Navigation \u5bfc\u822a"},{"location":"mkdocs/#extensions","text":"markdown_extensions : - admonition - codehilite : guess_lang : false linenums : false - toc : permalink : true - footnotes - meta - def_list - pymdownx.arithmatex - pymdownx.betterem : smart_enable : all - pymdownx.caret - pymdownx.critic - pymdownx.details - pymdownx.emoji : emoji_generator : !!python/name:pymdownx.emoji.to_png - pymdownx.inlinehilite - pymdownx.magiclink - pymdownx.mark - pymdownx.smartsymbols - pymdownx.superfences - pymdownx.tasklist - pymdownx.tilde","title":"Extensions \u6269\u5c55"},{"location":"mkdocs/mkdocs_yml/","text":"mkdocs.yml \u00b6","title":"mkdocs.yml"},{"location":"mkdocs/mkdocs_yml/#","text":"","title":"mkdocs.yml"},{"location":"python/","text":"1\u3001\u3010\u547d\u540d\u7a7a\u95f4\u3011 \uff08\u51fd\u6570\u5185\uff09\u5c40\u90e8\u53d8\u91cf\u627e\u4e0d\u5230\u7684\u65f6\u5019\uff0c\u4f1a\u5411\u5916\uff08\u51fd\u6570\u5916\uff09\u627e\uff1b \u5199\u64cd\u4f5c\u4f1a\u5c4f\u853d\u201c\u5411\u5916\u5bfb\u627e\u53d8\u91cf\u201d\u7684\u64cd\u4f5c\uff0c\u8ba9\u53d8\u91cf\u53ea\u5728\u5185\u90e8\u5bfb\u627e\uff0c\u5e76\u4e14\u8fd9\u662f\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u51b3\u5b9a\u7684\uff1b 2\u3001\u3010\u5185\u5b58\u56de\u6536\u3011 \u5f15\u7528\u8ba1\u6570\u4e3a0\u65f6\uff0c\u7acb\u5373\u56de\u6536\uff1b \u5faa\u73af\u5f15\u7528\u7684\u5371\u5bb3\uff08\u5e76\u975e\u65e0\u6cd5\u56de\u6536\u5faa\u73af\u5f15\u7528\u7684\u5bf9\u8c61\uff09\uff1a\u65e0\u6cd5\u7acb\u5373\u56de\u6536\uff0c\u4f1a\u5ef6\u8fdf\u5230gc\u65f6\u624d\u4f1a\u6536\uff1b\u589e\u52a0gc\u7684\u9891\u7387\uff1b\u964d\u4f4egc\u7684\u6548\u7387\uff1b\u5185\u5b58\u5360\u7528\u7387\u6ce2\u52a8\u5927\uff1b \u89e3\u51b3\u529e\u6cd5\uff1a\u5f31\u5f15\u7528\uff1b\u4e0d\u8981\u4f7f\u7528method\u505a\u56de\u8c03\uff1b 3\u3001unbound method \u548c bound method A. dict [\"foo\"] \u662f function\uff1b A.foo \u662f unbound method\uff1b a.foo \u662f bound method\uff1b A.foo.im_self is None A.foo.im_func is a.foo.im_func is A. dict [\"foo\"] A.foo.im_class is a.foo.im_class is A \"im_\"\u662f\"instance_method_\"\u7684\u7f29\u5199\uff1b unbound method \u548c bound method \u51e0\u4e4e\u90fd\u662f\u4e00\u6b21\u6027\u7684\u4e34\u65f6\u5bf9\u8c61\uff1b 4\u3001classmethod \u662f bound method\uff0c\u5b83\u7684im_self\u662f\u7c7b\u672c\u8eab 5\u3001staticmethod \u662f function 6\u3001int str\u8fd9\u4e00\u7c7bbuilt-in\u7684\u7c7b\u578b\uff0c+\u64cd\u4f5c\u66f4\u5feb\uff1b\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u7c7b\u578b\uff0c__add__\u64cd\u4f5c\u66f4\u5feb 7\u3001property\u662fclass 8\u3001super\u662f\u4e00\u4e2abuilt-in class \u901a\u8fc7__mro__\u5b9e\u73b0 __mro__\u5373\u662fmethod resolution order C++\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\u9700\u8981\u8c03\u7528\u7684\u51fd\u6570\uff1b Python\u5728\u8fd0\u884c\u65f6\u786e\u5b9a\uff1b \u591a\u7ee7\u627f\u7684\u65f6\u5019mro\u7684\u987a\u5e8f\u662f\u62d3\u6251\u6392\u5e8f\uff1b 9\u3001\u5b57\u7b26\u4e32\u62fc\u63a5 \u6700\u5feb\uff1ajoin\uff0c\u4e0d\u4ea7\u751f\u4e34\u65f6\u7684\u65b0\u7684str\u5bf9\u8c61 \"%s\"\u683c\u5f0f\u5316\u5b57\u7b26\u4e32\u9700\u8981\u5206\u6790\u683c\u5f0f\uff0c\u4e5f\u4e0d\u591f\u5feb 10\u3001 \u51cf\u5c11\u5728\u6a21\u5757\u5185import\u5176\u4ed6\u6a21\u5757\uff08\u542f\u52a8\u6162\uff09 \u51cf\u5c11\u51fd\u6570\u8c03\u7528\u5c42\u6570\uff08\u51fd\u6570\u8c03\u7528\u4e5f\u6709\u5f00\u9500\uff09 \u51cf\u5c11\u5c5e\u6027\u8bbf\u95ee\uff08bound method\u662f\u4e00\u4e2a\u65b0\u7684\u4e34\u65f6\u5bf9\u8c61\uff0c\u53ef\u4ee5cache\u4e0b\u6765\uff09 11\u3001\u4e3a\u4ec0\u4e48\u4f7f\u7528\u811a\u672c\u8bed\u8a00 hotfix \u65b9\u4fbf\u70ed\u66f4 \u53ef\u62d3\u5c55\u6027 \u53ef\u8bfb\u6027 \u53ef\u7ef4\u62a4\u6027 \u63a5\u8fd1\u81ea\u7136\u8bed\u8a00 crash \u4e0d\u4f1a\u95ea\u9000 \u5b89\u5168\u6027 python\u4fee\u6539\u6570\u503c\uff0c\u662f\u6539\u53d8\u4e86\u5f15\u7528\u5173\u7cfb\uff08hp\u5f15\u7528\u7684int\u5bf9\u8c61\u6539\u53d8\u4e86\uff09\uff0c\u4fee\u6539\u7684\u662f\u5f15\u7528\u7684\u5730\u5740\uff0c\u800c\u975e\u4fee\u6539\u5730\u5740\u4e0a\u7684\u503c 12\u3001\u7a7a\u7684tuple\u662f\u5355\u4f8b 13\u3001\u5783\u573e\u56de\u6536 \u8861\u91cf\u6807\u51c6\uff1a\u8fd0\u884c\u65f6\u95f4\u3001\u5361\u987f\u3001\u7a7a\u95f4\u7684\u5229\u7528\uff08\u51cf\u5c11\u5185\u5b58\u788e\u7247\uff09\u3001\u7a7a\u95f4\u548c\u65f6\u95f4\u7684\u5c40\u90e8\u6027 six.py type.__new__ super __mro_entries__ metaclass property tp_getset / tp_descr_get / tp_descr_set tp_getattr / tp_setattr / tp_getattro / tp_setattro \u54c8\u5e0c\u51b2\u7a81 \u8fd0\u884c\u65f6\u7684\u5b9e\u4f8b\u53d8\u91cf\u5b58\u5728\u54ea\u91cc\uff1f \u5185\u5b58\u7ba1\u7406 GC / \u5185\u5b58\u6c60 / slot / \u5f31\u5f15\u7528 hotfix find_module / load_module (sys.meta_path / sys.path_hooks ) ihooks.ModuleLoader import / package / reload \u534f\u7a0b async await asyncio loop task","title":"Home"},{"location":"python/decorator/","text":"Decorator \u88c5\u9970\u5668 \u00b6 \u88c5\u9970\u5668\u662f\u4e00\u4e2a\u5f88\u8457\u540d\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7ecf\u5e38\u88ab\u7528\u4e8e\u6709\u5207\u9762\u9700\u6c42\u7684\u573a\u666f\uff0c\u8f83\u4e3a\u7ecf\u5178\u7684\u6709\u63d2\u5165\u65e5\u5fd7\u3001\u6027\u80fd\u6d4b\u8bd5\u3001\u4e8b\u52a1\u5904\u7406\u7b49\u3002 \u88c5\u9970\u5668\u662f\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u7684\u7edd\u4f73\u8bbe\u8ba1\uff0c\u6709\u4e86\u88c5\u9970\u5668\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u62bd\u79bb\u51fa\u5927\u91cf\u51fd\u6570\u4e2d\u4e0e\u51fd\u6570\u529f\u80fd\u672c\u8eab\u65e0\u5173\u7684\u96f7\u540c\u4ee3\u7801\u5e76\u7ee7\u7eed\u91cd\u7528\u3002 \u6982\u62ec\u7684\u8bb2\uff0c\u88c5\u9970\u5668\u7684\u4f5c\u7528\u5c31\u662f\u4e3a\u5df2\u7ecf\u5b58\u5728\u7684\u5bf9\u8c61 \u6dfb\u52a0\u989d\u5916\u7684\u529f\u80fd \u3002 \u5047\u8bbe\u5df2\u6709\u4e00\u4e2a\u51fd\u6570\uff1a def foo (): print \"foo\" \u73b0\u5728\u9700\u8981\u7edf\u8ba1\u51fd\u6570\u8017\u65f6\uff1a import time import functools def count_cost ( func ): @functools.wraps ( func ) def decorator (): begin = time . time () result = func () end = time . time () print \"count_cost %s \" % ( end - begin ) return result return decorator \u90a3\u4e48\uff0c @count_cost def foo (): print \"foo\" \u7b49\u4ef7\u4e8e def foo (): print \"foo\" foo = count_cost ( foo ) \u5982\u679c\u60f3\u8981\u652f\u6301foo\u51fd\u6570\u53ef\u4ee5\u4efb\u610f\u4f20\u5165\u53c2\u6570\uff1a import time import functools def count_cost ( func ): @functools.wraps ( func ) def decorator ( * args , ** kwargs ): begin = time . time () result = func () end = time . time () print \"count_cost %s \" % ( end - begin ) return result return decorator @count_cost def foo ( param ): print \"foo param: %s \" % param \u5982\u679c\u60f3\u8981\u652f\u6301\u88c5\u9970\u5668\u53ef\u4ee5\u4efb\u610f\u4f20\u5165\u53c2\u6570\uff08\u4f8b\u5982\uff1a\u51fd\u6570\u6267\u884c\u65f6\u95f4\u8d85\u8fc7n\u79d2\u7684\u624d\u6253\u5370\uff09\uff1a import time import functools def count_cost ( seconds ): def outer_decorator ( func ): @functools.wraps ( func ) def decorator ( * args , ** kwargs ): begin = time . time () result = func () end = time . time () if end - begin > seconds : print \"count_cost %s \" % ( end - begin ) return result return decorator return outer_decorator # \u51fd\u6570\u6267\u884c\u65f6\u95f4\u8d85\u8fc75\u79d2\u624d\u6253\u5370 @count_cost ( 5 ) def foo ( param ): time . sleep ( param ) print \"foo param: %s \" % param","title":"Decorator"},{"location":"python/decorator/#","text":"\u88c5\u9970\u5668\u662f\u4e00\u4e2a\u5f88\u8457\u540d\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u7ecf\u5e38\u88ab\u7528\u4e8e\u6709\u5207\u9762\u9700\u6c42\u7684\u573a\u666f\uff0c\u8f83\u4e3a\u7ecf\u5178\u7684\u6709\u63d2\u5165\u65e5\u5fd7\u3001\u6027\u80fd\u6d4b\u8bd5\u3001\u4e8b\u52a1\u5904\u7406\u7b49\u3002 \u88c5\u9970\u5668\u662f\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u7684\u7edd\u4f73\u8bbe\u8ba1\uff0c\u6709\u4e86\u88c5\u9970\u5668\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u62bd\u79bb\u51fa\u5927\u91cf\u51fd\u6570\u4e2d\u4e0e\u51fd\u6570\u529f\u80fd\u672c\u8eab\u65e0\u5173\u7684\u96f7\u540c\u4ee3\u7801\u5e76\u7ee7\u7eed\u91cd\u7528\u3002 \u6982\u62ec\u7684\u8bb2\uff0c\u88c5\u9970\u5668\u7684\u4f5c\u7528\u5c31\u662f\u4e3a\u5df2\u7ecf\u5b58\u5728\u7684\u5bf9\u8c61 \u6dfb\u52a0\u989d\u5916\u7684\u529f\u80fd \u3002 \u5047\u8bbe\u5df2\u6709\u4e00\u4e2a\u51fd\u6570\uff1a def foo (): print \"foo\" \u73b0\u5728\u9700\u8981\u7edf\u8ba1\u51fd\u6570\u8017\u65f6\uff1a import time import functools def count_cost ( func ): @functools.wraps ( func ) def decorator (): begin = time . time () result = func () end = time . time () print \"count_cost %s \" % ( end - begin ) return result return decorator \u90a3\u4e48\uff0c @count_cost def foo (): print \"foo\" \u7b49\u4ef7\u4e8e def foo (): print \"foo\" foo = count_cost ( foo ) \u5982\u679c\u60f3\u8981\u652f\u6301foo\u51fd\u6570\u53ef\u4ee5\u4efb\u610f\u4f20\u5165\u53c2\u6570\uff1a import time import functools def count_cost ( func ): @functools.wraps ( func ) def decorator ( * args , ** kwargs ): begin = time . time () result = func () end = time . time () print \"count_cost %s \" % ( end - begin ) return result return decorator @count_cost def foo ( param ): print \"foo param: %s \" % param \u5982\u679c\u60f3\u8981\u652f\u6301\u88c5\u9970\u5668\u53ef\u4ee5\u4efb\u610f\u4f20\u5165\u53c2\u6570\uff08\u4f8b\u5982\uff1a\u51fd\u6570\u6267\u884c\u65f6\u95f4\u8d85\u8fc7n\u79d2\u7684\u624d\u6253\u5370\uff09\uff1a import time import functools def count_cost ( seconds ): def outer_decorator ( func ): @functools.wraps ( func ) def decorator ( * args , ** kwargs ): begin = time . time () result = func () end = time . time () if end - begin > seconds : print \"count_cost %s \" % ( end - begin ) return result return decorator return outer_decorator # \u51fd\u6570\u6267\u884c\u65f6\u95f4\u8d85\u8fc75\u79d2\u624d\u6253\u5370 @count_cost ( 5 ) def foo ( param ): time . sleep ( param ) print \"foo param: %s \" % param","title":"Decorator \u88c5\u9970\u5668"},{"location":"python/gc/","text":"GC \u5783\u573e\u56de\u6536 \u00b6 Python\u7684GC\u673a\u5236\uff0c\u4e3b\u8981\u662f \u5f15\u7528\u8ba1\u6570 + \u6807\u8bb0\u6e05\u9664 + \u5206\u4ee3\u56de\u6536 \u5f15\u7528\u8ba1\u6570 \u00b6 \u5f15\u7528\u8ba1\u6570\u662f\u4e00\u79cd\u5185\u5b58\u7ba1\u7406\u6280\u672f","title":"\u5783\u573e\u56de\u6536GC"},{"location":"python/gc/#","text":"Python\u7684GC\u673a\u5236\uff0c\u4e3b\u8981\u662f \u5f15\u7528\u8ba1\u6570 + \u6807\u8bb0\u6e05\u9664 + \u5206\u4ee3\u56de\u6536","title":"GC \u5783\u573e\u56de\u6536"},{"location":"python/gc/#_1","text":"\u5f15\u7528\u8ba1\u6570\u662f\u4e00\u79cd\u5185\u5b58\u7ba1\u7406\u6280\u672f","title":"\u5f15\u7528\u8ba1\u6570"},{"location":"python/metaclass/","text":"metaclass \u00b6 class A ( object ): def __new__ ( cls , * args , ** kwargs ): print \"__new__()\" return super ( A , cls ) . __new__ ( cls , * args , ** kwargs ) def __init__ ( self ): print \"__init__()\" return super ( A , self ) . __init__ () A () # __new__() # __init__() # <__main__.A object at 0x109f5db10> \u5148\u6267\u884c__new__","title":"Metaclass"},{"location":"python/metaclass/#","text":"class A ( object ): def __new__ ( cls , * args , ** kwargs ): print \"__new__()\" return super ( A , cls ) . __new__ ( cls , * args , ** kwargs ) def __init__ ( self ): print \"__init__()\" return super ( A , self ) . __init__ () A () # __new__() # __init__() # <__main__.A object at 0x109f5db10> \u5148\u6267\u884c__new__","title":"metaclass"},{"location":"python/pip/","text":"pip \u00b6 Install -- \u5b89\u88c5 \u00b6 curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py python get-pip.py","title":"pip"},{"location":"python/pip/#pip","text":"","title":"pip"},{"location":"python/pip/#install","text":"curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py python get-pip.py","title":"Install -- \u5b89\u88c5"},{"location":"python/strange_traps_in_python/","text":"Python\u4e2d\u7684\u9677\u9631\u5408\u96c6 \u00b6 \u672c\u6587\u4f1a\u5217\u4e3e\u51fa\uff0c\u5728\u4f7f\u7528Python\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5bb9\u6613\u8e29\u5230\u7684\u5751\uff0c\u5e76\u7ed3\u5408CPython\u6e90\u7801\uff0c\u5c1d\u8bd5\u89e3\u91ca\u5b83\u7684\u539f\u7406\u548c\u907f\u5751\u65b9\u6cd5\u3002 \u4e00\u76f4\u5b58\u5728\u7684\u9677\u9631 \u00b6 \u5faa\u73af\u5f15\u7528\u592a\u591a\u5bfc\u81f4\u51fa\u73b0\u5361\u987f \u00b6 \u867d\u7136Python\u4e2d\u6709 \u6807\u8bb0-\u6e05\u9664 \u673a\u5236\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\uff0c\u4f46\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u53d1\u751f\u5728 gc.collect() \u4e2d\u7684\uff0c\u5b83\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u73b0\u5361\u987f\u3002 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cPython\u5bf9\u8c61\u4f1a\u5728\u5b83\u7684\u5f15\u7528\u8ba1\u6570\u5f52\u96f6\u65f6\u9a6c\u4e0a\u88ab\u56de\u6536\uff0c\u5927\u91cf\u7684\u56de\u6536\u64cd\u4f5c\u4f1a\u5206\u6563\u5728\u6574\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\uff0c\u4e0d\u4f1a\u51fa\u73b0\u5361\u987f\u3002 \u4f46\u662f\uff0c\u5982\u679c\u51fa\u73b0\u5faa\u73af\u5f15\u7528\uff0cPython\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u59cb\u7ec8\u4e0d\u4e3a0\uff0cPython\u865a\u62df\u673a\u7684\u5185\u5b58\u6301\u7eed\u589e\u52a0\uff0c\u76f4\u5230\u8fbe\u5230\u4e86\u67d0\u4e2a\u9608\u503c\uff0c\u81ea\u52a8\u89e6\u53d1\u4e86 gc.collect() \u3002 \u5927\u91cf\u7684\u5faa\u73af\u5f15\u7528\uff0c\u4f1a\u5bfc\u81f4\u5185\u5b58\u5f88\u5feb\u8fbe\u5230\u9608\u503c\uff0c\u9891\u7e41\u89e6\u53d1 gc.collect() \uff0c\u5bfc\u81f4\u5361\u987f\u3002 \u56e0\u6b64\uff0c\u8981\u6ce8\u610f\u907f\u514d\u4ea7\u751f\u5faa\u73af\u5f15\u7528\uff0c\u4e0d\u8981\u592a\u8fc7\u4f9d\u8d56 \u6807\u8bb0-\u6e05\u9664 \u7684gc\u56de\u6536\u673a\u5236\u3002 Python-3.4 \u4e4b\u524d\u7684\u9677\u9631 \u00b6 \u5faa\u73af\u5f15\u7528\u65e0\u6cd5\u88ab\u56de\u6536 \u00b6 \u5982\u679c\u5faa\u73af\u5f15\u7528\u4e2d\uff0c\u6709\u4efb\u610f\u4e00\u4e2a\u5bf9\u8c61\u5b9e\u73b0\u4e86\u9b54\u672f\u65b9\u6cd5 __del__ \uff0c\u90a3\u4e48\u5b83\u6240\u5728\u7684\u6574\u4e2a\u73af\u90fd\u65e0\u6cd5\u88abgc\u56de\u6536\u3002 class A ( object ): def __del__ ( self ): # \u91cd\u5199\u4e86\u9b54\u672f\u65b9\u6cd5 __del__ pass a = A () a . a = a # \u4ea7\u751f\u4e86\u5faa\u73af\u5f15\u7528 del a # \u56e0\u4e3a\u4ea7\u751f\u4e86\u5faa\u73af\u5f15\u7528\uff0c\u5f15\u7528\u8ba1\u6570\u4e0d\u4e3a0\uff0c\u53ea\u80fd\u7b49\u5f85gc import gc print ( gc . garbage ) gc . collect () print ( gc . garbage ) # gc\u68c0\u6d4b\u5230\u5faa\u73af\u5f15\u7528\uff0c\u4f46\u662f\u65e0\u6cd5\u56de\u6536\uff0c\u4f1a\u628a\u5b83\u4eec\u653e\u5165gc.garbage\u4e2d \u56e0\u4e3a\u5bf9\u4e8e\u91cd\u5199\u4e86 __del__ \u65b9\u6cd5\u7684\u5bf9\u8c61\uff0cgc\u8ba4\u4e3a\u4f60***\u53ef\u80fd***\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u91ca\u653e\u987a\u5e8f\uff0c\u800cgc\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e2a\u987a\u5e8f\u3002 \u4f8b\u5982\uff1a\u73b0\u5728\u6709\u4e00\u4e2a\u5faa\u73af\u5f15\u7528 a=>b=>c=>a\uff0c\u6240\u4ee5gc\u4f1a\u628a\u8fd9\u6837\u7684\u5bf9\u8c61\uff08\u4ee5\u53ca\u5b83\u6240\u5728\u7684\u73af\uff09\u653e\u5165gc.garbage\u4e2d\uff0c\u8ba9\u4f60\u81ea\u5df1\u6253\u7834\u8fd9\u4e2a\u73af\u3002 \u53c2\u8003 \u00b6 \u7a0b\u5e8f\u5458\u5fc5\u77e5\u7684Python\u9677\u9631\u4e0e\u7f3a\u9677\u5217\u8868","title":"Python\u91cc\u9762\u5947\u602a\u7684\u5751"},{"location":"python/strange_traps_in_python/#python","text":"\u672c\u6587\u4f1a\u5217\u4e3e\u51fa\uff0c\u5728\u4f7f\u7528Python\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5bb9\u6613\u8e29\u5230\u7684\u5751\uff0c\u5e76\u7ed3\u5408CPython\u6e90\u7801\uff0c\u5c1d\u8bd5\u89e3\u91ca\u5b83\u7684\u539f\u7406\u548c\u907f\u5751\u65b9\u6cd5\u3002","title":"Python\u4e2d\u7684\u9677\u9631\u5408\u96c6"},{"location":"python/strange_traps_in_python/#_1","text":"","title":"\u4e00\u76f4\u5b58\u5728\u7684\u9677\u9631"},{"location":"python/strange_traps_in_python/#_2","text":"\u867d\u7136Python\u4e2d\u6709 \u6807\u8bb0-\u6e05\u9664 \u673a\u5236\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\uff0c\u4f46\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u53d1\u751f\u5728 gc.collect() \u4e2d\u7684\uff0c\u5b83\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u73b0\u5361\u987f\u3002 \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0cPython\u5bf9\u8c61\u4f1a\u5728\u5b83\u7684\u5f15\u7528\u8ba1\u6570\u5f52\u96f6\u65f6\u9a6c\u4e0a\u88ab\u56de\u6536\uff0c\u5927\u91cf\u7684\u56de\u6536\u64cd\u4f5c\u4f1a\u5206\u6563\u5728\u6574\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\uff0c\u4e0d\u4f1a\u51fa\u73b0\u5361\u987f\u3002 \u4f46\u662f\uff0c\u5982\u679c\u51fa\u73b0\u5faa\u73af\u5f15\u7528\uff0cPython\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u59cb\u7ec8\u4e0d\u4e3a0\uff0cPython\u865a\u62df\u673a\u7684\u5185\u5b58\u6301\u7eed\u589e\u52a0\uff0c\u76f4\u5230\u8fbe\u5230\u4e86\u67d0\u4e2a\u9608\u503c\uff0c\u81ea\u52a8\u89e6\u53d1\u4e86 gc.collect() \u3002 \u5927\u91cf\u7684\u5faa\u73af\u5f15\u7528\uff0c\u4f1a\u5bfc\u81f4\u5185\u5b58\u5f88\u5feb\u8fbe\u5230\u9608\u503c\uff0c\u9891\u7e41\u89e6\u53d1 gc.collect() \uff0c\u5bfc\u81f4\u5361\u987f\u3002 \u56e0\u6b64\uff0c\u8981\u6ce8\u610f\u907f\u514d\u4ea7\u751f\u5faa\u73af\u5f15\u7528\uff0c\u4e0d\u8981\u592a\u8fc7\u4f9d\u8d56 \u6807\u8bb0-\u6e05\u9664 \u7684gc\u56de\u6536\u673a\u5236\u3002","title":"\u5faa\u73af\u5f15\u7528\u592a\u591a\u5bfc\u81f4\u51fa\u73b0\u5361\u987f"},{"location":"python/strange_traps_in_python/#python-34","text":"","title":"Python-3.4 \u4e4b\u524d\u7684\u9677\u9631"},{"location":"python/strange_traps_in_python/#_3","text":"\u5982\u679c\u5faa\u73af\u5f15\u7528\u4e2d\uff0c\u6709\u4efb\u610f\u4e00\u4e2a\u5bf9\u8c61\u5b9e\u73b0\u4e86\u9b54\u672f\u65b9\u6cd5 __del__ \uff0c\u90a3\u4e48\u5b83\u6240\u5728\u7684\u6574\u4e2a\u73af\u90fd\u65e0\u6cd5\u88abgc\u56de\u6536\u3002 class A ( object ): def __del__ ( self ): # \u91cd\u5199\u4e86\u9b54\u672f\u65b9\u6cd5 __del__ pass a = A () a . a = a # \u4ea7\u751f\u4e86\u5faa\u73af\u5f15\u7528 del a # \u56e0\u4e3a\u4ea7\u751f\u4e86\u5faa\u73af\u5f15\u7528\uff0c\u5f15\u7528\u8ba1\u6570\u4e0d\u4e3a0\uff0c\u53ea\u80fd\u7b49\u5f85gc import gc print ( gc . garbage ) gc . collect () print ( gc . garbage ) # gc\u68c0\u6d4b\u5230\u5faa\u73af\u5f15\u7528\uff0c\u4f46\u662f\u65e0\u6cd5\u56de\u6536\uff0c\u4f1a\u628a\u5b83\u4eec\u653e\u5165gc.garbage\u4e2d \u56e0\u4e3a\u5bf9\u4e8e\u91cd\u5199\u4e86 __del__ \u65b9\u6cd5\u7684\u5bf9\u8c61\uff0cgc\u8ba4\u4e3a\u4f60***\u53ef\u80fd***\u6709\u4e00\u4e2a\u56fa\u5b9a\u7684\u91ca\u653e\u987a\u5e8f\uff0c\u800cgc\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e2a\u987a\u5e8f\u3002 \u4f8b\u5982\uff1a\u73b0\u5728\u6709\u4e00\u4e2a\u5faa\u73af\u5f15\u7528 a=>b=>c=>a\uff0c\u6240\u4ee5gc\u4f1a\u628a\u8fd9\u6837\u7684\u5bf9\u8c61\uff08\u4ee5\u53ca\u5b83\u6240\u5728\u7684\u73af\uff09\u653e\u5165gc.garbage\u4e2d\uff0c\u8ba9\u4f60\u81ea\u5df1\u6253\u7834\u8fd9\u4e2a\u73af\u3002","title":"\u5faa\u73af\u5f15\u7528\u65e0\u6cd5\u88ab\u56de\u6536"},{"location":"python/strange_traps_in_python/#_4","text":"\u7a0b\u5e8f\u5458\u5fc5\u77e5\u7684Python\u9677\u9631\u4e0e\u7f3a\u9677\u5217\u8868","title":"\u53c2\u8003"},{"location":"supervisor/","text":"Supervisor \u00b6 Document \u6587\u6863 \u00b6 \u5b98\u65b9\u6587\u6863 \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3 Install \u5b89\u88c5 \u00b6 Install with Pip \u00b6 \u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5982\u4f55\u5b89\u88c5pip pip install supervisor Configure \u914d\u7f6e \u00b6 Configuration File Default Path \u914d\u7f6e\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84 \u00b6 Supervisor\u7684\u914d\u7f6e\u6587\u4ef6\u901a\u5e38\u547d\u540d\u4e3a supervisord.conf \u3002 supervisord \u548c supervisorctl \u90fd\u4f7f\u7528\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u6ca1\u6709\u7528 -c \u9009\u9879\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\uff0c\u90a3\u5c31\u4f1a\u6309\u987a\u5e8f\u5728\u4ee5\u4e0b\u8def\u5f84\u91cc\u5bfb\u627e\u3002 \u5982\u679c\u5b58\u5728\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u4f1a\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\u3002 $CWD/supervisord.conf $CWD/etc/supervisord.conf supervisord.conf etc/supervisord.conf /etc/supervisord.conf /etc/supervisor/supervisord.conf \u914d\u7f6e\u6587\u4ef6\u53ef\u80fd\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u8fd0\u884c echo_supervisord_conf \u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002 Create a Configuration File \u521b\u5efa\u914d\u7f6e\u6587\u4ef6 \u00b6 echo_supervisord_conf > /etc/supervisord.conf Usage \u7528\u6cd5 \u00b6 Add a Program \u6dfb\u52a0\u7a0b\u5e8f \u00b6 \u6dfb\u52a0\u4e00\u4e2a\u7a0b\u5e8f\u5230 Supervisor \u4e2d\u7684\u5e38\u7528\u914d\u7f6e\uff1a ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;autostart=true ; start at supervisord start (default: true) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) \u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5b8c\u6574\u914d\u7f6e \u4f8b\u5982\uff1a \u5982\u679c\u6211\u9700\u8981\u8ba9 Supervisor \u7ba1\u7406\u6211\u7684 mkdocs \u8fdb\u7a0b\uff0c\u90a3\u4e48\u6211\u7684\u914d\u7f6e\u5982\u4e0b\uff1a [program:my_first_mkdocs] ; \u6267\u884c\u547d\u4ee4/usr/local/bin/mkdocs serve -a 0.0.0.0:9001 command = /usr/local/bin/mkdocs serve -a 0.0.0.0:9001 ; \u5728/root/my_first_mkdocs\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4 directory = /root/my_first_mkdocs ; \u4ee5root\u7528\u6237\u7684\u8eab\u4efd\u6267\u884c\u547d\u4ee4 user = root ; \u8be5\u8fdb\u7a0b\u968f\u7740Supervisor\u7684\u542f\u52a8\u800c\u542f\u52a8 autostart = true ; \u6807\u51c6\u8f93\u51fastdout\u8f93\u51fa\u5230/root/my_first_mkdocs/stdout.log\u6587\u4ef6 stdout_logfile = /root/my_first_mkdocs/stdout.log ; \u628a\u9519\u8bef\u8f93\u51fastderr\u91cd\u5b9a\u5411\u5230\u6807\u51c6\u8f93\u51fastdout redirect_stderr = true Run supervisord \u542f\u52a8\u670d\u52a1\u7aef \u00b6 \u542f\u52a8\u547d\u4ee4\uff1a supervisord \u7b49\u540c\u4e8e supervisord -c /etc/supervisord.conf \u4f7f\u7528 -c \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u8def\u5f84\uff0c\u90a3\u4e48supervisord\u4f1a\u5728 \u9ed8\u8ba4\u8def\u5f84 \u4e2d\u641c\u7d22\u914d\u7f6e\u6587\u4ef6\u3002 Run supervisorctl \u542f\u52a8\u5ba2\u6237\u7aef \u00b6 \u542f\u52a8\u547d\u4ee4\uff1a supervisorctl \u542f\u52a8\u8fdb\u7a0b\uff1a start <name> \u505c\u6b62\u8fdb\u7a0b\uff1a stop <name> \u91cd\u542f\u8fdb\u7a0b\uff1a restart <name>","title":"Supervisor"},{"location":"supervisor/#supervisor","text":"","title":"Supervisor"},{"location":"supervisor/#document","text":"\u5b98\u65b9\u6587\u6863 \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3","title":"Document \u6587\u6863"},{"location":"supervisor/#install","text":"","title":"Install \u5b89\u88c5"},{"location":"supervisor/#install-with-pip","text":"\u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5982\u4f55\u5b89\u88c5pip pip install supervisor","title":"Install with Pip"},{"location":"supervisor/#configure","text":"","title":"Configure \u914d\u7f6e"},{"location":"supervisor/#configuration-file-default-path","text":"Supervisor\u7684\u914d\u7f6e\u6587\u4ef6\u901a\u5e38\u547d\u540d\u4e3a supervisord.conf \u3002 supervisord \u548c supervisorctl \u90fd\u4f7f\u7528\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u6ca1\u6709\u7528 -c \u9009\u9879\u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\uff0c\u90a3\u5c31\u4f1a\u6309\u987a\u5e8f\u5728\u4ee5\u4e0b\u8def\u5f84\u91cc\u5bfb\u627e\u3002 \u5982\u679c\u5b58\u5728\u591a\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u4f1a\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\u3002 $CWD/supervisord.conf $CWD/etc/supervisord.conf supervisord.conf etc/supervisord.conf /etc/supervisord.conf /etc/supervisor/supervisord.conf \u914d\u7f6e\u6587\u4ef6\u53ef\u80fd\u4e0d\u5b58\u5728\uff0c\u901a\u8fc7\u8fd0\u884c echo_supervisord_conf \u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002","title":"Configuration File Default Path \u914d\u7f6e\u6587\u4ef6\u7684\u9ed8\u8ba4\u8def\u5f84"},{"location":"supervisor/#create-a-configuration-file","text":"echo_supervisord_conf > /etc/supervisord.conf","title":"Create a Configuration File \u521b\u5efa\u914d\u7f6e\u6587\u4ef6"},{"location":"supervisor/#usage","text":"","title":"Usage \u7528\u6cd5"},{"location":"supervisor/#add-a-program","text":"\u6dfb\u52a0\u4e00\u4e2a\u7a0b\u5e8f\u5230 Supervisor \u4e2d\u7684\u5e38\u7528\u914d\u7f6e\uff1a ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;autostart=true ; start at supervisord start (default: true) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) \u70b9\u51fb \u8fd9\u91cc \u67e5\u770b\u5b8c\u6574\u914d\u7f6e \u4f8b\u5982\uff1a \u5982\u679c\u6211\u9700\u8981\u8ba9 Supervisor \u7ba1\u7406\u6211\u7684 mkdocs \u8fdb\u7a0b\uff0c\u90a3\u4e48\u6211\u7684\u914d\u7f6e\u5982\u4e0b\uff1a [program:my_first_mkdocs] ; \u6267\u884c\u547d\u4ee4/usr/local/bin/mkdocs serve -a 0.0.0.0:9001 command = /usr/local/bin/mkdocs serve -a 0.0.0.0:9001 ; \u5728/root/my_first_mkdocs\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4 directory = /root/my_first_mkdocs ; \u4ee5root\u7528\u6237\u7684\u8eab\u4efd\u6267\u884c\u547d\u4ee4 user = root ; \u8be5\u8fdb\u7a0b\u968f\u7740Supervisor\u7684\u542f\u52a8\u800c\u542f\u52a8 autostart = true ; \u6807\u51c6\u8f93\u51fastdout\u8f93\u51fa\u5230/root/my_first_mkdocs/stdout.log\u6587\u4ef6 stdout_logfile = /root/my_first_mkdocs/stdout.log ; \u628a\u9519\u8bef\u8f93\u51fastderr\u91cd\u5b9a\u5411\u5230\u6807\u51c6\u8f93\u51fastdout redirect_stderr = true","title":"Add a Program \u6dfb\u52a0\u7a0b\u5e8f"},{"location":"supervisor/#run-supervisord","text":"\u542f\u52a8\u547d\u4ee4\uff1a supervisord \u7b49\u540c\u4e8e supervisord -c /etc/supervisord.conf \u4f7f\u7528 -c \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u8def\u5f84\uff0c\u90a3\u4e48supervisord\u4f1a\u5728 \u9ed8\u8ba4\u8def\u5f84 \u4e2d\u641c\u7d22\u914d\u7f6e\u6587\u4ef6\u3002","title":"Run supervisord \u542f\u52a8\u670d\u52a1\u7aef"},{"location":"supervisor/#run-supervisorctl","text":"\u542f\u52a8\u547d\u4ee4\uff1a supervisorctl \u542f\u52a8\u8fdb\u7a0b\uff1a start <name> \u505c\u6b62\u8fdb\u7a0b\uff1a stop <name> \u91cd\u542f\u8fdb\u7a0b\uff1a restart <name>","title":"Run supervisorctl \u542f\u52a8\u5ba2\u6237\u7aef"},{"location":"supervisor/supervisor_conf/","text":"Supervisor \u00b6 Configuration Template \u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u7248 \u00b6 \u8fd0\u884cecho_supervisord_conf\u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002 echo_supervisord_conf ; Sample supervisor config file. ; ; For more information on the config file, please see: ; http://supervisord.org/configuration.html ; ; Notes: ; - Shell expansion (\"~\" or \"$HOME\") is not supported. Environment ; variables can be expanded using this syntax: \"%(ENV_HOME)s\". ; - Quotes around values are not supported, except in the case of ; the environment= options as shown below. ; - Comments must have a leading space: \"a=b ;comment\" not \"a=b;comment\". ; - Command will be truncated if it looks like a config file comment, e.g. ; \"command=bash -c 'foo ; bar'\" will truncate to \"command=bash -c 'foo \". [unix_http_server] file = /usr/local/var/run/supervisor.sock ; the path to the socket file ;chmod=0700 ; socket file mode (default 0700) ;chown=nobody:nogroup ; socket file uid:gid owner ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) ;[inet_http_server] ; inet (TCP) server disabled by default ;port=127.0.0.1:9001 ; ip_address:port specifier, *:port for all iface ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) [supervisord] logfile = /usr/local/var/log/supervisord.log ; main log file; default $CWD/supervisord.log logfile_maxbytes = 50MB ; max main logfile bytes b4 rotation; default 50MB logfile_backups = 10 ; # of main logfile backups; 0 means none, default 10 loglevel = info ; log level; default info; others: debug,warn,trace pidfile = /usr/local/var/run/supervisord.pid ; supervisord pidfile; default supervisord.pid nodaemon = false ; start in foreground if true; default false minfds = 1024 ; min. avail startup file descriptors; default 1024 minprocs = 200 ; min. avail process descriptors;default 200 ;umask=022 ; process file creation umask; default 022 ;user=chrism ; default is current user, required if root ;identifier=supervisor ; supervisord identifier, default is 'supervisor' ;directory=/tmp ; default is not to cd during start ;nocleanup=true ; don't clean up tempfiles at start; default false ;childlogdir=/tmp ; 'AUTO' child log dir, default $TEMP ;environment=KEY=\"value\" ; key value pairs to add to environment ;strip_ansi=false ; strip ansi escape codes in logs; def. false ; The rpcinterface:supervisor section must remain in the config file for ; RPC (supervisorctl/web interface) to work. Additional interfaces may be ; added by defining them in separate [rpcinterface:x] sections. [rpcinterface:supervisor] supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface ; The supervisorctl section configures how supervisorctl will connect to ; supervisord. configure it match the settings in either the unix_http_server ; or inet_http_server section. [supervisorctl] serverurl = unix:///usr/local/var/run/supervisor.sock ; use a unix:// URL for a unix socket ;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket ;username=chris ; should be same as in [*_http_server] if set ;password=123 ; should be same as in [*_http_server] if set ;prompt=mysupervisor ; cmd line prompt (default \"supervisor\") ;history_file=~/.sc_history ; use readline history if available ; The sample program section below shows all possible program subsection values. ; Create one or more 'real' program: sections to be able to control them under ; supervisor. ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=999 ; the relative start priority (default 999) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; when to restart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample eventlistener section below shows all possible eventlistener ; subsection values. Create one or more 'real' eventlistener: sections to be ; able to handle event notifications sent by supervisord. ;[eventlistener:theeventlistenername] ;command=/bin/eventlistener ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;events=EVENT ; event notif. types to subscribe to (req'd) ;buffer_size=10 ; event buffer queue size (default 10) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=-1 ; the relative start priority (default -1) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; autorestart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=false ; redirect_stderr=true is not allowed for eventlisteners ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample group section below shows all possible group values. Create one ; or more 'real' group: sections to create \"heterogeneous\" process groups. ;[group:thegroupname] ;programs=progname1,progname2 ; each refers to 'x' in [program:x] definitions ;priority=999 ; the relative start priority (default 999) ; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. [include] files = /usr/local/etc/supervisor.d/*.ini Details \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3 \u00b6 Section: unix_http_server \u00b6 [ unix_http_server ] file =/ tmp / supervisor . sock ; socket\u6587\u4ef6\u7684\u8def\u5f84 \uff0c supervisorctl\u7528XML_RPC\u548csupervisord\u901a\u4fe1\u5c31\u662f\u901a\u8fc7\u5b83\u8fdb\u884c \u7684 \u3002 \u5982\u679c\u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c supervisorctl\u4e5f\u5c31\u4e0d\u80fd\u7528\u4e86 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3anone \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chmod = 0700 ; \u8fd9\u4e2a\u7b80\u5355 \uff0c \u5c31\u662f\u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u6743\u9650\u4e3a0700 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a0700 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chown = nobody : nogroup ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u5c5e\u7ec4\u4e3auser . group \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u542f\u52a8supervisord\u8fdb\u7a0b\u7684\u7528\u6237\u53ca\u5c5e\u7ec4 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; username = user ; \u4f7f\u7528supervisorctl\u8fde\u63a5\u7684\u65f6\u5019 \uff0c \u8ba4\u8bc1\u7684\u7528\u6237 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u9700\u8981\u7528\u6237 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u548c\u4e0a\u9762\u7684\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801 \uff0c \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u660e\u7801 \uff0c \u4e5f\u53ef\u4ee5\u4f7f\u7528SHA\u52a0\u5bc6 \u5982 \uff1a { SHA } 82ab876d1387bfafe46cc1c8a2ef074eae50cb1d \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e Section: inet_http_server \u00b6 ; [ inet_http_server ] ; \u4fa6\u542c\u5728TCP\u4e0a\u7684socket \uff0c Web Server\u548c\u8fdc\u7a0b\u7684supervisorctl\u90fd\u8981\u7528\u5230\u4ed6 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u5f00\u542f \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; port = 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662f\u4fa6\u542c\u7684IP\u548c\u7aef\u53e3 \uff0c \u4fa6\u542c\u6240\u6709IP\u7528 : 9001\u6216 * : 9001 \u3002 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e \uff0c \u53ea\u8981\u4e0a\u9762\u7684 [ inet_http_server ] \u5f00\u542f\u4e86 \uff0c \u5c31\u5fc5\u987b\u8bbe\u7f6e\u5b83 ; username = user ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684uinx_http_server\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u8fd9\u4e2a\u4e5f\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e Section: supervisord \u00b6 [supervisord] ;\u8fd9\u4e2a\u4e3b\u8981\u662f\u5b9a\u4e49supervisord\u8fd9\u4e2a\u670d\u52a1\u7aef\u8fdb\u7a0b\u7684\u4e00\u4e9b\u53c2\u6570\u7684 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e\uff0c\u4e0d\u8bbe\u7f6e\uff0csupervisor\u5c31\u4e0d\u7528\u5e72\u6d3b\u4e86 logfile=/tmp/supervisord.log ; \u8fd9\u4e2a\u662fsupervisord\u8fd9\u4e2a\u4e3b\u8fdb\u7a0b\u7684\u65e5\u5fd7\u8def\u5f84\uff0c\u6ce8\u610f\u548c\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u4e0d\u642d\u560e\u3002 \u9ed8\u8ba4\u8def\u5f84$CWD/supervisord.log\uff0c$CWD\u662f\u5f53\u524d\u76ee\u5f55\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e logfile_maxbytes=50MB ; \u8fd9\u4e2a\u662f\u4e0a\u9762\u90a3\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u7684\u5927\u5c0f\uff0c\u5f53\u8d85\u8fc750M\u7684\u65f6\u5019\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u65e5 \u5fd7\u6587\u4ef6\u3002\u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u5927\u5c0f \u9ed8\u8ba4\u503c\u662f50M\uff0c\u975e\u5fc5\u987b\u8bbe\u7f6e\u3002 logfile_backups=10 ; \u65e5\u5fd7\u6587\u4ef6\u4fdd\u6301\u7684\u6570\u91cf\uff0csupervisor\u5728\u542f\u52a8\u7a0b\u5e8f\u65f6\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa10\u4e2abuckup\u6587\u4ef6\uff0c\u7528\u4e8elog rotate \u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u7684\u6570\u91cf\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a10\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e loglevel=info ; \u65e5\u5fd7\u7ea7\u522b\uff0c\u6709critical, error, warn, info, debug, trace, or blather\u7b49 \u9ed8\u8ba4\u4e3ainfo\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 pidfile=/tmp/supervisord.pid ; supervisord\u7684pid\u6587\u4ef6\u8def\u5f84\u3002 \u9ed8\u8ba4\u4e3a$CWD/supervisord.pid\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e nodaemon=false ; \u5982\u679c\u662ftrue\uff0csupervisord\u8fdb\u7a0b\u5c06\u5728\u524d\u53f0\u8fd0\u884c \u9ed8\u8ba4\u4e3afalse\uff0c\u4e5f\u5c31\u662f\u540e\u53f0\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minfds=1024 ; \u8fd9\u4e2a\u662f\u6700\u5c11\u7cfb\u7edf\u7a7a\u95f2\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u5c06\u4e0d\u4f1a\u542f\u52a8\u3002 \u7cfb\u7edf\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u5728\u8fd9\u91cc\u8bbe\u7f6ecat /proc/sys/fs/file-max \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a1024\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minprocs=200 ; \u6700\u5c0f\u53ef\u7528\u7684\u8fdb\u7a0b\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u4e5f\u5c06\u4e0d\u4f1a\u6b63\u5e38\u542f\u52a8\u3002 ulimit -u\u8fd9\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770blinux\u4e0b\u9762\u7528\u6237\u7684\u6700\u5927\u8fdb\u7a0b\u6570 \u9ed8\u8ba4\u4e3a200\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;umask=022 ; \u8fdb\u7a0b\u521b\u5efa\u6587\u4ef6\u7684\u63a9\u7801 \u9ed8\u8ba4\u4e3a022\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;user=chrism ; \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u975eroot\u7528\u6237\uff0c\u5f53\u6211\u4eec\u4ee5root\u7528\u6237\u542f\u52a8supervisord\u4e4b\u540e\u3002 \u6211\u8fd9\u91cc\u9762\u8bbe\u7f6e\u7684\u8fd9\u4e2a\u7528\u6237\uff0c\u4e5f\u53ef\u4ee5\u5bf9supervisord\u8fdb\u884c\u7ba1\u7406 \u9ed8\u8ba4\u60c5\u51b5\u662f\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;identifier=supervisor ; \u8fd9\u4e2a\u53c2\u6570\u662fsupervisord\u7684\u6807\u8bc6\u7b26\uff0c\u4e3b\u8981\u662f\u7ed9XML_RPC\u7528\u7684\u3002\u5f53\u4f60\u6709\u591a\u4e2a supervisor\u7684\u65f6\u5019\uff0c\u800c\u4e14\u60f3\u8c03\u7528XML_RPC\u7edf\u4e00\u7ba1\u7406\uff0c\u5c31\u9700\u8981\u4e3a\u6bcf\u4e2a supervisor\u8bbe\u7f6e\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u4e86 \u9ed8\u8ba4\u662fsupervisord\u3002\u3002\u3002\u975e\u5fc5\u9700\u8bbe\u7f6e ;directory=/tmp ; \u8fd9\u4e2a\u53c2\u6570\u662f\u5f53supervisord\u4f5c\u4e3a\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u7684\u8bdd\uff0c\u542f\u52a8 supervisord\u8fdb\u7a0b\u4e4b\u524d\uff0c\u4f1a\u5148\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;nocleanup=true ; \u8fd9\u4e2a\u53c2\u6570\u5f53\u4e3afalse\u7684\u65f6\u5019\uff0c\u4f1a\u5728supervisord\u8fdb\u7a0b\u542f\u52a8\u7684\u65f6\u5019\uff0c\u628a\u4ee5\u524d\u5b50\u8fdb\u7a0b \u4ea7\u751f\u7684\u65e5\u5fd7\u6587\u4ef6(\u8def\u5f84\u4e3aAUTO\u7684\u60c5\u51b5\u4e0b)\u6e05\u9664\u6389\u3002\u6709\u65f6\u5019\u54b1\u4eec\u60f3\u8981\u770b\u5386\u53f2\u65e5\u5fd7\uff0c\u5f53 \u7136\u4e0d\u60f3\u65e5\u5fd7\u88ab\u6e05\u9664\u4e86\u3002\u6240\u4ee5\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue \u9ed8\u8ba4\u662ffalse\uff0c\u6709\u8c03\u8bd5\u9700\u6c42\u7684\u540c\u5b66\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;childlogdir=/tmp ; \u5f53\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u8def\u5f84\u4e3aAUTO\u7684\u65f6\u5019\uff0c\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u6587\u4ef6\u7684\u5b58\u653e\u8def\u5f84\u3002 \u9ed8\u8ba4\u8def\u5f84\u662f\u8fd9\u4e2a\u4e1c\u897f\uff0c\u6267\u884c\u4e0b\u9762\u7684\u8fd9\u4e2a\u547d\u4ee4\u770b\u770b\u5c31OK\u4e86\uff0c\u5904\u7406\u7684\u4e1c\u897f\u5c31\u9ed8\u8ba4\u8def\u5f84 python -c \"import tempfile;print tempfile.gettempdir()\" \u975e\u5fc5\u987b\u8bbe\u7f6e ;environment=KEY=\"value\" ; \u8fd9\u4e2a\u662f\u7528\u6765\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\uff0csupervisord\u5728linux\u4e2d\u542f\u52a8\u9ed8\u8ba4\u7ee7\u627f\u4e86linux\u7684 \u73af\u5883\u53d8\u91cf\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u8bbe\u7f6esupervisord\u8fdb\u7a0b\u7279\u6709\u7684\u5176\u4ed6\u73af\u5883\u53d8\u91cf\u3002 supervisord\u542f\u52a8\u5b50\u8fdb\u7a0b\u65f6\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u62f7\u8d1d\u7236\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u5185\u5bb9\u3002 \u6240\u4ee5\u8bbe\u7f6e\u7684 \u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4e5f\u4f1a\u88ab\u5b50\u8fdb\u7a0b\u7ee7\u627f\u3002 \u5c0f\u4f8b\u5b50\uff1aenvironment=name=\"haha\",age=\"hehe\" \u9ed8\u8ba4\u4e3a\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;strip_ansi=false ; \u8fd9\u4e2a\u9009\u9879\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u4f1a\u6e05\u9664\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u4e2d\u7684\u6240\u6709ANSI \u5e8f\u5217\u3002\u4ec0\u4e48\u662fANSI \u5e8f\u5217\u5462\uff1f\u5c31\u662f\u6211\u4eec\u7684\\n,\\t\u8fd9\u4e9b\u4e1c\u897f\u3002 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e Section: rpcinterface \u00b6 ; the below section must remain in the config file for RPC ; ( supervisorctl / web interface ) to work , additional interfaces may be ; added by defining them in separate rpcinterface : sections [ rpcinterface : supervisor ] ; \u8fd9\u4e2a\u9009\u9879\u662f\u7ed9XML_RPC\u7528\u7684 \uff0c \u5f53\u7136\u4f60\u5982\u679c\u60f3\u4f7f\u7528supervisord\u6216\u8005web server \u8fd9 \u4e2a\u9009\u9879\u5fc5\u987b\u8981\u5f00\u542f\u7684 supervisor . rpcinterface_factory = supervisor . rpcinterface : make_main_rpcinterface Section: supervisorctl \u00b6 [ supervisorctl ] ; \u8fd9\u4e2a\u4e3b\u8981\u662f\u9488\u5bf9supervisorctl\u7684\u4e00\u4e9b\u914d\u7f6e serverurl = unix :/// tmp / supervisor . sock ; \u8fd9\u4e2a\u662fsupervisorctl\u672c\u5730\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u672c\u5730UNIX socket \u8def\u5f84 \uff0c \u6ce8\u610f\u8fd9\u4e2a\u662f\u548c\u524d\u9762\u7684 [ unix_http_server ] \u5bf9\u5e94\u7684 \u9ed8\u8ba4\u503c\u5c31\u662funix :/// tmp / supervisor . sock \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; serverurl = http :// 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662fsupervisorctl\u8fdc\u7a0b\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u7528\u5230\u7684TCP socket\u8def\u5f84 \u6ce8\u610f\u8fd9\u4e2a\u548c\u524d\u9762\u7684 [ inet_http_server ] \u5bf9\u5e94 \u9ed8\u8ba4\u5c31\u662fhttp :// 127 . 0 . 0 . 1 : 9001 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; username = chris ; \u7528\u6237\u540d \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u5bc6\u7801 \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; prompt = mysupervisor ; \u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u65f6\u5019\u7684\u63d0\u793a\u7b26 \u9ed8\u8ba4supervisor \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; history_file =~/ . sc_history ; \u8fd9\u4e2a\u53c2\u6570\u548cshell\u4e2d\u7684history\u7c7b\u4f3c \uff0c \u6211\u4eec\u53ef\u4ee5\u7528\u4e0a\u4e0b\u952e\u6765\u67e5\u627e\u524d\u9762\u6267\u884c\u8fc7\u7684\u547d\u4ee4 \u9ed8\u8ba4\u662fno file\u7684 \u3002\u3002 \u6240\u4ee5\u6211\u4eec\u60f3\u8981\u6709\u8fd9\u79cd\u529f\u80fd \uff0c \u5fc5\u987b\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6 \u3002\u3002\u3002 \u975e \u5fc5\u987b\u8bbe\u7f6e Section: program \u00b6 ; The below sample program section shows all possible program subsection values , ; create one or more 'real' program : sections to be able to control them under ; supervisor . ; [ program : theprogramname ] ; \u8fd9\u4e2a\u5c31\u662f\u54b1\u4eec\u8981\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b\u4e86 \uff0c \":\" \u540e\u9762\u7684\u662f\u540d\u5b57 \uff0c \u6700\u597d\u522b\u4e71\u5199\u548c\u5b9e\u9645\u8fdb\u7a0b \u6709\u70b9\u5173\u8054\u6700\u597d \u3002 \u8fd9\u6837\u7684program\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u6216\u591a\u4e2a \uff0c \u4e00\u4e2aprogram\u5c31\u662f \u8981\u88ab\u7ba1\u7406\u7684\u4e00\u4e2a\u8fdb\u7a0b ; command =/ bin / cat ; \u8fd9\u4e2a\u5c31\u662f\u6211\u4eec\u7684\u8981\u542f\u52a8\u8fdb\u7a0b\u7684\u547d\u4ee4\u8def\u5f84\u4e86 \uff0c \u53ef\u4ee5\u5e26\u53c2\u6570 \u4f8b\u5b50 \uff1a / home / test . py -a 'hehe' \u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u6211\u4eec\u7684command\u53ea\u80fd\u662f\u90a3\u79cd\u5728\u7ec8\u7aef\u8fd0\u884c\u7684\u8fdb\u7a0b \uff0c \u4e0d\u80fd\u662f \u5b88\u62a4\u8fdb\u7a0b \u3002 \u8fd9\u4e2a\u60f3\u60f3\u4e5f\u77e5\u9053\u4e86 \uff0c \u6bd4\u5982\u8bf4command = service httpd start \u3002 httpd\u8fd9\u4e2a\u8fdb\u7a0b\u88ablinux\u7684service\u7ba1\u7406\u4e86 \uff0c \u6211\u4eec\u7684supervisor\u518d\u53bb\u542f\u52a8\u8fd9\u4e2a\u547d\u4ee4 \u8fd9\u5df2\u7ecf\u4e0d\u662f\u4e25\u683c\u610f\u4e49\u7684\u5b50\u8fdb\u7a0b\u4e86 \u3002 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u8bbe\u7f6e\u7684\u9879 ; process_name =%( program_name ) s ; \u8fd9\u4e2a\u662f\u8fdb\u7a0b\u540d \uff0c \u5982\u679c\u6211\u4eec\u4e0b\u9762\u7684numprocs\u53c2\u6570\u4e3a1\u7684\u8bdd \uff0c \u5c31\u4e0d\u7528\u7ba1\u8fd9\u4e2a\u53c2\u6570 \u4e86 \uff0c \u5b83\u9ed8\u8ba4\u503c %( program_name ) s\u4e5f\u5c31\u662f\u4e0a\u9762\u7684\u90a3\u4e2aprogram\u5192\u53f7\u540e\u9762\u7684\u540d\u5b57 \uff0c \u4f46\u662f\u5982\u679cnumprocs\u4e3a\u591a\u4e2a\u7684\u8bdd \uff0c \u90a3\u5c31\u4e0d\u80fd\u8fd9\u4e48\u5e72\u4e86 \u3002 \u60f3\u60f3\u4e5f\u77e5\u9053 \uff0c \u4e0d\u53ef\u80fd\u6bcf\u4e2a \u8fdb\u7a0b\u90fd\u7528\u540c\u4e00\u4e2a\u8fdb\u7a0b\u540d\u5427 \u3002 ; numprocs = 1 ; \u542f\u52a8\u8fdb\u7a0b\u7684\u6570\u76ee \u3002 \u5f53\u4e0d\u4e3a1\u65f6 \uff0c \u5c31\u662f\u8fdb\u7a0b\u6c60\u7684\u6982\u5ff5 \uff0c \u6ce8\u610fprocess_name\u7684\u8bbe\u7f6e \u9ed8\u8ba4\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; directory =/ tmp ; \u8fdb\u7a0b\u8fd0\u884c\u524d \uff0c \u4f1a\u524d\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; umask = 022 ; \u8fdb\u7a0b\u63a9\u7801 \uff0c \u9ed8\u8ba4none \uff0c \u975e\u5fc5\u987b ; priority = 999 ; \u5b50\u8fdb\u7a0b\u542f\u52a8\u5173\u95ed\u4f18\u5148\u7ea7 \uff0c \u4f18\u5148\u7ea7\u4f4e\u7684 \uff0c \u6700\u5148\u542f\u52a8 \uff0c \u5173\u95ed\u7684\u65f6\u5019\u6700\u540e\u5173\u95ed \u9ed8\u8ba4\u503c\u4e3a999 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autostart = true ; \u5982\u679c\u662ftrue\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u5c06\u5728supervisord\u542f\u52a8\u540e\u88ab\u81ea\u52a8\u542f\u52a8 \u9ed8\u8ba4\u5c31\u662ftrue \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autorestart = unexpected ; \u8fd9\u4e2a\u662f\u8bbe\u7f6e\u5b50\u8fdb\u7a0b\u6302\u6389\u540e\u81ea\u52a8\u91cd\u542f\u7684\u60c5\u51b5 \uff0c \u6709\u4e09\u4e2a\u9009\u9879 \uff0c false , unexpected \u548ctrue \u3002 \u5982\u679c\u4e3afalse\u7684\u65f6\u5019 \uff0c \u65e0\u8bba\u4ec0\u4e48\u60c5\u51b5\u4e0b \uff0c \u90fd\u4e0d\u4f1a\u88ab\u91cd\u65b0\u542f\u52a8 \uff0c \u5982\u679c\u4e3aunexpected \uff0c \u53ea\u6709\u5f53\u8fdb\u7a0b\u7684\u9000\u51fa\u7801\u4e0d\u5728\u4e0b\u9762\u7684exitcodes\u91cc\u9762\u5b9a\u4e49\u7684\u9000 \u51fa\u7801\u7684\u65f6\u5019 \uff0c \u624d\u4f1a\u88ab\u81ea\u52a8\u91cd\u542f \u3002 \u5f53\u4e3atrue\u7684\u65f6\u5019 \uff0c \u53ea\u8981\u5b50\u8fdb\u7a0b\u6302\u6389 \uff0c \u5c06\u4f1a\u88ab\u65e0 \u6761\u4ef6\u7684\u91cd\u542f ; startsecs = 1 ; \u8fd9\u4e2a\u9009\u9879\u662f\u5b50\u8fdb\u7a0b\u542f\u52a8\u591a\u5c11\u79d2\u4e4b\u540e \uff0c \u6b64\u65f6\u72b6\u6001\u5982\u679c\u662frunning \uff0c \u5219\u6211\u4eec\u8ba4\u4e3a\u542f \u52a8\u6210\u529f\u4e86 \u9ed8\u8ba4\u503c\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; startretries = 3 ; \u5f53\u8fdb\u7a0b\u542f\u52a8\u5931\u8d25\u540e \uff0c \u6700\u5927\u5c1d\u8bd5\u542f\u52a8\u7684\u6b21\u6570 \u3002\u3002 \u5f53\u8d85\u8fc73\u6b21\u540e \uff0c supervisor\u5c06\u628a \u6b64\u8fdb\u7a0b\u7684\u72b6\u6001\u7f6e\u4e3aFAIL \u9ed8\u8ba4\u503c\u4e3a3 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; exitcodes = 0 , 2 ; \u6ce8\u610f\u548c\u4e0a\u9762\u7684\u7684autorestart = unexpected\u5bf9\u5e94 \u3002\u3002 exitcodes\u91cc\u9762\u7684\u5b9a\u4e49\u7684 \u9000\u51fa\u7801\u662fexpected\u7684 \u3002 ; stopsignal = QUIT ; \u8fdb\u7a0b\u505c\u6b62\u4fe1\u53f7 \uff0c \u53ef\u4ee5\u4e3aTERM , HUP , INT , QUIT , KILL , USR1 , or USR2\u7b49\u4fe1\u53f7 \u9ed8\u8ba4\u4e3aTERM \u3002\u3002 \u5f53\u7528\u8bbe\u5b9a\u7684\u4fe1\u53f7\u53bb\u5e72\u6389\u8fdb\u7a0b \uff0c \u9000\u51fa\u7801\u4f1a\u88ab\u8ba4\u4e3a\u662fexpected \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopwaitsecs = 10 ; \u8fd9\u4e2a\u662f\u5f53\u6211\u4eec\u5411\u5b50\u8fdb\u7a0b\u53d1\u9001stopsignal\u4fe1\u53f7\u540e \uff0c \u5230\u7cfb\u7edf\u8fd4\u56de\u4fe1\u606f \u7ed9supervisord \uff0c \u6240\u7b49\u5f85\u7684\u6700\u5927\u65f6\u95f4 \u3002 \u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4 \uff0c supervisord\u4f1a\u5411\u8be5 \u5b50\u8fdb\u7a0b\u53d1\u9001\u4e00\u4e2a\u5f3a\u5236kill\u7684\u4fe1\u53f7 \u3002 \u9ed8\u8ba4\u4e3a10\u79d2 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopasgroup = false ; \u8fd9\u4e2a\u4e1c\u897f\u4e3b\u8981\u7528\u4e8e \uff0c supervisord\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b \uff0c \u8fd9\u4e2a\u5b50\u8fdb\u7a0b\u672c\u8eab\u8fd8\u6709 \u5b50\u8fdb\u7a0b \u3002 \u90a3\u4e48\u6211\u4eec\u5982\u679c\u4ec5\u4ec5\u5e72\u6389supervisord\u7684\u5b50\u8fdb\u7a0b\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u7684\u5b50\u8fdb\u7a0b \u6709\u53ef\u80fd\u4f1a\u53d8\u6210\u5b64\u513f\u8fdb\u7a0b \u3002 \u6240\u4ee5\u54b1\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u53ef\u4e2a\u9009\u9879 \uff0c \u628a\u6574\u4e2a\u8be5\u5b50\u8fdb\u7a0b\u7684 \u6574\u4e2a\u8fdb\u7a0b\u7ec4\u90fd\u5e72\u6389 \u3002 \u8bbe\u7f6e\u4e3atrue\u7684\u8bdd \uff0c \u4e00\u822ckillasgroup\u4e5f\u4f1a\u88ab\u8bbe\u7f6e\u4e3atrue \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u8be5\u9009\u9879\u53d1\u9001\u7684\u662fstop\u4fe1\u53f7 \u9ed8\u8ba4\u4e3afalse \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e \u3002\u3002 ; killasgroup = false ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684stopasgroup\u7c7b\u4f3c \uff0c \u4e0d\u8fc7\u53d1\u9001\u7684\u662fkill\u4fe1\u53f7 ; user = chrism ; \u5982\u679csupervisord\u662froot\u542f\u52a8 \uff0c \u6211\u4eec\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8fd9\u4e2a\u975eroot\u7528\u6237 \uff0c \u53ef\u4ee5\u7528\u6765 \u7ba1\u7406\u8be5program \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ; redirect_stderr = true ; \u5982\u679c\u4e3atrue \uff0c \u5219stderr\u7684\u65e5\u5fd7\u4f1a\u88ab\u5199\u5165stdout\u65e5\u5fd7\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3afalse \uff0c \u975e\u5fc5\u987b\u8bbe\u7f6e ; stdout_logfile =/ a / path ; \u5b50\u8fdb\u7a0b\u7684stdout\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u53ef\u4ee5\u6307\u5b9a\u8def\u5f84 \uff0c AUTO \uff0c none\u7b49\u4e09\u4e2a\u9009\u9879 \u3002 \u8bbe\u7f6e\u4e3anone\u7684\u8bdd \uff0c \u5c06\u6ca1\u6709\u65e5\u5fd7\u4ea7\u751f \u3002 \u8bbe\u7f6e\u4e3aAUTO\u7684\u8bdd \uff0c \u5c06\u968f\u673a\u627e\u4e00\u4e2a\u5730\u65b9 \u751f\u6210\u65e5\u5fd7\u6587\u4ef6 \uff0c \u800c\u4e14\u5f53supervisord\u91cd\u65b0\u542f\u52a8\u7684\u65f6\u5019 \uff0c \u4ee5\u524d\u7684\u65e5\u5fd7\u6587\u4ef6\u4f1a\u88ab \u6e05\u7a7a \u3002 \u5f53 redirect_stderr = true\u7684\u65f6\u5019 \uff0c sterr\u4e5f\u4f1a\u5199\u8fdb\u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6 ; stdout_logfile_maxbytes = 1MB ; \u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u5927\u5c0f \uff0c \u548c [ supervisord ] \u4e2d\u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a50 ; stdout_logfile_backups = 10 ; \u548c [ supervisord ] \u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba410 ; stdout_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u5b9acapture\u7ba1\u9053\u7684\u5927\u5c0f \uff0c \u5f53\u503c\u4e0d\u4e3a0\u7684\u65f6\u5019 \uff0c \u5b50\u8fdb\u7a0b\u53ef\u4ee5\u4ecestdout \u53d1\u9001\u4fe1\u606f \uff0c \u800csupervisor\u53ef\u4ee5\u6839\u636e\u4fe1\u606f \uff0c \u53d1\u9001\u76f8\u5e94\u7684event \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u4e3a0\u7684\u65f6\u5019\u8868\u8fbe\u5173\u95ed\u7ba1\u9053 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; stdout_events_enabled = false ; \u5f53\u8bbe\u7f6e\u4e3ature\u7684\u65f6\u5019 \uff0c \u5f53\u5b50\u8fdb\u7a0b\u7531stdout\u5411\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e2d\u5199\u65e5\u5fd7\u7684\u65f6\u5019 \uff0c \u5c06 \u89e6\u53d1supervisord\u53d1\u9001PROCESS_LOG_STDOUT\u7c7b\u578b\u7684event \u9ed8\u8ba4\u4e3afalse \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile =/ a / path ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u7f6estderr\u5199\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u5f53redirect_stderr = true \u3002 \u8fd9\u4e2a\u5c31\u4e0d\u7528 \u8bbe\u7f6e\u4e86 \uff0c \u8bbe\u7f6e\u4e86\u4e5f\u662f\u767d\u642d \u3002 \u56e0\u4e3a\u5b83\u4f1a\u88ab\u5199\u5165stdout_logfile\u7684\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3aAUTO \uff0c \u4e5f\u5c31\u662f\u968f\u4fbf\u627e\u4e2a\u5730\u5b58 \uff0c supervisord\u91cd\u542f\u88ab\u6e05\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile_maxbytes = 1MB ; \u8fd9\u4e2a\u51fa\u73b0\u597d\u51e0\u6b21\u4e86 \uff0c \u5c31\u4e0d\u91cd\u590d\u4e86 ; stderr_logfile_backups = 10 ; \u8fd9\u4e2a\u4e5f\u662f ; stderr_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u548cstdout_capture\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u5173\u95ed\u72b6\u6001 ; stderr_events_enabled = false ; \u8fd9\u4e2a\u4e5f\u662f\u4e00\u6837 \uff0c \u9ed8\u8ba4\u4e3afalse ; environment = A = \"1\" , B = \"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \uff0c \u548c\u522b\u7684\u5b50\u8fdb\u7a0b\u662f\u4e0d\u5171\u4eab\u7684 ; serverurl = AUTO ; Section: eventlistener \u00b6 ; The below sample eventlistener section shows all possible ; eventlistener subsection values, create one or more 'real' ; eventlistener: sections to be able to handle event notifications ; sent by supervisor. ;[eventlistener:theeventlistenername] ;\u8fd9\u4e2a\u4e1c\u897f\u5176\u5b9e\u548cprogram\u7684\u5730\u4f4d\u662f\u4e00\u6837\u7684\uff0c\u4e5f\u662fsuopervisor\u542f\u52a8\u7684\u5b50\u8fdb \u7a0b\uff0c\u4e0d\u8fc7\u5b83\u5e72\u7684\u6d3b\u662f\u8ba2\u9605supervisord\u53d1\u9001\u7684event\u3002\u4ed6\u7684\u540d\u5b57\u5c31\u53eb listener\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728listener\u91cc\u9762\u505a\u4e00\u7cfb\u5217\u5904\u7406\uff0c\u6bd4\u5982\u62a5\u8b66\u7b49\u7b49 \u697c\u4e3b\u8fd9\u4e24\u5929\u5e72\u7684\u6d3b\uff0c\u5c31\u662f\u5f04\u7684\u8fd9\u73a9\u610f ;command=/bin/eventlistener ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684program\u4e00\u6837\uff0c\u8868\u793alistener\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84 ;process_name=%(program_name)s ; \u8fd9\u4e2a\u4e5f\u4e00\u6837\uff0c\u8fdb\u7a0b\u540d\uff0c\u5f53\u4e0b\u9762\u7684numprocs\u4e3a\u591a\u4e2a\u7684\u65f6\u5019\uff0c\u624d\u9700\u8981\u3002\u5426\u5219\u9ed8\u8ba4\u5c31 OK\u4e86 ;numprocs=1 ; \u76f8\u540c\u7684listener\u542f\u52a8\u7684\u4e2a\u6570 ;events=EVENT ; event\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u6709\u5199\u5728\u8fd9\u4e2a\u5730\u65b9\u7684\u4e8b\u4ef6\u7c7b\u578b\u3002\u624d\u4f1a\u88ab\u53d1\u9001 ;buffer_size=10 ; \u8fd9\u4e2a\u662fevent\u961f\u5217\u7f13\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\u4e0d\u592a\u6e05\u695a\uff0c\u697c\u4e3b\u731c\u6d4b\u5e94\u8be5\u662f\u4e2a\u5427\u3002\u5f53buffer \u8d85\u8fc710\u7684\u65f6\u5019\uff0c\u6700\u65e7\u7684event\u5c06\u4f1a\u88ab\u6e05\u9664\uff0c\u5e76\u628a\u65b0\u7684event\u653e\u8fdb\u53bb\u3002 \u9ed8\u8ba4\u503c\u4e3a10\u3002\u3002\u975e\u5fc5\u987b\u9009\u9879 ;directory=/tmp ; \u8fdb\u7a0b\u6267\u884c\u524d\uff0c\u4f1a\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6267\u884c \u9ed8\u8ba4\u4e3a\u4e0d\u5207\u6362\u3002\u3002\u3002\u975e\u5fc5\u987b ;umask=022 ; \u6df9\u6ca1\uff0c\u9ed8\u8ba4\u4e3anone\uff0c\u4e0d\u8bf4\u4e86 ;priority=-1 ; \u542f\u52a8\u4f18\u5148\u7ea7\uff0c\u9ed8\u8ba4-1\uff0c\u4e5f\u4e0d\u626f\u4e86 ;autostart=true ; \u662f\u5426\u968fsupervisord\u542f\u52a8\u4e00\u8d77\u542f\u52a8\uff0c\u9ed8\u8ba4true ;autorestart=unexpected ; \u662f\u5426\u81ea\u52a8\u91cd\u542f\uff0c\u548cprogram\u4e00\u4e2a\u6837\uff0c\u5206true,false,unexpected\u7b49\uff0c\u6ce8\u610f unexpected\u548cexitcodes\u7684\u5173\u7cfb ;startsecs=1 ; \u4e5f\u662f\u4e00\u6837\uff0c\u8fdb\u7a0b\u542f\u52a8\u540e\u8dd1\u4e86\u51e0\u79d2\u949f\uff0c\u624d\u88ab\u8ba4\u5b9a\u4e3a\u6210\u529f\u542f\u52a8\uff0c\u9ed8\u8ba41 ;startretries=3 ; \u5931\u8d25\u6700\u5927\u5c1d\u8bd5\u6b21\u6570\uff0c\u9ed8\u8ba43 ;exitcodes=0,2 ; \u671f\u671b\u6216\u8005\u8bf4\u9884\u6599\u4e2d\u7684\u8fdb\u7a0b\u9000\u51fa\u7801\uff0c ;stopsignal=QUIT ; \u5e72\u6389\u8fdb\u7a0b\u7684\u4fe1\u53f7\uff0c\u9ed8\u8ba4\u4e3aTERM\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3aQUIT\uff0c\u90a3\u4e48\u5982\u679cQUIT\u6765\u5e72\u8fd9\u4e2a\u8fdb\u7a0b \u90a3\u4e48\u4f1a\u88ab\u8ba4\u4e3a\u662f\u6b63\u5e38\u7ef4\u62a4\uff0c\u9000\u51fa\u7801\u4e5f\u88ab\u8ba4\u4e3a\u662fexpected\u4e2d\u7684 ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ;\u8bbe\u7f6e\u666e\u901a\u7528\u6237\uff0c\u53ef\u4ee5\u7528\u6765\u7ba1\u7406\u8be5listener\u8fdb\u7a0b\u3002 \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;redirect_stderr=true ; \u4e3atrue\u7684\u8bdd\uff0cstderr\u7684log\u4f1a\u5e76\u5165stdout\u7684log\u91cc\u9762 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;stdout_logfile=/a/path ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86\uff0c\u597d\u51e0\u904d\u4e86 ;stdout_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_logfile_backups=10 ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_events_enabled=false ; \u8fd9\u4e2a\u5176\u5b9e\u662f\u9519\u7684\uff0clistener\u662f\u4e0d\u80fd\u53d1\u9001event ;stderr_logfile=/a/path ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_backups ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86 ;stderr_events_enabled=false ; \u8fd9\u4e2a\u4e5f\u662f\u9519\u7684\uff0clistener\u4e0d\u80fd\u53d1\u9001event ;environment=A=\"1\",B=\"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;serverurl=AUTO ; override serverurl computation (childutils) Section: group \u00b6 ; The below sample group section shows all possible group values , ; create one or more 'real' group : sections to create \"heterogeneous\" ; process groups . ; [ group : thegroupname ] ; \u8fd9\u4e2a\u4e1c\u897f\u5c31\u662f\u7ed9programs\u5206\u7ec4 \uff0c \u5212\u5206\u5230\u7ec4\u91cc\u9762\u7684program \u3002 \u6211\u4eec\u5c31\u4e0d\u7528\u4e00\u4e2a\u4e00\u4e2a\u53bb\u64cd\u4f5c\u4e86 \u6211\u4eec\u53ef\u4ee5\u5bf9\u7ec4\u540d\u8fdb\u884c\u7edf\u4e00\u7684\u64cd\u4f5c \u3002 \u6ce8\u610f \uff1a program\u88ab\u5212\u5206\u5230\u7ec4\u91cc\u9762\u4e4b\u540e \uff0c \u5c31\u76f8\u5f53\u4e8e\u539f\u6765 \u7684\u914d\u7f6e\u4ecesupervisor\u7684\u914d\u7f6e\u6587\u4ef6\u91cc\u6d88\u5931\u4e86 \u3002\u3002\u3002 supervisor\u53ea\u4f1a\u5bf9\u7ec4\u8fdb\u884c\u7ba1\u7406 \uff0c \u800c\u4e0d\u518d \u4f1a\u5bf9\u7ec4\u91cc\u9762\u7684\u5355\u4e2aprogram\u8fdb\u884c\u7ba1\u7406\u4e86 ; programs = progname1 , progname2 ; \u7ec4\u6210\u5458 \uff0c \u7528\u9017\u53f7\u5206\u5f00 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u7684\u8bbe\u7f6e\u9879 ; priority = 999 ; \u4f18\u5148\u7ea7 \uff0c \u76f8\u5bf9\u4e8e\u7ec4\u548c\u7ec4\u4e4b\u95f4\u8bf4\u7684 \u9ed8\u8ba4999 \u3002\u3002 \u975e\u5fc5\u987b\u9009\u9879 Section: include \u00b6 ; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. ;[include] ;\u8fd9\u4e2a\u4e1c\u897f\u633a\u6709\u7528\u7684\uff0c\u5f53\u6211\u4eec\u8981\u7ba1\u7406\u7684\u8fdb\u7a0b\u5f88\u591a\u7684\u65f6\u5019\uff0c\u5199\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762 \u5c31\u6709\u70b9\u5927\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u914d\u7f6e\u4fe1\u606f\u5199\u5230\u591a\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7136\u540einclude\u8fc7\u6765 ;files = relative/directory/*.ini supervisord \u00b6 $ supervisord --h supervisord -- run a set of applications as daemons. Usage: /usr/local/bin/supervisord [ options ] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -n/--nodaemon -- run in the foreground ( same as 'nodaemon=true' in config file ) -h/--help -- print this usage message and exit -v/--version -- print supervisord version number and exit -u/--user USER -- run supervisord as this user ( or numeric uid ) -m/--umask UMASK -- use this umask for daemon subprocess ( default is 022 ) -d/--directory DIRECTORY -- directory to chdir to when daemonized -l/--logfile FILENAME -- use FILENAME as logfile path -y/--logfile_maxbytes BYTES -- use BYTES to limit the max size of logfile -z/--logfile_backups NUM -- number of backups to keep when max bytes reached -e/--loglevel LEVEL -- use LEVEL as log level ( debug,info,warn,error,critical ) -j/--pidfile FILENAME -- write a pid file for the daemon process to FILENAME -i/--identifier STR -- identifier used for this instance of supervisord -q/--childlogdir DIRECTORY -- the log directory for child process logs -k/--nocleanup -- prevent the process from performing cleanup ( removal of old automatic child log files ) at startup. -a/--minfds NUM -- the minimum number of file descriptors for start success -t/--strip_ansi -- strip ansi escape codes from process output --minprocs NUM -- the minimum number of processes available for start success --profile_options OPTIONS -- run supervisord under profiler and output results based on OPTIONS, which is a comma-sep 'd list of ' cumulative ', ' calls ', and/or ' callers ', e.g. ' cumulative,callers ' ) supervisorctl \u00b6 $ supervisorctl --help supervisorctl -- control applications run by supervisord from the cmd line. Usage: /usr/local/bin/supervisorctl [ options ] [ action [ arguments ]] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -h/--help -- print usage message and exit -i/--interactive -- start an interactive shell after executing commands -s/--serverurl URL -- URL on which supervisord server is listening ( default \"http://localhost:9001\" ) . -u/--username USERNAME -- username to use for authentication with server -p/--password PASSWORD -- password to use for authentication with server -r/--history-file -- keep a readline history ( if readline is available ) action [ arguments ] -- see below Actions are commands like \"tail\" or \"stop\" . If -i is specified or no action is specified on the command line, a \"shell\" interpreting actions typed interactively is started. Use the action \"help\" to find out about available actions. \u9009\u9879 \u89e3\u91ca -c/--configuration FILENAME configuration file path (searches if not given) -h/--help print usage message and exit -i/--interactive start an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"Supervisor"},{"location":"supervisor/supervisor_conf/#supervisor","text":"","title":"Supervisor"},{"location":"supervisor/supervisor_conf/#configuration-template","text":"\u8fd0\u884cecho_supervisord_conf\u6253\u5370\u51fa\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6837\u672c\u3002 echo_supervisord_conf ; Sample supervisor config file. ; ; For more information on the config file, please see: ; http://supervisord.org/configuration.html ; ; Notes: ; - Shell expansion (\"~\" or \"$HOME\") is not supported. Environment ; variables can be expanded using this syntax: \"%(ENV_HOME)s\". ; - Quotes around values are not supported, except in the case of ; the environment= options as shown below. ; - Comments must have a leading space: \"a=b ;comment\" not \"a=b;comment\". ; - Command will be truncated if it looks like a config file comment, e.g. ; \"command=bash -c 'foo ; bar'\" will truncate to \"command=bash -c 'foo \". [unix_http_server] file = /usr/local/var/run/supervisor.sock ; the path to the socket file ;chmod=0700 ; socket file mode (default 0700) ;chown=nobody:nogroup ; socket file uid:gid owner ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) ;[inet_http_server] ; inet (TCP) server disabled by default ;port=127.0.0.1:9001 ; ip_address:port specifier, *:port for all iface ;username=user ; default is no username (open server) ;password=123 ; default is no password (open server) [supervisord] logfile = /usr/local/var/log/supervisord.log ; main log file; default $CWD/supervisord.log logfile_maxbytes = 50MB ; max main logfile bytes b4 rotation; default 50MB logfile_backups = 10 ; # of main logfile backups; 0 means none, default 10 loglevel = info ; log level; default info; others: debug,warn,trace pidfile = /usr/local/var/run/supervisord.pid ; supervisord pidfile; default supervisord.pid nodaemon = false ; start in foreground if true; default false minfds = 1024 ; min. avail startup file descriptors; default 1024 minprocs = 200 ; min. avail process descriptors;default 200 ;umask=022 ; process file creation umask; default 022 ;user=chrism ; default is current user, required if root ;identifier=supervisor ; supervisord identifier, default is 'supervisor' ;directory=/tmp ; default is not to cd during start ;nocleanup=true ; don't clean up tempfiles at start; default false ;childlogdir=/tmp ; 'AUTO' child log dir, default $TEMP ;environment=KEY=\"value\" ; key value pairs to add to environment ;strip_ansi=false ; strip ansi escape codes in logs; def. false ; The rpcinterface:supervisor section must remain in the config file for ; RPC (supervisorctl/web interface) to work. Additional interfaces may be ; added by defining them in separate [rpcinterface:x] sections. [rpcinterface:supervisor] supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface ; The supervisorctl section configures how supervisorctl will connect to ; supervisord. configure it match the settings in either the unix_http_server ; or inet_http_server section. [supervisorctl] serverurl = unix:///usr/local/var/run/supervisor.sock ; use a unix:// URL for a unix socket ;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket ;username=chris ; should be same as in [*_http_server] if set ;password=123 ; should be same as in [*_http_server] if set ;prompt=mysupervisor ; cmd line prompt (default \"supervisor\") ;history_file=~/.sc_history ; use readline history if available ; The sample program section below shows all possible program subsection values. ; Create one or more 'real' program: sections to be able to control them under ; supervisor. ;[program:theprogramname] ;command=/bin/cat ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=999 ; the relative start priority (default 999) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; when to restart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=true ; redirect proc stderr to stdout (default false) ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_capture_maxbytes=1MB ; number of bytes in 'capturemode' (default 0) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions (def no adds) ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample eventlistener section below shows all possible eventlistener ; subsection values. Create one or more 'real' eventlistener: sections to be ; able to handle event notifications sent by supervisord. ;[eventlistener:theeventlistenername] ;command=/bin/eventlistener ; the program (relative uses PATH, can take args) ;process_name=%(program_name)s ; process_name expr (default %(program_name)s) ;numprocs=1 ; number of processes copies to start (def 1) ;events=EVENT ; event notif. types to subscribe to (req'd) ;buffer_size=10 ; event buffer queue size (default 10) ;directory=/tmp ; directory to cwd to before exec (def no cwd) ;umask=022 ; umask for process (default None) ;priority=-1 ; the relative start priority (default -1) ;autostart=true ; start at supervisord start (default: true) ;startsecs=1 ; # of secs prog must stay up to be running (def. 1) ;startretries=3 ; max # of serial start failures when starting (default 3) ;autorestart=unexpected ; autorestart if exited after running (def: unexpected) ;exitcodes=0,2 ; 'expected' exit codes used with autorestart (default 0,2) ;stopsignal=QUIT ; signal used to kill process (default TERM) ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ; setuid to this UNIX account to run the program ;redirect_stderr=false ; redirect_stderr=true is not allowed for eventlisteners ;stdout_logfile=/a/path ; stdout log path, NONE for none; default AUTO ;stdout_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stdout_logfile_backups=10 ; # of stdout logfile backups (0 means none, default 10) ;stdout_events_enabled=false ; emit events on stdout writes (default false) ;stderr_logfile=/a/path ; stderr log path, NONE for none; default AUTO ;stderr_logfile_maxbytes=1MB ; max # logfile bytes b4 rotation (default 50MB) ;stderr_logfile_backups=10 ; # of stderr logfile backups (0 means none, default 10) ;stderr_events_enabled=false ; emit events on stderr writes (default false) ;environment=A=\"1\",B=\"2\" ; process environment additions ;serverurl=AUTO ; override serverurl computation (childutils) ; The sample group section below shows all possible group values. Create one ; or more 'real' group: sections to create \"heterogeneous\" process groups. ;[group:thegroupname] ;programs=progname1,progname2 ; each refers to 'x' in [program:x] definitions ;priority=999 ; the relative start priority (default 999) ; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. [include] files = /usr/local/etc/supervisor.d/*.ini","title":"Configuration Template \u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u7248"},{"location":"supervisor/supervisor_conf/#details","text":"","title":"Details \u914d\u7f6e\u6587\u4ef6\u8be6\u89e3"},{"location":"supervisor/supervisor_conf/#section-unix_http_server","text":"[ unix_http_server ] file =/ tmp / supervisor . sock ; socket\u6587\u4ef6\u7684\u8def\u5f84 \uff0c supervisorctl\u7528XML_RPC\u548csupervisord\u901a\u4fe1\u5c31\u662f\u901a\u8fc7\u5b83\u8fdb\u884c \u7684 \u3002 \u5982\u679c\u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c supervisorctl\u4e5f\u5c31\u4e0d\u80fd\u7528\u4e86 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3anone \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chmod = 0700 ; \u8fd9\u4e2a\u7b80\u5355 \uff0c \u5c31\u662f\u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u6743\u9650\u4e3a0700 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a0700 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; chown = nobody : nogroup ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u4fee\u6539\u4e0a\u9762\u7684\u90a3\u4e2asocket\u6587\u4ef6\u7684\u5c5e\u7ec4\u4e3auser . group \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u542f\u52a8supervisord\u8fdb\u7a0b\u7684\u7528\u6237\u53ca\u5c5e\u7ec4 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; username = user ; \u4f7f\u7528supervisorctl\u8fde\u63a5\u7684\u65f6\u5019 \uff0c \u8ba4\u8bc1\u7684\u7528\u6237 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u9700\u8981\u7528\u6237 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u548c\u4e0a\u9762\u7684\u7528\u6237\u540d\u5bf9\u5e94\u7684\u5bc6\u7801 \uff0c \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u660e\u7801 \uff0c \u4e5f\u53ef\u4ee5\u4f7f\u7528SHA\u52a0\u5bc6 \u5982 \uff1a { SHA } 82ab876d1387bfafe46cc1c8a2ef074eae50cb1d \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e","title":"Section: unix_http_server"},{"location":"supervisor/supervisor_conf/#section-inet_http_server","text":"; [ inet_http_server ] ; \u4fa6\u542c\u5728TCP\u4e0a\u7684socket \uff0c Web Server\u548c\u8fdc\u7a0b\u7684supervisorctl\u90fd\u8981\u7528\u5230\u4ed6 \u4e0d\u8bbe\u7f6e\u7684\u8bdd \uff0c \u9ed8\u8ba4\u4e3a\u4e0d\u5f00\u542f \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; port = 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662f\u4fa6\u542c\u7684IP\u548c\u7aef\u53e3 \uff0c \u4fa6\u542c\u6240\u6709IP\u7528 : 9001\u6216 * : 9001 \u3002 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e \uff0c \u53ea\u8981\u4e0a\u9762\u7684 [ inet_http_server ] \u5f00\u542f\u4e86 \uff0c \u5c31\u5fc5\u987b\u8bbe\u7f6e\u5b83 ; username = user ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684uinx_http_server\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u8fd9\u4e2a\u4e5f\u4e00\u4e2a\u6837 \u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e","title":"Section: inet_http_server"},{"location":"supervisor/supervisor_conf/#section-supervisord","text":"[supervisord] ;\u8fd9\u4e2a\u4e3b\u8981\u662f\u5b9a\u4e49supervisord\u8fd9\u4e2a\u670d\u52a1\u7aef\u8fdb\u7a0b\u7684\u4e00\u4e9b\u53c2\u6570\u7684 \u8fd9\u4e2a\u5fc5\u987b\u8bbe\u7f6e\uff0c\u4e0d\u8bbe\u7f6e\uff0csupervisor\u5c31\u4e0d\u7528\u5e72\u6d3b\u4e86 logfile=/tmp/supervisord.log ; \u8fd9\u4e2a\u662fsupervisord\u8fd9\u4e2a\u4e3b\u8fdb\u7a0b\u7684\u65e5\u5fd7\u8def\u5f84\uff0c\u6ce8\u610f\u548c\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u4e0d\u642d\u560e\u3002 \u9ed8\u8ba4\u8def\u5f84$CWD/supervisord.log\uff0c$CWD\u662f\u5f53\u524d\u76ee\u5f55\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e logfile_maxbytes=50MB ; \u8fd9\u4e2a\u662f\u4e0a\u9762\u90a3\u4e2a\u65e5\u5fd7\u6587\u4ef6\u7684\u6700\u5927\u7684\u5927\u5c0f\uff0c\u5f53\u8d85\u8fc750M\u7684\u65f6\u5019\uff0c\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u65e5 \u5fd7\u6587\u4ef6\u3002\u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u5927\u5c0f \u9ed8\u8ba4\u503c\u662f50M\uff0c\u975e\u5fc5\u987b\u8bbe\u7f6e\u3002 logfile_backups=10 ; \u65e5\u5fd7\u6587\u4ef6\u4fdd\u6301\u7684\u6570\u91cf\uff0csupervisor\u5728\u542f\u52a8\u7a0b\u5e8f\u65f6\uff0c\u4f1a\u81ea\u52a8\u521b\u5efa10\u4e2abuckup\u6587\u4ef6\uff0c\u7528\u4e8elog rotate \u5f53\u8bbe\u7f6e\u4e3a0\u65f6\uff0c\u8868\u793a\u4e0d\u9650\u5236\u6587\u4ef6\u7684\u6570\u91cf\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a10\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e loglevel=info ; \u65e5\u5fd7\u7ea7\u522b\uff0c\u6709critical, error, warn, info, debug, trace, or blather\u7b49 \u9ed8\u8ba4\u4e3ainfo\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 pidfile=/tmp/supervisord.pid ; supervisord\u7684pid\u6587\u4ef6\u8def\u5f84\u3002 \u9ed8\u8ba4\u4e3a$CWD/supervisord.pid\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e nodaemon=false ; \u5982\u679c\u662ftrue\uff0csupervisord\u8fdb\u7a0b\u5c06\u5728\u524d\u53f0\u8fd0\u884c \u9ed8\u8ba4\u4e3afalse\uff0c\u4e5f\u5c31\u662f\u540e\u53f0\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minfds=1024 ; \u8fd9\u4e2a\u662f\u6700\u5c11\u7cfb\u7edf\u7a7a\u95f2\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u5c06\u4e0d\u4f1a\u542f\u52a8\u3002 \u7cfb\u7edf\u7684\u6587\u4ef6\u63cf\u8ff0\u7b26\u5728\u8fd9\u91cc\u8bbe\u7f6ecat /proc/sys/fs/file-max \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3a1024\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e minprocs=200 ; \u6700\u5c0f\u53ef\u7528\u7684\u8fdb\u7a0b\u63cf\u8ff0\u7b26\uff0c\u4f4e\u4e8e\u8fd9\u4e2a\u503csupervisor\u4e5f\u5c06\u4e0d\u4f1a\u6b63\u5e38\u542f\u52a8\u3002 ulimit -u\u8fd9\u4e2a\u547d\u4ee4\uff0c\u53ef\u4ee5\u67e5\u770blinux\u4e0b\u9762\u7528\u6237\u7684\u6700\u5927\u8fdb\u7a0b\u6570 \u9ed8\u8ba4\u4e3a200\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;umask=022 ; \u8fdb\u7a0b\u521b\u5efa\u6587\u4ef6\u7684\u63a9\u7801 \u9ed8\u8ba4\u4e3a022\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;user=chrism ; \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u975eroot\u7528\u6237\uff0c\u5f53\u6211\u4eec\u4ee5root\u7528\u6237\u542f\u52a8supervisord\u4e4b\u540e\u3002 \u6211\u8fd9\u91cc\u9762\u8bbe\u7f6e\u7684\u8fd9\u4e2a\u7528\u6237\uff0c\u4e5f\u53ef\u4ee5\u5bf9supervisord\u8fdb\u884c\u7ba1\u7406 \u9ed8\u8ba4\u60c5\u51b5\u662f\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ;identifier=supervisor ; \u8fd9\u4e2a\u53c2\u6570\u662fsupervisord\u7684\u6807\u8bc6\u7b26\uff0c\u4e3b\u8981\u662f\u7ed9XML_RPC\u7528\u7684\u3002\u5f53\u4f60\u6709\u591a\u4e2a supervisor\u7684\u65f6\u5019\uff0c\u800c\u4e14\u60f3\u8c03\u7528XML_RPC\u7edf\u4e00\u7ba1\u7406\uff0c\u5c31\u9700\u8981\u4e3a\u6bcf\u4e2a supervisor\u8bbe\u7f6e\u4e0d\u540c\u7684\u6807\u8bc6\u7b26\u4e86 \u9ed8\u8ba4\u662fsupervisord\u3002\u3002\u3002\u975e\u5fc5\u9700\u8bbe\u7f6e ;directory=/tmp ; \u8fd9\u4e2a\u53c2\u6570\u662f\u5f53supervisord\u4f5c\u4e3a\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u7684\u65f6\u5019\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u7684\u8bdd\uff0c\u542f\u52a8 supervisord\u8fdb\u7a0b\u4e4b\u524d\uff0c\u4f1a\u5148\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;nocleanup=true ; \u8fd9\u4e2a\u53c2\u6570\u5f53\u4e3afalse\u7684\u65f6\u5019\uff0c\u4f1a\u5728supervisord\u8fdb\u7a0b\u542f\u52a8\u7684\u65f6\u5019\uff0c\u628a\u4ee5\u524d\u5b50\u8fdb\u7a0b \u4ea7\u751f\u7684\u65e5\u5fd7\u6587\u4ef6(\u8def\u5f84\u4e3aAUTO\u7684\u60c5\u51b5\u4e0b)\u6e05\u9664\u6389\u3002\u6709\u65f6\u5019\u54b1\u4eec\u60f3\u8981\u770b\u5386\u53f2\u65e5\u5fd7\uff0c\u5f53 \u7136\u4e0d\u60f3\u65e5\u5fd7\u88ab\u6e05\u9664\u4e86\u3002\u6240\u4ee5\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue \u9ed8\u8ba4\u662ffalse\uff0c\u6709\u8c03\u8bd5\u9700\u6c42\u7684\u540c\u5b66\u53ef\u4ee5\u8bbe\u7f6e\u4e3atrue\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;childlogdir=/tmp ; \u5f53\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u8def\u5f84\u4e3aAUTO\u7684\u65f6\u5019\uff0c\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u6587\u4ef6\u7684\u5b58\u653e\u8def\u5f84\u3002 \u9ed8\u8ba4\u8def\u5f84\u662f\u8fd9\u4e2a\u4e1c\u897f\uff0c\u6267\u884c\u4e0b\u9762\u7684\u8fd9\u4e2a\u547d\u4ee4\u770b\u770b\u5c31OK\u4e86\uff0c\u5904\u7406\u7684\u4e1c\u897f\u5c31\u9ed8\u8ba4\u8def\u5f84 python -c \"import tempfile;print tempfile.gettempdir()\" \u975e\u5fc5\u987b\u8bbe\u7f6e ;environment=KEY=\"value\" ; \u8fd9\u4e2a\u662f\u7528\u6765\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7684\uff0csupervisord\u5728linux\u4e2d\u542f\u52a8\u9ed8\u8ba4\u7ee7\u627f\u4e86linux\u7684 \u73af\u5883\u53d8\u91cf\uff0c\u5728\u8fd9\u91cc\u53ef\u4ee5\u8bbe\u7f6esupervisord\u8fdb\u7a0b\u7279\u6709\u7684\u5176\u4ed6\u73af\u5883\u53d8\u91cf\u3002 supervisord\u542f\u52a8\u5b50\u8fdb\u7a0b\u65f6\uff0c\u5b50\u8fdb\u7a0b\u4f1a\u62f7\u8d1d\u7236\u8fdb\u7a0b\u7684\u5185\u5b58\u7a7a\u95f4\u5185\u5bb9\u3002 \u6240\u4ee5\u8bbe\u7f6e\u7684 \u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4e5f\u4f1a\u88ab\u5b50\u8fdb\u7a0b\u7ee7\u627f\u3002 \u5c0f\u4f8b\u5b50\uff1aenvironment=name=\"haha\",age=\"hehe\" \u9ed8\u8ba4\u4e3a\u4e0d\u8bbe\u7f6e\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;strip_ansi=false ; \u8fd9\u4e2a\u9009\u9879\u5982\u679c\u8bbe\u7f6e\u4e3atrue\uff0c\u4f1a\u6e05\u9664\u5b50\u8fdb\u7a0b\u65e5\u5fd7\u4e2d\u7684\u6240\u6709ANSI \u5e8f\u5217\u3002\u4ec0\u4e48\u662fANSI \u5e8f\u5217\u5462\uff1f\u5c31\u662f\u6211\u4eec\u7684\\n,\\t\u8fd9\u4e9b\u4e1c\u897f\u3002 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e","title":"Section: supervisord"},{"location":"supervisor/supervisor_conf/#section-rpcinterface","text":"; the below section must remain in the config file for RPC ; ( supervisorctl / web interface ) to work , additional interfaces may be ; added by defining them in separate rpcinterface : sections [ rpcinterface : supervisor ] ; \u8fd9\u4e2a\u9009\u9879\u662f\u7ed9XML_RPC\u7528\u7684 \uff0c \u5f53\u7136\u4f60\u5982\u679c\u60f3\u4f7f\u7528supervisord\u6216\u8005web server \u8fd9 \u4e2a\u9009\u9879\u5fc5\u987b\u8981\u5f00\u542f\u7684 supervisor . rpcinterface_factory = supervisor . rpcinterface : make_main_rpcinterface","title":"Section: rpcinterface"},{"location":"supervisor/supervisor_conf/#section-supervisorctl","text":"[ supervisorctl ] ; \u8fd9\u4e2a\u4e3b\u8981\u662f\u9488\u5bf9supervisorctl\u7684\u4e00\u4e9b\u914d\u7f6e serverurl = unix :/// tmp / supervisor . sock ; \u8fd9\u4e2a\u662fsupervisorctl\u672c\u5730\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u672c\u5730UNIX socket \u8def\u5f84 \uff0c \u6ce8\u610f\u8fd9\u4e2a\u662f\u548c\u524d\u9762\u7684 [ unix_http_server ] \u5bf9\u5e94\u7684 \u9ed8\u8ba4\u503c\u5c31\u662funix :/// tmp / supervisor . sock \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; serverurl = http :// 127 . 0 . 0 . 1 : 9001 ; \u8fd9\u4e2a\u662fsupervisorctl\u8fdc\u7a0b\u8fde\u63a5supervisord\u7684\u65f6\u5019 \uff0c \u7528\u5230\u7684TCP socket\u8def\u5f84 \u6ce8\u610f\u8fd9\u4e2a\u548c\u524d\u9762\u7684 [ inet_http_server ] \u5bf9\u5e94 \u9ed8\u8ba4\u5c31\u662fhttp :// 127 . 0 . 0 . 1 : 9001 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; username = chris ; \u7528\u6237\u540d \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; password = 123 ; \u5bc6\u7801 \u9ed8\u8ba4\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; prompt = mysupervisor ; \u8f93\u5165\u7528\u6237\u540d\u5bc6\u7801\u65f6\u5019\u7684\u63d0\u793a\u7b26 \u9ed8\u8ba4supervisor \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; history_file =~/ . sc_history ; \u8fd9\u4e2a\u53c2\u6570\u548cshell\u4e2d\u7684history\u7c7b\u4f3c \uff0c \u6211\u4eec\u53ef\u4ee5\u7528\u4e0a\u4e0b\u952e\u6765\u67e5\u627e\u524d\u9762\u6267\u884c\u8fc7\u7684\u547d\u4ee4 \u9ed8\u8ba4\u662fno file\u7684 \u3002\u3002 \u6240\u4ee5\u6211\u4eec\u60f3\u8981\u6709\u8fd9\u79cd\u529f\u80fd \uff0c \u5fc5\u987b\u6307\u5b9a\u4e00\u4e2a\u6587\u4ef6 \u3002\u3002\u3002 \u975e \u5fc5\u987b\u8bbe\u7f6e","title":"Section: supervisorctl"},{"location":"supervisor/supervisor_conf/#section-program","text":"; The below sample program section shows all possible program subsection values , ; create one or more 'real' program : sections to be able to control them under ; supervisor . ; [ program : theprogramname ] ; \u8fd9\u4e2a\u5c31\u662f\u54b1\u4eec\u8981\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b\u4e86 \uff0c \":\" \u540e\u9762\u7684\u662f\u540d\u5b57 \uff0c \u6700\u597d\u522b\u4e71\u5199\u548c\u5b9e\u9645\u8fdb\u7a0b \u6709\u70b9\u5173\u8054\u6700\u597d \u3002 \u8fd9\u6837\u7684program\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u6216\u591a\u4e2a \uff0c \u4e00\u4e2aprogram\u5c31\u662f \u8981\u88ab\u7ba1\u7406\u7684\u4e00\u4e2a\u8fdb\u7a0b ; command =/ bin / cat ; \u8fd9\u4e2a\u5c31\u662f\u6211\u4eec\u7684\u8981\u542f\u52a8\u8fdb\u7a0b\u7684\u547d\u4ee4\u8def\u5f84\u4e86 \uff0c \u53ef\u4ee5\u5e26\u53c2\u6570 \u4f8b\u5b50 \uff1a / home / test . py -a 'hehe' \u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u6211\u4eec\u7684command\u53ea\u80fd\u662f\u90a3\u79cd\u5728\u7ec8\u7aef\u8fd0\u884c\u7684\u8fdb\u7a0b \uff0c \u4e0d\u80fd\u662f \u5b88\u62a4\u8fdb\u7a0b \u3002 \u8fd9\u4e2a\u60f3\u60f3\u4e5f\u77e5\u9053\u4e86 \uff0c \u6bd4\u5982\u8bf4command = service httpd start \u3002 httpd\u8fd9\u4e2a\u8fdb\u7a0b\u88ablinux\u7684service\u7ba1\u7406\u4e86 \uff0c \u6211\u4eec\u7684supervisor\u518d\u53bb\u542f\u52a8\u8fd9\u4e2a\u547d\u4ee4 \u8fd9\u5df2\u7ecf\u4e0d\u662f\u4e25\u683c\u610f\u4e49\u7684\u5b50\u8fdb\u7a0b\u4e86 \u3002 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u8bbe\u7f6e\u7684\u9879 ; process_name =%( program_name ) s ; \u8fd9\u4e2a\u662f\u8fdb\u7a0b\u540d \uff0c \u5982\u679c\u6211\u4eec\u4e0b\u9762\u7684numprocs\u53c2\u6570\u4e3a1\u7684\u8bdd \uff0c \u5c31\u4e0d\u7528\u7ba1\u8fd9\u4e2a\u53c2\u6570 \u4e86 \uff0c \u5b83\u9ed8\u8ba4\u503c %( program_name ) s\u4e5f\u5c31\u662f\u4e0a\u9762\u7684\u90a3\u4e2aprogram\u5192\u53f7\u540e\u9762\u7684\u540d\u5b57 \uff0c \u4f46\u662f\u5982\u679cnumprocs\u4e3a\u591a\u4e2a\u7684\u8bdd \uff0c \u90a3\u5c31\u4e0d\u80fd\u8fd9\u4e48\u5e72\u4e86 \u3002 \u60f3\u60f3\u4e5f\u77e5\u9053 \uff0c \u4e0d\u53ef\u80fd\u6bcf\u4e2a \u8fdb\u7a0b\u90fd\u7528\u540c\u4e00\u4e2a\u8fdb\u7a0b\u540d\u5427 \u3002 ; numprocs = 1 ; \u542f\u52a8\u8fdb\u7a0b\u7684\u6570\u76ee \u3002 \u5f53\u4e0d\u4e3a1\u65f6 \uff0c \u5c31\u662f\u8fdb\u7a0b\u6c60\u7684\u6982\u5ff5 \uff0c \u6ce8\u610fprocess_name\u7684\u8bbe\u7f6e \u9ed8\u8ba4\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; directory =/ tmp ; \u8fdb\u7a0b\u8fd0\u884c\u524d \uff0c \u4f1a\u524d\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55 \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; umask = 022 ; \u8fdb\u7a0b\u63a9\u7801 \uff0c \u9ed8\u8ba4none \uff0c \u975e\u5fc5\u987b ; priority = 999 ; \u5b50\u8fdb\u7a0b\u542f\u52a8\u5173\u95ed\u4f18\u5148\u7ea7 \uff0c \u4f18\u5148\u7ea7\u4f4e\u7684 \uff0c \u6700\u5148\u542f\u52a8 \uff0c \u5173\u95ed\u7684\u65f6\u5019\u6700\u540e\u5173\u95ed \u9ed8\u8ba4\u503c\u4e3a999 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autostart = true ; \u5982\u679c\u662ftrue\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u5c06\u5728supervisord\u542f\u52a8\u540e\u88ab\u81ea\u52a8\u542f\u52a8 \u9ed8\u8ba4\u5c31\u662ftrue \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; autorestart = unexpected ; \u8fd9\u4e2a\u662f\u8bbe\u7f6e\u5b50\u8fdb\u7a0b\u6302\u6389\u540e\u81ea\u52a8\u91cd\u542f\u7684\u60c5\u51b5 \uff0c \u6709\u4e09\u4e2a\u9009\u9879 \uff0c false , unexpected \u548ctrue \u3002 \u5982\u679c\u4e3afalse\u7684\u65f6\u5019 \uff0c \u65e0\u8bba\u4ec0\u4e48\u60c5\u51b5\u4e0b \uff0c \u90fd\u4e0d\u4f1a\u88ab\u91cd\u65b0\u542f\u52a8 \uff0c \u5982\u679c\u4e3aunexpected \uff0c \u53ea\u6709\u5f53\u8fdb\u7a0b\u7684\u9000\u51fa\u7801\u4e0d\u5728\u4e0b\u9762\u7684exitcodes\u91cc\u9762\u5b9a\u4e49\u7684\u9000 \u51fa\u7801\u7684\u65f6\u5019 \uff0c \u624d\u4f1a\u88ab\u81ea\u52a8\u91cd\u542f \u3002 \u5f53\u4e3atrue\u7684\u65f6\u5019 \uff0c \u53ea\u8981\u5b50\u8fdb\u7a0b\u6302\u6389 \uff0c \u5c06\u4f1a\u88ab\u65e0 \u6761\u4ef6\u7684\u91cd\u542f ; startsecs = 1 ; \u8fd9\u4e2a\u9009\u9879\u662f\u5b50\u8fdb\u7a0b\u542f\u52a8\u591a\u5c11\u79d2\u4e4b\u540e \uff0c \u6b64\u65f6\u72b6\u6001\u5982\u679c\u662frunning \uff0c \u5219\u6211\u4eec\u8ba4\u4e3a\u542f \u52a8\u6210\u529f\u4e86 \u9ed8\u8ba4\u503c\u4e3a1 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; startretries = 3 ; \u5f53\u8fdb\u7a0b\u542f\u52a8\u5931\u8d25\u540e \uff0c \u6700\u5927\u5c1d\u8bd5\u542f\u52a8\u7684\u6b21\u6570 \u3002\u3002 \u5f53\u8d85\u8fc73\u6b21\u540e \uff0c supervisor\u5c06\u628a \u6b64\u8fdb\u7a0b\u7684\u72b6\u6001\u7f6e\u4e3aFAIL \u9ed8\u8ba4\u503c\u4e3a3 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; exitcodes = 0 , 2 ; \u6ce8\u610f\u548c\u4e0a\u9762\u7684\u7684autorestart = unexpected\u5bf9\u5e94 \u3002\u3002 exitcodes\u91cc\u9762\u7684\u5b9a\u4e49\u7684 \u9000\u51fa\u7801\u662fexpected\u7684 \u3002 ; stopsignal = QUIT ; \u8fdb\u7a0b\u505c\u6b62\u4fe1\u53f7 \uff0c \u53ef\u4ee5\u4e3aTERM , HUP , INT , QUIT , KILL , USR1 , or USR2\u7b49\u4fe1\u53f7 \u9ed8\u8ba4\u4e3aTERM \u3002\u3002 \u5f53\u7528\u8bbe\u5b9a\u7684\u4fe1\u53f7\u53bb\u5e72\u6389\u8fdb\u7a0b \uff0c \u9000\u51fa\u7801\u4f1a\u88ab\u8ba4\u4e3a\u662fexpected \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopwaitsecs = 10 ; \u8fd9\u4e2a\u662f\u5f53\u6211\u4eec\u5411\u5b50\u8fdb\u7a0b\u53d1\u9001stopsignal\u4fe1\u53f7\u540e \uff0c \u5230\u7cfb\u7edf\u8fd4\u56de\u4fe1\u606f \u7ed9supervisord \uff0c \u6240\u7b49\u5f85\u7684\u6700\u5927\u65f6\u95f4 \u3002 \u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4 \uff0c supervisord\u4f1a\u5411\u8be5 \u5b50\u8fdb\u7a0b\u53d1\u9001\u4e00\u4e2a\u5f3a\u5236kill\u7684\u4fe1\u53f7 \u3002 \u9ed8\u8ba4\u4e3a10\u79d2 \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stopasgroup = false ; \u8fd9\u4e2a\u4e1c\u897f\u4e3b\u8981\u7528\u4e8e \uff0c supervisord\u7ba1\u7406\u7684\u5b50\u8fdb\u7a0b \uff0c \u8fd9\u4e2a\u5b50\u8fdb\u7a0b\u672c\u8eab\u8fd8\u6709 \u5b50\u8fdb\u7a0b \u3002 \u90a3\u4e48\u6211\u4eec\u5982\u679c\u4ec5\u4ec5\u5e72\u6389supervisord\u7684\u5b50\u8fdb\u7a0b\u7684\u8bdd \uff0c \u5b50\u8fdb\u7a0b\u7684\u5b50\u8fdb\u7a0b \u6709\u53ef\u80fd\u4f1a\u53d8\u6210\u5b64\u513f\u8fdb\u7a0b \u3002 \u6240\u4ee5\u54b1\u4eec\u53ef\u4ee5\u8bbe\u7f6e\u53ef\u4e2a\u9009\u9879 \uff0c \u628a\u6574\u4e2a\u8be5\u5b50\u8fdb\u7a0b\u7684 \u6574\u4e2a\u8fdb\u7a0b\u7ec4\u90fd\u5e72\u6389 \u3002 \u8bbe\u7f6e\u4e3atrue\u7684\u8bdd \uff0c \u4e00\u822ckillasgroup\u4e5f\u4f1a\u88ab\u8bbe\u7f6e\u4e3atrue \u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f \uff0c \u8be5\u9009\u9879\u53d1\u9001\u7684\u662fstop\u4fe1\u53f7 \u9ed8\u8ba4\u4e3afalse \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e \u3002\u3002 ; killasgroup = false ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684stopasgroup\u7c7b\u4f3c \uff0c \u4e0d\u8fc7\u53d1\u9001\u7684\u662fkill\u4fe1\u53f7 ; user = chrism ; \u5982\u679csupervisord\u662froot\u542f\u52a8 \uff0c \u6211\u4eec\u5728\u8fd9\u91cc\u8bbe\u7f6e\u8fd9\u4e2a\u975eroot\u7528\u6237 \uff0c \u53ef\u4ee5\u7528\u6765 \u7ba1\u7406\u8be5program \u9ed8\u8ba4\u4e0d\u8bbe\u7f6e \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e\u9879 ; redirect_stderr = true ; \u5982\u679c\u4e3atrue \uff0c \u5219stderr\u7684\u65e5\u5fd7\u4f1a\u88ab\u5199\u5165stdout\u65e5\u5fd7\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3afalse \uff0c \u975e\u5fc5\u987b\u8bbe\u7f6e ; stdout_logfile =/ a / path ; \u5b50\u8fdb\u7a0b\u7684stdout\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u53ef\u4ee5\u6307\u5b9a\u8def\u5f84 \uff0c AUTO \uff0c none\u7b49\u4e09\u4e2a\u9009\u9879 \u3002 \u8bbe\u7f6e\u4e3anone\u7684\u8bdd \uff0c \u5c06\u6ca1\u6709\u65e5\u5fd7\u4ea7\u751f \u3002 \u8bbe\u7f6e\u4e3aAUTO\u7684\u8bdd \uff0c \u5c06\u968f\u673a\u627e\u4e00\u4e2a\u5730\u65b9 \u751f\u6210\u65e5\u5fd7\u6587\u4ef6 \uff0c \u800c\u4e14\u5f53supervisord\u91cd\u65b0\u542f\u52a8\u7684\u65f6\u5019 \uff0c \u4ee5\u524d\u7684\u65e5\u5fd7\u6587\u4ef6\u4f1a\u88ab \u6e05\u7a7a \u3002 \u5f53 redirect_stderr = true\u7684\u65f6\u5019 \uff0c sterr\u4e5f\u4f1a\u5199\u8fdb\u8fd9\u4e2a\u65e5\u5fd7\u6587\u4ef6 ; stdout_logfile_maxbytes = 1MB ; \u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u5927\u5c0f \uff0c \u548c [ supervisord ] \u4e2d\u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a50 ; stdout_logfile_backups = 10 ; \u548c [ supervisord ] \u5b9a\u4e49\u7684\u4e00\u6837 \u3002 \u9ed8\u8ba410 ; stdout_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u5b9acapture\u7ba1\u9053\u7684\u5927\u5c0f \uff0c \u5f53\u503c\u4e0d\u4e3a0\u7684\u65f6\u5019 \uff0c \u5b50\u8fdb\u7a0b\u53ef\u4ee5\u4ecestdout \u53d1\u9001\u4fe1\u606f \uff0c \u800csupervisor\u53ef\u4ee5\u6839\u636e\u4fe1\u606f \uff0c \u53d1\u9001\u76f8\u5e94\u7684event \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u4e3a0\u7684\u65f6\u5019\u8868\u8fbe\u5173\u95ed\u7ba1\u9053 \u3002\u3002\u3002 \u975e\u5fc5\u987b\u9879 ; stdout_events_enabled = false ; \u5f53\u8bbe\u7f6e\u4e3ature\u7684\u65f6\u5019 \uff0c \u5f53\u5b50\u8fdb\u7a0b\u7531stdout\u5411\u6587\u4ef6\u63cf\u8ff0\u7b26\u4e2d\u5199\u65e5\u5fd7\u7684\u65f6\u5019 \uff0c \u5c06 \u89e6\u53d1supervisord\u53d1\u9001PROCESS_LOG_STDOUT\u7c7b\u578b\u7684event \u9ed8\u8ba4\u4e3afalse \u3002\u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile =/ a / path ; \u8fd9\u4e2a\u4e1c\u897f\u662f\u8bbe\u7f6estderr\u5199\u7684\u65e5\u5fd7\u8def\u5f84 \uff0c \u5f53redirect_stderr = true \u3002 \u8fd9\u4e2a\u5c31\u4e0d\u7528 \u8bbe\u7f6e\u4e86 \uff0c \u8bbe\u7f6e\u4e86\u4e5f\u662f\u767d\u642d \u3002 \u56e0\u4e3a\u5b83\u4f1a\u88ab\u5199\u5165stdout_logfile\u7684\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d \u9ed8\u8ba4\u4e3aAUTO \uff0c \u4e5f\u5c31\u662f\u968f\u4fbf\u627e\u4e2a\u5730\u5b58 \uff0c supervisord\u91cd\u542f\u88ab\u6e05\u7a7a \u3002\u3002 \u975e\u5fc5\u987b\u8bbe\u7f6e ; stderr_logfile_maxbytes = 1MB ; \u8fd9\u4e2a\u51fa\u73b0\u597d\u51e0\u6b21\u4e86 \uff0c \u5c31\u4e0d\u91cd\u590d\u4e86 ; stderr_logfile_backups = 10 ; \u8fd9\u4e2a\u4e5f\u662f ; stderr_capture_maxbytes = 1MB ; \u8fd9\u4e2a\u4e00\u6837 \uff0c \u548cstdout_capture\u4e00\u6837 \u3002 \u9ed8\u8ba4\u4e3a0 \uff0c \u5173\u95ed\u72b6\u6001 ; stderr_events_enabled = false ; \u8fd9\u4e2a\u4e5f\u662f\u4e00\u6837 \uff0c \u9ed8\u8ba4\u4e3afalse ; environment = A = \"1\" , B = \"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \uff0c \u548c\u522b\u7684\u5b50\u8fdb\u7a0b\u662f\u4e0d\u5171\u4eab\u7684 ; serverurl = AUTO ;","title":"Section: program"},{"location":"supervisor/supervisor_conf/#section-eventlistener","text":"; The below sample eventlistener section shows all possible ; eventlistener subsection values, create one or more 'real' ; eventlistener: sections to be able to handle event notifications ; sent by supervisor. ;[eventlistener:theeventlistenername] ;\u8fd9\u4e2a\u4e1c\u897f\u5176\u5b9e\u548cprogram\u7684\u5730\u4f4d\u662f\u4e00\u6837\u7684\uff0c\u4e5f\u662fsuopervisor\u542f\u52a8\u7684\u5b50\u8fdb \u7a0b\uff0c\u4e0d\u8fc7\u5b83\u5e72\u7684\u6d3b\u662f\u8ba2\u9605supervisord\u53d1\u9001\u7684event\u3002\u4ed6\u7684\u540d\u5b57\u5c31\u53eb listener\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728listener\u91cc\u9762\u505a\u4e00\u7cfb\u5217\u5904\u7406\uff0c\u6bd4\u5982\u62a5\u8b66\u7b49\u7b49 \u697c\u4e3b\u8fd9\u4e24\u5929\u5e72\u7684\u6d3b\uff0c\u5c31\u662f\u5f04\u7684\u8fd9\u73a9\u610f ;command=/bin/eventlistener ; \u8fd9\u4e2a\u548c\u4e0a\u9762\u7684program\u4e00\u6837\uff0c\u8868\u793alistener\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84 ;process_name=%(program_name)s ; \u8fd9\u4e2a\u4e5f\u4e00\u6837\uff0c\u8fdb\u7a0b\u540d\uff0c\u5f53\u4e0b\u9762\u7684numprocs\u4e3a\u591a\u4e2a\u7684\u65f6\u5019\uff0c\u624d\u9700\u8981\u3002\u5426\u5219\u9ed8\u8ba4\u5c31 OK\u4e86 ;numprocs=1 ; \u76f8\u540c\u7684listener\u542f\u52a8\u7684\u4e2a\u6570 ;events=EVENT ; event\u4e8b\u4ef6\u7684\u7c7b\u578b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u6709\u5199\u5728\u8fd9\u4e2a\u5730\u65b9\u7684\u4e8b\u4ef6\u7c7b\u578b\u3002\u624d\u4f1a\u88ab\u53d1\u9001 ;buffer_size=10 ; \u8fd9\u4e2a\u662fevent\u961f\u5217\u7f13\u5b58\u5927\u5c0f\uff0c\u5355\u4f4d\u4e0d\u592a\u6e05\u695a\uff0c\u697c\u4e3b\u731c\u6d4b\u5e94\u8be5\u662f\u4e2a\u5427\u3002\u5f53buffer \u8d85\u8fc710\u7684\u65f6\u5019\uff0c\u6700\u65e7\u7684event\u5c06\u4f1a\u88ab\u6e05\u9664\uff0c\u5e76\u628a\u65b0\u7684event\u653e\u8fdb\u53bb\u3002 \u9ed8\u8ba4\u503c\u4e3a10\u3002\u3002\u975e\u5fc5\u987b\u9009\u9879 ;directory=/tmp ; \u8fdb\u7a0b\u6267\u884c\u524d\uff0c\u4f1a\u5207\u6362\u5230\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6267\u884c \u9ed8\u8ba4\u4e3a\u4e0d\u5207\u6362\u3002\u3002\u3002\u975e\u5fc5\u987b ;umask=022 ; \u6df9\u6ca1\uff0c\u9ed8\u8ba4\u4e3anone\uff0c\u4e0d\u8bf4\u4e86 ;priority=-1 ; \u542f\u52a8\u4f18\u5148\u7ea7\uff0c\u9ed8\u8ba4-1\uff0c\u4e5f\u4e0d\u626f\u4e86 ;autostart=true ; \u662f\u5426\u968fsupervisord\u542f\u52a8\u4e00\u8d77\u542f\u52a8\uff0c\u9ed8\u8ba4true ;autorestart=unexpected ; \u662f\u5426\u81ea\u52a8\u91cd\u542f\uff0c\u548cprogram\u4e00\u4e2a\u6837\uff0c\u5206true,false,unexpected\u7b49\uff0c\u6ce8\u610f unexpected\u548cexitcodes\u7684\u5173\u7cfb ;startsecs=1 ; \u4e5f\u662f\u4e00\u6837\uff0c\u8fdb\u7a0b\u542f\u52a8\u540e\u8dd1\u4e86\u51e0\u79d2\u949f\uff0c\u624d\u88ab\u8ba4\u5b9a\u4e3a\u6210\u529f\u542f\u52a8\uff0c\u9ed8\u8ba41 ;startretries=3 ; \u5931\u8d25\u6700\u5927\u5c1d\u8bd5\u6b21\u6570\uff0c\u9ed8\u8ba43 ;exitcodes=0,2 ; \u671f\u671b\u6216\u8005\u8bf4\u9884\u6599\u4e2d\u7684\u8fdb\u7a0b\u9000\u51fa\u7801\uff0c ;stopsignal=QUIT ; \u5e72\u6389\u8fdb\u7a0b\u7684\u4fe1\u53f7\uff0c\u9ed8\u8ba4\u4e3aTERM\uff0c\u6bd4\u5982\u8bbe\u7f6e\u4e3aQUIT\uff0c\u90a3\u4e48\u5982\u679cQUIT\u6765\u5e72\u8fd9\u4e2a\u8fdb\u7a0b \u90a3\u4e48\u4f1a\u88ab\u8ba4\u4e3a\u662f\u6b63\u5e38\u7ef4\u62a4\uff0c\u9000\u51fa\u7801\u4e5f\u88ab\u8ba4\u4e3a\u662fexpected\u4e2d\u7684 ;stopwaitsecs=10 ; max num secs to wait b4 SIGKILL (default 10) ;stopasgroup=false ; send stop signal to the UNIX process group (default false) ;killasgroup=false ; SIGKILL the UNIX process group (def false) ;user=chrism ;\u8bbe\u7f6e\u666e\u901a\u7528\u6237\uff0c\u53ef\u4ee5\u7528\u6765\u7ba1\u7406\u8be5listener\u8fdb\u7a0b\u3002 \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;redirect_stderr=true ; \u4e3atrue\u7684\u8bdd\uff0cstderr\u7684log\u4f1a\u5e76\u5165stdout\u7684log\u91cc\u9762 \u9ed8\u8ba4\u4e3afalse\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;stdout_logfile=/a/path ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86\uff0c\u597d\u51e0\u904d\u4e86 ;stdout_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_logfile_backups=10 ; \u8fd9\u4e2a\u4e5f\u662f ;stdout_events_enabled=false ; \u8fd9\u4e2a\u5176\u5b9e\u662f\u9519\u7684\uff0clistener\u662f\u4e0d\u80fd\u53d1\u9001event ;stderr_logfile=/a/path ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_maxbytes=1MB ; \u8fd9\u4e2a\u4e5f\u662f ;stderr_logfile_backups ; \u8fd9\u4e2a\u4e0d\u8bf4\u4e86 ;stderr_events_enabled=false ; \u8fd9\u4e2a\u4e5f\u662f\u9519\u7684\uff0clistener\u4e0d\u80fd\u53d1\u9001event ;environment=A=\"1\",B=\"2\" ; \u8fd9\u4e2a\u662f\u8be5\u5b50\u8fdb\u7a0b\u7684\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u4e3a\u7a7a\u3002\u3002\u3002\u975e\u5fc5\u987b\u8bbe\u7f6e ;serverurl=AUTO ; override serverurl computation (childutils)","title":"Section: eventlistener"},{"location":"supervisor/supervisor_conf/#section-group","text":"; The below sample group section shows all possible group values , ; create one or more 'real' group : sections to create \"heterogeneous\" ; process groups . ; [ group : thegroupname ] ; \u8fd9\u4e2a\u4e1c\u897f\u5c31\u662f\u7ed9programs\u5206\u7ec4 \uff0c \u5212\u5206\u5230\u7ec4\u91cc\u9762\u7684program \u3002 \u6211\u4eec\u5c31\u4e0d\u7528\u4e00\u4e2a\u4e00\u4e2a\u53bb\u64cd\u4f5c\u4e86 \u6211\u4eec\u53ef\u4ee5\u5bf9\u7ec4\u540d\u8fdb\u884c\u7edf\u4e00\u7684\u64cd\u4f5c \u3002 \u6ce8\u610f \uff1a program\u88ab\u5212\u5206\u5230\u7ec4\u91cc\u9762\u4e4b\u540e \uff0c \u5c31\u76f8\u5f53\u4e8e\u539f\u6765 \u7684\u914d\u7f6e\u4ecesupervisor\u7684\u914d\u7f6e\u6587\u4ef6\u91cc\u6d88\u5931\u4e86 \u3002\u3002\u3002 supervisor\u53ea\u4f1a\u5bf9\u7ec4\u8fdb\u884c\u7ba1\u7406 \uff0c \u800c\u4e0d\u518d \u4f1a\u5bf9\u7ec4\u91cc\u9762\u7684\u5355\u4e2aprogram\u8fdb\u884c\u7ba1\u7406\u4e86 ; programs = progname1 , progname2 ; \u7ec4\u6210\u5458 \uff0c \u7528\u9017\u53f7\u5206\u5f00 \u8fd9\u4e2a\u662f\u4e2a\u5fc5\u987b\u7684\u8bbe\u7f6e\u9879 ; priority = 999 ; \u4f18\u5148\u7ea7 \uff0c \u76f8\u5bf9\u4e8e\u7ec4\u548c\u7ec4\u4e4b\u95f4\u8bf4\u7684 \u9ed8\u8ba4999 \u3002\u3002 \u975e\u5fc5\u987b\u9009\u9879","title":"Section: group"},{"location":"supervisor/supervisor_conf/#section-include","text":"; The [include] section can just contain the \"files\" setting. This ; setting can list multiple files (separated by whitespace or ; newlines). It can also contain wildcards. The filenames are ; interpreted as relative to this file. Included files *cannot* ; include files themselves. ;[include] ;\u8fd9\u4e2a\u4e1c\u897f\u633a\u6709\u7528\u7684\uff0c\u5f53\u6211\u4eec\u8981\u7ba1\u7406\u7684\u8fdb\u7a0b\u5f88\u591a\u7684\u65f6\u5019\uff0c\u5199\u5728\u4e00\u4e2a\u6587\u4ef6\u91cc\u9762 \u5c31\u6709\u70b9\u5927\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u914d\u7f6e\u4fe1\u606f\u5199\u5230\u591a\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7136\u540einclude\u8fc7\u6765 ;files = relative/directory/*.ini","title":"Section: include"},{"location":"supervisor/supervisor_conf/#supervisord","text":"$ supervisord --h supervisord -- run a set of applications as daemons. Usage: /usr/local/bin/supervisord [ options ] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -n/--nodaemon -- run in the foreground ( same as 'nodaemon=true' in config file ) -h/--help -- print this usage message and exit -v/--version -- print supervisord version number and exit -u/--user USER -- run supervisord as this user ( or numeric uid ) -m/--umask UMASK -- use this umask for daemon subprocess ( default is 022 ) -d/--directory DIRECTORY -- directory to chdir to when daemonized -l/--logfile FILENAME -- use FILENAME as logfile path -y/--logfile_maxbytes BYTES -- use BYTES to limit the max size of logfile -z/--logfile_backups NUM -- number of backups to keep when max bytes reached -e/--loglevel LEVEL -- use LEVEL as log level ( debug,info,warn,error,critical ) -j/--pidfile FILENAME -- write a pid file for the daemon process to FILENAME -i/--identifier STR -- identifier used for this instance of supervisord -q/--childlogdir DIRECTORY -- the log directory for child process logs -k/--nocleanup -- prevent the process from performing cleanup ( removal of old automatic child log files ) at startup. -a/--minfds NUM -- the minimum number of file descriptors for start success -t/--strip_ansi -- strip ansi escape codes from process output --minprocs NUM -- the minimum number of processes available for start success --profile_options OPTIONS -- run supervisord under profiler and output results based on OPTIONS, which is a comma-sep 'd list of ' cumulative ', ' calls ', and/or ' callers ', e.g. ' cumulative,callers ' )","title":"supervisord"},{"location":"supervisor/supervisor_conf/#supervisorctl","text":"$ supervisorctl --help supervisorctl -- control applications run by supervisord from the cmd line. Usage: /usr/local/bin/supervisorctl [ options ] [ action [ arguments ]] Options: -c/--configuration FILENAME -- configuration file path ( searches if not given ) -h/--help -- print usage message and exit -i/--interactive -- start an interactive shell after executing commands -s/--serverurl URL -- URL on which supervisord server is listening ( default \"http://localhost:9001\" ) . -u/--username USERNAME -- username to use for authentication with server -p/--password PASSWORD -- password to use for authentication with server -r/--history-file -- keep a readline history ( if readline is available ) action [ arguments ] -- see below Actions are commands like \"tail\" or \"stop\" . If -i is specified or no action is specified on the command line, a \"shell\" interpreting actions typed interactively is started. Use the action \"help\" to find out about available actions. \u9009\u9879 \u89e3\u91ca -c/--configuration FILENAME configuration file path (searches if not given) -h/--help print usage message and exit -i/--interactive start an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"supervisorctl"},{"location":"supervisor/supervisorctl/","text":"supervisorctl \u00b6 1. Introduction \u7b80\u4ecb \u00b6 supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002 2. Running supervisorctl \u8fd0\u884c \u00b6 supervisorctl [options] [action [arguments]] 2-1. supervisorctl Command-Line Options \u547d\u4ee4\u884c\u9009\u9879 \u00b6 options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -h, --help \u663e\u793a\u547d\u4ee4\u7684\u7528\u6cd5 -i, --interactive \u6267\u884c\u5b8c\u547d\u4ee4\u4e4b\u540e\u542f\u52a8\u4ea4\u4e92\u5f0fshellstart an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"supervisorctl"},{"location":"supervisor/supervisorctl/#","text":"","title":"supervisorctl"},{"location":"supervisor/supervisorctl/#introduction","text":"supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002","title":"1. Introduction \u7b80\u4ecb"},{"location":"supervisor/supervisorctl/#running","text":"supervisorctl [options] [action [arguments]]","title":"2. Running supervisorctl \u8fd0\u884c"},{"location":"supervisor/supervisorctl/#options","text":"options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -h, --help \u663e\u793a\u547d\u4ee4\u7684\u7528\u6cd5 -i, --interactive \u6267\u884c\u5b8c\u547d\u4ee4\u4e4b\u540e\u542f\u52a8\u4ea4\u4e92\u5f0fshellstart an interactive shell after executing commands -s/--serverurl URL URL on which supervisord server is listening (default \" http://localhost:9001 \"). -u/--username USERNAME username to use for authentication with server -p/--password PASSWORD password to use for authentication with server -r/--history-file keep a readline history (if readline is available)","title":"2-1. supervisorctl Command-Line Options \u547d\u4ee4\u884c\u9009\u9879"},{"location":"supervisor/supervisord/","text":"supervisord \u00b6 1. Introduction \u7b80\u4ecb \u00b6 supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002 2. Running supervisord \u8fd0\u884c \u00b6 2-1. supervisord Command-Line Options \u547d\u4ee4\u884c\u9009\u9879 \u00b6 options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -n, --nodaemon \u4ee5\u975e\u5b88\u62a4\u8fdb\u7a0b\u7684\u65b9\u5f0f\u8fd0\u884c -h, --help \u663e\u793a supervisord \u547d\u4ee4\u7684\u5e2e\u52a9 -u USER, --user=USER \u4ee5\u6307\u5b9a\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c -m OCTAL, --umask=OCTAL \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u7f3a\u7701\u6743\u9650 -v, --version \u663e\u793a supervisord \u7684\u7248\u672c -d PATH, --directory=PATH \u5728\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u65b9\u5f0f\u542f\u52a8 supervisord \u4e4b\u524d\uff0c\u628a\u5de5\u4f5c\u76ee\u5f55\u5207\u6362\u5230\u8be5\u76ee\u5f55 -l FILE, --logfile=FILE \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84 -y BYTES, --logfile_maxbytes=BYTES \u6307\u5b9a\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6587\u4ef6\u5927\u5c0f\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u81ea\u52a8\u5206\u6587\u4ef6\u5907\u4efd\u3002\"1\"\u8868\u793a1\u5b57\u8282\uff0c\u53ef\u4ee5\u5199\u6210\"1MB\", \"1GB\"\u7684\u5f62\u5f0f -z NUM, --logfile_backups=NUM \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6570\u91cf\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u8986\u76d6\u6700\u65e9\u7684\u90a3\u4e2a\u3002 -e LEVEL, --loglevel=LEVEL \u6307\u5b9a\u8f93\u51fa\u7684\u65e5\u5fd7\u7b49\u7ea7\u3002 -j FILE, --pidfile=FILE \u6307\u5b9a supervisord \u7684 pid \u6587\u4ef6\u8def\u5f84 -i STRING, --identifier=STRING identifier used for this instance of supervisord -q PATH, --childlogdir=PATH \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u6587\u4ef6\u76ee\u5f55 -k, --nocleanup \u542f\u52a8\u65f6\u4e0d\u6e05\u9664\u65e7\u7684 AUTO \u7684\u65e5\u5fd7\u6587\u4ef6 -a NUM, --minfds=NUM the minimum number of file descriptors for start success -t, --strip_ansi strip ansi escape codes from process output --profile_options=LIST run supervisord under profiler and output results based on OPTIONS, which is a comma-sep'd list of 'cumulative', 'calls', and/or 'callers', e.g. 'cumulative,callers') --minprocs=NUM the minimum number of processes available for start success","title":"supervisord"},{"location":"supervisor/supervisord/#","text":"","title":"supervisord"},{"location":"supervisor/supervisord/#introduction","text":"supervisor \u7684\u670d\u52a1\u7aef\u53eb\u4f5c supervisord \uff0c\u5b83\u5728\u81ea\u5df1\u7684\u8c03\u7528\u4e2d\u542f\u52a8\u5b50\u7a0b\u5e8f\u3001\u54cd\u5e94\u5ba2\u6237\u7aef\u7684\u547d\u4ee4\u3001\u91cd\u542f\u5d29\u6e83\u6216\u7ed3\u675f\u7684\u5b50\u8fdb\u7a0b\u3001\u8bb0\u5f55\u5b50\u8fdb\u7a0b\u7684\u8f93\u51fa stdout \u548c stderr \u3001\u751f\u6210\u548c\u5904\u7406\u5b50\u8fdb\u7a0b\u751f\u547d\u5468\u671f\u4e2d\u5404\u4e2a\u4e8b\u4ef6\u76f8\u5e94\u7684 events \u3002 \u670d\u52a1\u7aef\u8fdb\u7a0b\u9700\u8981\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u5e38\uff0c\u914d\u7f6e\u6587\u4ef6\u7684\u6587\u4ef6\u8def\u5f84\u662f /etc/supervisord.conf \u3002\u8be5\u914d\u7f6e\u6587\u4ef6\u662f\u4e00\u4e2a Windows-INI \u98ce\u683c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u7531\u4e8e==\u5b83\u53ef\u80fd\u5305\u542b\u4e86\u660e\u6587\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801==\uff0c\u56e0\u6b64\u9700\u8981\u7ed9\u5b83\u8bbe\u7f6e\u4e00\u4e2a\u6070\u5f53\u7684\u6743\u9650\u4ee5\u4fdd\u8bc1\u6587\u4ef6\u7684\u5b89\u5168\u6027\u3002","title":"1. Introduction \u7b80\u4ecb"},{"location":"supervisor/supervisord/#running","text":"","title":"2. Running supervisord \u8fd0\u884c"},{"location":"supervisor/supervisord/#command-line-options","text":"options meanings -c FILE, --configuration=FILE \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84 -n, --nodaemon \u4ee5\u975e\u5b88\u62a4\u8fdb\u7a0b\u7684\u65b9\u5f0f\u8fd0\u884c -h, --help \u663e\u793a supervisord \u547d\u4ee4\u7684\u5e2e\u52a9 -u USER, --user=USER \u4ee5\u6307\u5b9a\u7528\u6237\u7684\u8eab\u4efd\u8fd0\u884c -m OCTAL, --umask=OCTAL \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u7f3a\u7701\u6743\u9650 -v, --version \u663e\u793a supervisord \u7684\u7248\u672c -d PATH, --directory=PATH \u5728\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u65b9\u5f0f\u542f\u52a8 supervisord \u4e4b\u524d\uff0c\u628a\u5de5\u4f5c\u76ee\u5f55\u5207\u6362\u5230\u8be5\u76ee\u5f55 -l FILE, --logfile=FILE \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u7684\u8def\u5f84 -y BYTES, --logfile_maxbytes=BYTES \u6307\u5b9a\u5355\u4e2a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6587\u4ef6\u5927\u5c0f\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u81ea\u52a8\u5206\u6587\u4ef6\u5907\u4efd\u3002\"1\"\u8868\u793a1\u5b57\u8282\uff0c\u53ef\u4ee5\u5199\u6210\"1MB\", \"1GB\"\u7684\u5f62\u5f0f -z NUM, --logfile_backups=NUM \u6307\u5b9a\u65e5\u5fd7\u6587\u4ef6\u6700\u5927\u7684\u6570\u91cf\uff0c\u8d85\u51fa\u4e4b\u540e\u4f1a\u8986\u76d6\u6700\u65e9\u7684\u90a3\u4e2a\u3002 -e LEVEL, --loglevel=LEVEL \u6307\u5b9a\u8f93\u51fa\u7684\u65e5\u5fd7\u7b49\u7ea7\u3002 -j FILE, --pidfile=FILE \u6307\u5b9a supervisord \u7684 pid \u6587\u4ef6\u8def\u5f84 -i STRING, --identifier=STRING identifier used for this instance of supervisord -q PATH, --childlogdir=PATH \u6307\u5b9a\u5b50\u8fdb\u7a0b\u7684\u65e5\u5fd7\u6587\u4ef6\u76ee\u5f55 -k, --nocleanup \u542f\u52a8\u65f6\u4e0d\u6e05\u9664\u65e7\u7684 AUTO \u7684\u65e5\u5fd7\u6587\u4ef6 -a NUM, --minfds=NUM the minimum number of file descriptors for start success -t, --strip_ansi strip ansi escape codes from process output --profile_options=LIST run supervisord under profiler and output results based on OPTIONS, which is a comma-sep'd list of 'cumulative', 'calls', and/or 'callers', e.g. 'cumulative,callers') --minprocs=NUM the minimum number of processes available for start success","title":"2-1. supervisord Command-Line Options \u547d\u4ee4\u884c\u9009\u9879"}]}